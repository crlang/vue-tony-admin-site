var E=(a,i,e)=>new Promise((m,n)=>{var u=r=>{try{o(e.next(r))}catch(t){n(t)}},d=r=>{try{o(e.throw(r))}catch(t){n(t)}},o=r=>r.done?m(r.value):Promise.resolve(r.value).then(u,d);o((e=e.apply(a,i)).next())});import{y as _,a as v,b as L,U as h,z as f,A as l,F as w,a3 as T,I as C,J as A,R as p,H as c,u as s,P as g,Q as b}from"./ex-pkg-@vue.dfd8e273.js";import{ar as B,e as D,a$ as F,f as R}from"./index.54cb4205.js";import{getLogColumns as S}from"./data.9fb5ddc2.js";import{B as z}from"./TableImg.e594892d.js";import{u as I}from"./useTable.b1bdaa18.js";import{c6 as V}from"./ex-pkg-vendor.ab2d902e.js";import{z as j}from"./ex-pkg-element-plus.e1a09009.js";import"./ex-pkg-@element-plus.e8ce6c8b.js";import"./ex-pkg-@vueuse.e5d644bd.js";import"./ex-pkg-@iconify.345c6dc9.js";import"./ex-pkg-mockjs.0bec78f1.js";import"./ex-pkg-@popperjs.f3a17871.js";import"./BasicForm.dbe2a646.js";import"./index.6e61b516.js";import"./index.fa6837be.js";import"./index.e1bb3c50.js";import"./useAttrs.e78ff19a.js";import"./useWindowSizeFn.732207ab.js";import"./propTypes.6bd760c6.js";import"./download.47e0cd9b.js";import"./base64Conver.bb012c73.js";import"./index.ff321de2.js";import"./ex-pkg-@zxcvbn-ts.dfbde445.js";import"./useForm.e09ab490.js";import"./index.d0dc1aab.js";var x;(function(a){a.Error="/error"})(x||(x={}));const M=()=>B.get({url:x.Error}),H={class:"p-4"},N=["src"],le=_({setup(a){const i=v([]),{t:e}=D(),m=F(),[n,{setTableData:u}]=I({title:e("sys.errorLog.tableTitle"),columns:S()});L(()=>m.getErrorLogInfoList,k=>{h(()=>{u(V(k))})},{immediate:!0});const{createMessage:d}=R();d.info(e("sys.errorLog.enableMessage"));function o(){throw new Error("fire vue error!")}function r(){i.value.push(`${new Date().getTime()}.png`)}function t(){return E(this,null,function*(){yield M()})}return(k,$)=>(f(),l("div",H,[(f(!0),l(w,null,T(i.value,y=>C((f(),l("img",{key:y,src:y},null,8,N)),[[A,!1]])),128)),p(s(z),{onRegister:s(n),class:"error-handle-table"},{toolbar:c(()=>[p(s(j),{onClick:o,type:"primary"},{default:c(()=>[g(b(s(e)("sys.errorLog.fireVueError")),1)]),_:1}),p(s(j),{onClick:r,type:"primary"},{default:c(()=>[g(b(s(e)("sys.errorLog.fireResourceError")),1)]),_:1}),p(s(j),{onClick:t,type:"primary"},{default:c(()=>[g(b(s(e)("sys.errorLog.fireAjaxError")),1)]),_:1})]),_:1},8,["onRegister"])]))}});export{le as default};
