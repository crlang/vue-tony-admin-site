var N=Object.defineProperty;var T=Object.getOwnPropertySymbols;var U=Object.prototype.hasOwnProperty,X=Object.prototype.propertyIsEnumerable;var H=(e,t,r)=>t in e?N(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,$=(e,t)=>{for(var r in t||(t={}))U.call(t,r)&&H(e,r,t[r]);if(T)for(var r of T(t))X.call(t,r)&&H(e,r,t[r]);return e};import{d as _,r as d,D as V,c as E,ab as x,c4 as k,U as K,M as q,Y as G,R as z,b as s,al as J,_ as I,e as M,o as h,f as A,g as Q,j,i as O,I as Y,n as w,J as P,K as Z,am as ee,h as L,k as te,l as re,aC as le}from"./index.a3be5a06.js";import{a as R,r as F}from"./index.80d0f5e3.js";var ne={table:{fetchSetting:{pageField:"page",sizeField:"pageSize",listField:"items",totalField:"total"},defaultPageAlign:"left",defaultPageSize:20,pageSizeOptions:["10","20","30","50","100"],pageLayoutOptions:"total, prev, pager, next, jumper",defaultSortFn:e=>{const{prop:t,order:r}=e;return{order:r,prop:t}},defaultFilterFn:e=>e},form:{defaultItemSize:4,defaultItemGutter:16,fullColumnSize:24},upload:{urlField:"url"},scrollbar:{native:!1}};const oe={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}};function se({move:e,size:t,bar:r}){const o={},l=`translate${r.axis}(${e}%)`;return o[r.size]=t,o.transform=l,o.msTransform=l,o.webkitTransform=l,o}function ae(e,t){return Object.assign(e,t)}function ie(e){const t={};for(let r=0;r<e.length;r++)e[r]&&ae(t,e[r]);return t}var ce=_({name:"Bar",props:{vertical:Boolean,size:String,move:Number},setup(e){const t=K(),r=d(),o=V("scroll-bar-wrap",{}),l=E(()=>oe[e.vertical?"vertical":"horizontal"]),n=d({}),c=d(),m=i=>{var p;i.ctrlKey||i.button===2||((p=window.getSelection())==null||p.removeAllRanges(),a(i),n.value[l.value.axis]=i.currentTarget[l.value.offset]-(i[l.value.client]-i.currentTarget.getBoundingClientRect()[l.value.direction]))},u=i=>{var g;const p=Math.abs(i.target.getBoundingClientRect()[l.value.direction]-i[l.value.client]),S=r.value[l.value.offset]/2,y=(p-S)*100/((g=t==null?void 0:t.vnode.el)==null?void 0:g[l.value.offset]);o.value[l.value.scroll]=y*o.value[l.value.scrollSize]/100},a=i=>{i.stopImmediatePropagation(),c.value=!0,document.addEventListener("mousemove",f,!1),document.addEventListener("mouseup",v,!1),document.onselectstart=()=>!1},f=i=>{var C,B;if(c.value===!1)return;const p=n.value[l.value.axis];if(!p)return;const S=(((C=t==null?void 0:t.vnode.el)==null?void 0:C.getBoundingClientRect()[l.value.direction])-i[l.value.client])*-1,y=r.value[l.value.offset]-p,g=(S-y)*100/((B=t==null?void 0:t.vnode.el)==null?void 0:B[l.value.offset]);o.value[l.value.scroll]=g*o.value[l.value.scrollSize]/100};function v(){c.value=!1,n.value[l.value.axis]=0,document.removeEventListener("mousemove",f,!1),document.onselectstart=null}return x(()=>{document.removeEventListener("mouseup",v,!1)}),()=>k("div",{class:["scrollbar__bar","is-"+l.value.key],onMousedown:u},k("div",{ref:r,class:"scrollbar__thumb",onMousedown:m,style:se({size:e.size,move:e.move,bar:l.value})}))}});const{scrollbar:b}=ne;var D;const ue=_({name:"Scrollbar",components:{Bar:ce},props:{native:{type:Boolean,default:(D=b==null?void 0:b.native)!=null?D:!1},wrapStyle:{type:[String,Array],default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array],default:""},noresize:Boolean,tag:{type:String,default:"div"}},setup(e){const t=d("0"),r=d("0"),o=d(0),l=d(0),n=d(),c=d();q("scroll-bar-wrap",n);const m=E(()=>Array.isArray(e.wrapStyle)?ie(e.wrapStyle):e.wrapStyle),u=()=>{e.native||(l.value=s(n).scrollTop*100/s(n).clientHeight,o.value=s(n).scrollLeft*100/s(n).clientWidth)},a=()=>{if(!s(n))return;const f=s(n).clientHeight*100/s(n).scrollHeight,v=s(n).clientWidth*100/s(n).scrollWidth;r.value=f<100?f+"%":"",t.value=v<100?v+"%":""};return G(()=>{e.native||(z(a),e.noresize||(R(s(c),a),R(s(n),a),addEventListener("resize",a)))}),J(()=>{e.native||e.noresize||(F(s(c),a),F(s(n),a),removeEventListener("resize",a))}),{moveX:o,moveY:l,sizeWidth:t,sizeHeight:r,style:m,wrap:n,resize:c,update:a,handleScroll:u}}}),fe={class:"scrollbar"};function ve(e,t,r,o,l,n){const c=M("bar");return h(),A("div",fe,[Q("div",{ref:"wrap",class:w([e.wrapClass,"scrollbar__wrap",e.native?"":"scrollbar__wrap--hidden-default"]),style:P(e.style),onScroll:t[0]||(t[0]=(...m)=>e.handleScroll&&e.handleScroll(...m))},[(h(),j(Z(e.tag),{ref:"resize",class:w(["scrollbar__view",e.viewClass]),style:P(e.viewStyle)},{default:O(()=>[Y(e.$slots,"default")]),_:3},8,["class","style"]))],38),e.native?te("",!0):(h(),A(ee,{key:0},[L(c,{move:e.moveX,size:e.sizeWidth},null,8,["move","size"]),L(c,{vertical:"",move:e.moveY,size:e.sizeHeight},null,8,["move","size"])],64))])}var de=I(ue,[["render",ve]]);const me=(e,t,r,o)=>(e/=o/2,e<1?r/2*e*e+t:(e--,-r/2*(e*(e-2)-1)+t)),pe=(e,t)=>{e.scrollTop=t},ge=e=>e.scrollTop;function W({el:e,to:t,duration:r=500,callback:o}){const l=d(!1),n=ge(e),c=t-n,m=20;let u=0;r=r!=null?r:500;const a=function(){if(!s(l))return;u+=m;const i=me(u,n,c,r);pe(e,i),u<r&&s(l)?requestAnimationFrame(a):typeof o=="function"&&o()};return{start:()=>{l.value=!0,a()},stop:()=>{l.value=!1}}}const he=_({name:"ScrollContainer",components:{Scrollbar:de},setup(e,{expose:t}){const r=d(null),{prefixCls:o}=re("scroll-container");function l(u,a=500){const f=s(r);!f||z(()=>{const v=s(f.wrap);if(!v)return;const{start:i}=W({el:v,to:u,duration:a});i()})}function n(){const u=s(r);return u?u.wrap:null}function c(){const u=s(r);!u||z(()=>{const a=s(u.wrap);if(!a)return;const f=a.scrollHeight,{start:v}=W({el:a,to:f});v()})}const m={wrap:null,scrollTo:l,scrollBottom:c,getScrollWrap:n};return t(m),$({prefixCls:o,scrollbarRef:r},m)}});function Se(e,t,r,o,l,n){const c=M("Scrollbar");return h(),j(c,{ref:"scrollbarRef",class:w(e.prefixCls)},{default:O(()=>[Y(e.$slots,"default")]),_:3},8,["class"])}var ye=I(he,[["render",Se]]);const _e=le(ye);export{_e as S,ne as c,W as u};
