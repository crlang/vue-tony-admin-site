var f=(e,c,o)=>new Promise((d,a)=>{var m=s=>{try{r(o.next(s))}catch(n){a(n)}},t=s=>{try{r(o.throw(s))}catch(n){a(n)}},r=s=>s.done?d(s.value):Promise.resolve(s.value).then(m,t);r((o=o.apply(e,c)).next())});import{_ as B,e as y,u as w,h as C}from"./index.ec0491db.js";import{B as F,a as L}from"./index.e1f32d21.js";import{u as S}from"./lock.3818fbb1.js";import{h as $}from"./header.7c507bcf.js";import{B as M}from"./BasicForm.a29f9983.js";import{u as I}from"./useForm.94072f41.js";import{z as R}from"./ex-pkg-element-plus.7627c250.js";import{y as N,l as g,Z as u,z,G as E,H as k,K as l,L as p,Q as j,R as _,P as V}from"./ex-pkg-@vue.dfd8e273.js";import"./ex-pkg-vendor.0d33d667.js";import"./ex-pkg-xlsx.9db082f2.js";import"./ex-pkg-mockjs.907334ba.js";import"./ex-pkg-@element-plus.e8ce6c8b.js";import"./ex-pkg-@vueuse.e5d644bd.js";import"./ex-pkg-@iconify.345c6dc9.js";import"./ex-pkg-@popperjs.f3a17871.js";import"./useAttrs.e78ff19a.js";import"./useWindowSizeFn.732207ab.js";import"./index.51d433bf.js";import"./index.cb296287.js";import"./propTypes.525da5ca.js";import"./uuid.2b29000c.js";import"./download.de577928.js";import"./base64Conver.bb012c73.js";import"./index.b234c3eb.js";import"./ex-pkg-@zxcvbn-ts.dfbde445.js";const P=N({name:"LockModal",components:{ElButton:R,BasicModal:F,BasicForm:M},props:{visible:{type:Boolean,default:!1}},setup(){const{t:e}=y(),{prefixCls:c}=w("header-lock-modal"),o=C(),d=S(),a=g(()=>{var i;return(i=o.getUserInfo)==null?void 0:i.realName}),[m,{closeModal:t}]=L(),[r,{validateField:s,resetFields:n,getFieldsValue:b}]=I({showActionButtonGroup:!1,schemas:[{field:"password",label:"",component:"ElInput",componentProps:{type:"password",placeholder:e("layout.header.lockScreenPassword")},required:!0}]});function h(){return f(this,null,function*(){yield s();const x=b().password;t(),d.setLockInfo({isLock:!0,pwd:x}),yield n()})}const v=g(()=>{const{avatar:i}=o.getUserInfo;return i||$});return{prefixCls:c,getRealName:a,register:m,registerForm:r,avatar:v,t:e,handleLock:h}}}),U=["src"];function A(e,c,o,d,a,m){const t=u("BasicForm"),r=u("ElButton"),s=u("BasicModal");return z(),E(s,{title:e.t("layout.header.lockScreen"),onRegister:e.register,width:600,showFooter:!1,"custom-class":e.prefixCls},{default:k(()=>[l("div",{class:p(`${e.prefixCls}__entry`)},[l("div",{class:p(`${e.prefixCls}__header`)},[l("img",{src:e.avatar,class:p(`${e.prefixCls}__header-img`)},null,10,U),l("p",{class:p(`${e.prefixCls}__header-name`)},j(e.getRealName),3)],2),_(t,{onRegister:e.registerForm},null,8,["onRegister"]),l("div",{class:p(`${e.prefixCls}__footer`)},[_(r,{type:"primary",class:"mt-2",onClick:e.handleLock},{default:k(()=>[V(j(e.t("layout.header.lockScreenBtn")),1)]),_:1},8,["onClick"])],2)],2)]),_:1},8,["title","onRegister","custom-class"])}var ue=B(P,[["render",A]]);export{ue as default};
