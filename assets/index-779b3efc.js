var F=(o,r,e)=>new Promise((u,s)=>{var i=t=>{try{n(e.next(t))}catch(a){s(a)}},m=t=>{try{n(e.throw(t))}catch(a){s(a)}},n=t=>t.done?u(t.value):Promise.resolve(t.value).then(i,m);n((e=e.apply(o,r)).next())});import{B as w}from"./index-a82db265.js";import{C as h}from"./index-bf00342a.js";import{S as g}from"./index-84c717f3.js";import{K as P,_ as C}from"./index-795cdaa0.js";import{u as b}from"./useForm-af19a7b1.js";import{E as B,ac as p,p as E,I as S,J as l,S as c}from"./vue-d691a816.js";import"./index-6ee1af83.js";import"./index-e82f403d.js";import"./elementui-66980f2a.js";import"./index-9c67be75.js";import"./tsxHelper-f44f22cd.js";import"./useWindowSizeFn-f51aba85.js";import"./index-22989de9.js";import"./index-d5a424e4.js";import"./index-02c8116c.js";const A=[{field:"passwordOld",label:"当前密码",component:"ElInput",componentProps:{showPassword:!0},required:!0},{field:"passwordNew",label:"新密码",component:"ElInput",slot:"newpassword",componentProps:{placeholder:"新密码"},rules:[{required:!0,message:"请输入新密码"}]},{field:"confirmPassword",label:"确认密码",component:"ElInput",componentProps:{showPassword:!0},dynamicRules:({values:o})=>[{required:!0,validator:(r,e)=>e?e!==o.passwordNew?Promise.reject("两次输入的密码不一致!"):Promise.resolve():Promise.reject("密码不能为空")}]}],x=B({name:"ChangePassword",components:{BasicForm:w,CollapseContainer:h,StrengthMeter:g},setup(){const{createMessage:o}=P(),[r,{validate:e,resetFields:u}]=b({size:"large",labelWidth:100,colProps:{span:16},schemas:A,submitButtonOptions:{btnText:"确认"},resetButtonOptions:{btnText:"重置"}});function s(){return F(this,null,function*(){try{yield e(),o.success("重置成功")}catch(i){}})}return{register:r,resetFields:u,handleSubmit:s}}});function M(o,r,e,u,s,i){const m=p("StrengthMeter"),n=p("BasicForm"),t=p("CollapseContainer"),a=p("PageWrapper");return E(),S(a,{title:"修改当前用户密码",description:"修改成功后会自动退出当前登录！"},{default:l(()=>[c(t,{title:"基础示例",canExpan:!1},{default:l(()=>[c(n,{onRegister:o.register,onSubmit:o.handleSubmit,onReset:o.resetFields},{newpassword:l(({model:d,field:f})=>[c(m,{modelValue:d[f],"onUpdate:modelValue":_=>d[f]=_},null,8,["modelValue","onUpdate:modelValue"])]),_:1},8,["onRegister","onSubmit","onReset"])]),_:1})]),_:1})}const J=C(x,[["render",M]]);export{J as default};
