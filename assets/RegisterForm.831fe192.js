import{S as B}from"./index.ab33f865.js";import{C as w}from"./index.07862fa3.js";import{u as k,a as b,L as D,b as x}from"./useLogin.4d63aad6.js";import{E as t,a as R}from"./index.c6940f23.js";import{d as v,r as i,s as A,c as S,b as e,o as _,k as U,i as s,h as l,E as d,j as m,z as p,l as h,B as f}from"./index.a812ffa9.js";import{E as L}from"./index.a7c381f2.js";import"./form-item.7fe87d07.js";import"./isEqual.f6c0098b.js";import"./_baseIsEqual.bce9394a.js";const J=v({__name:"RegisterForm",setup(I){const{handleBackLogin:c,getLoginState:E}=k(),n=i(),r=i(!1),o=A({account:"",password:"",confirmPassword:"",mobile:"",sms:"",policy:!1}),{getFormRules:C}=b(o),{validForm:F}=x(n),V=S(()=>e(E)===D.REGISTER);async function g(){if(!!await F())try{r.value=!0,f({title:"\u6CE8\u518C\u6210\u529F",message:"\u6B22\u8FCE\u52A0\u5165",type:"success"})}catch(u){f({title:"\u9519\u8BEF\u63D0\u793A",message:u.message||"\u7F51\u7EDC\u5F02\u5E38\uFF0C\u8BF7\u68C0\u67E5\u60A8\u7684\u7F51\u7EDC\u8FDE\u63A5\u662F\u5426\u6B63\u5E38",type:"error"})}finally{r.value=!1}}return(y,u)=>e(V)?(_(),U(e(R),{key:0,model:o,rules:e(C),ref_key:"formRef",ref:n},{default:s(()=>[l(e(t),{prop:"account"},{default:s(()=>[l(e(d),{modelValue:o.account,"onUpdate:modelValue":u[0]||(u[0]=a=>o.account=a),placeholder:"\u8D26\u53F7"},null,8,["modelValue"])]),_:1}),l(e(t),{prop:"mobile"},{default:s(()=>[l(e(d),{modelValue:o.mobile,"onUpdate:modelValue":u[1]||(u[1]=a=>o.mobile=a),placeholder:"\u624B\u673A\u53F7\u7801"},null,8,["modelValue"])]),_:1}),l(e(t),{prop:"sms"},{default:s(()=>[l(e(w),{modelValue:o.sms,"onUpdate:modelValue":u[2]||(u[2]=a=>o.sms=a),placeholder:"\u77ED\u4FE1\u9A8C\u8BC1\u7801"},null,8,["modelValue"])]),_:1}),l(e(t),{prop:"password"},{default:s(()=>[l(e(B),{modelValue:o.password,"onUpdate:modelValue":u[3]||(u[3]=a=>o.password=a),placeholder:"\u5BC6\u7801"},null,8,["modelValue"])]),_:1}),l(e(t),{prop:"confirmPassword"},{default:s(()=>[l(e(d),{modelValue:o.confirmPassword,"onUpdate:modelValue":u[4]||(u[4]=a=>o.confirmPassword=a),placeholder:"\u786E\u8BA4\u5BC6\u7801",clearable:"","show-password":""},null,8,["modelValue"])]),_:1}),l(e(t),{prop:"policy"},{default:s(()=>[l(e(L),{modelValue:o.policy,"onUpdate:modelValue":u[5]||(u[5]=a=>o.policy=a),checked:o.policy},{default:s(()=>[m("\u6211\u540C\u610Fxxx\u9690\u79C1\u653F\u7B56")]),_:1},8,["modelValue","checked"])]),_:1}),l(e(p),{type:"primary",class:"login--submit",onClick:g,loading:r.value,disabled:o.policy===!1},{default:s(()=>[m("\u6CE8\u518C")]),_:1},8,["loading","disabled"]),l(e(p),{onClick:e(c),class:"login--back"},{default:s(()=>[m("\u8FD4\u56DE")]),_:1},8,["onClick"])]),_:1},8,["model","rules"])):h("",!0)}});export{J as default};
