var _=Object.defineProperty;var m=Object.getOwnPropertySymbols;var M=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable;var d=(o,t,e)=>t in o?_(o,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[t]=e,f=(o,t)=>{for(var e in t||(t={}))M.call(t,e)&&d(o,e,t[e]);if(m)for(var e of m(t))v.call(t,e)&&d(o,e,t[e]);return o};var p=(o,t,e)=>new Promise((l,a)=>{var i=s=>{try{u(e.next(s))}catch(r){a(r)}},c=s=>{try{u(e.throw(s))}catch(r){a(r)}},u=s=>s.done?l(s.value):Promise.resolve(s.value).then(i,c);u((e=e.apply(o,t)).next())});import{B as D,a as y}from"./index.14049971.js";import{B as w}from"./BasicForm.e762b6e5.js";import{u as C}from"./useForm.51dec503.js";import{k as P,c0 as S,x as j,M as k,u as F,y as N,X as b,z as $,Y as R,a2 as I,$ as T,a0 as x}from"./vendor.6c1ff918.js";import{a as V}from"./system.4141d536.js";import{_ as q}from"./index.dea57c76.js";const K=[{label:"\u90E8\u95E8\u540D\u79F0",prop:"deptName",width:160,align:"left"},{label:"\u6392\u5E8F",prop:"orderNo",width:50},{label:"\u72B6\u6001",prop:"status",width:80,customRender:({record:o})=>{const e=~~o.status==0,l=e?"success":"danger",a=e?"\u542F\u7528":"\u505C\u7528";return P(S,{type:l},()=>a)}},{label:"\u521B\u5EFA\u65F6\u95F4",prop:"createTime",width:180},{label:"\u5907\u6CE8",prop:"remark"}],Q=[{field:"deptName",label:"\u90E8\u95E8\u540D\u79F0",component:"ElInput",colProps:{span:8}},{field:"status",label:"\u72B6\u6001",component:"ElSelect",componentProps:{options:[{label:"\u542F\u7528",value:"0"},{label:"\u505C\u7528",value:"1"}]},colProps:{span:8}}],O=[{field:"deptName",label:"\u90E8\u95E8\u540D\u79F0",component:"ElInput",required:!0},{field:"orderNo",label:"\u6392\u5E8F",component:"ElInputNumber",defaultValue:0,required:!0},{field:"status",label:"\u72B6\u6001",component:"ElRadioButton",defaultValue:"0",componentProps:{options:[{label:"\u542F\u7528",value:"0"},{label:"\u505C\u7528",value:"1"}]},required:!0},{label:"\u5907\u6CE8",field:"remark",component:"ElInput",componentProps:{type:"textarea"}}],z=j({name:"DeptModal",components:{BasicModal:D,BasicForm:w},emits:["success","register"],setup(o,{emit:t}){const e=k(!0),[l,{resetFields:a,setFieldsValue:i,updateSchema:c,validate:u}]=C({labelWidth:100,schemas:O,showActionButtonGroup:!1}),[s,{setModalProps:r,closeModal:E}]=y(n=>p(this,null,function*(){a(),r({confirmButton:{loading:!1}}),e.value=!!(n==null?void 0:n.isUpdate),F(e)&&i(f({},n.record));const h=yield V();c({field:"parentDept",componentProps:{treeData:h}})})),g=N(()=>F(e)?"\u7F16\u8F91\u90E8\u95E8":"\u65B0\u589E\u90E8\u95E8");function B(){return p(this,null,function*(){try{const n=yield u();r({confirmButton:{loading:!0}}),console.log(n),E(),t("success")}finally{r({confirmButton:{loading:!1}})}})}return{registerModal:s,registerForm:l,getTitle:g,handleSubmit:B}}});function A(o,t,e,l,a,i){const c=b("BasicForm"),u=b("BasicModal");return $(),R(u,x(o.$attrs,{onRegister:o.registerModal,title:o.getTitle,onOk:o.handleSubmit}),{default:I(()=>[T(c,{onRegister:o.registerForm},null,8,["onRegister"])]),_:1},16,["onRegister","title","onOk"])}var U=q(z,[["render",A]]),Z=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:U});export{U as D,Z as a,K as c,Q as s};
