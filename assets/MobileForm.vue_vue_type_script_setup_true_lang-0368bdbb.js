var y=(g,f,a)=>new Promise((r,i)=>{var d=e=>{try{n(a.next(e))}catch(m){i(m)}},t=e=>{try{n(a.throw(e))}catch(m){i(m)}},n=e=>e.done?r(e.value):Promise.resolve(e.value).then(d,t);n((a=a.apply(g,f)).next())});import{E,r as _,W as b,f as v,u as o,p as F,I as C,J as u,S as l,af as L,P as k,O as w}from"./vue-d691a816.js";import{C as I}from"./index-e91b177b.js";import{u as S,a as h,L as x,b as B}from"./useLogin-74691b1d.js";import{a1 as c,Z as N,n as R,a3 as K,a as V}from"./elementui-66980f2a.js";const P=E({__name:"MobileForm",setup(g){const{getLoginState:f}=S(),a=_(),r=_(!1),{getFormRules:i}=h(),{validForm:d}=B(a),t=b({mobile:"",sms:""}),n=v(()=>o(f)===x.MOBILE);function e(){return y(this,null,function*(){if(yield d())try{r.value=!0,V({title:"登录成功",message:"欢迎回来",type:"success"})}catch(s){V({title:"错误提示",message:s.message||"网络异常，请检查您的网络连接是否正常",type:"error"})}finally{r.value=!1}})}return(m,s)=>o(n)?(F(),C(o(K),{key:0,model:t,rules:o(i),ref_key:"formRef",ref:a},{default:u(()=>[l(o(c),{prop:"mobile"},{default:u(()=>[l(o(N),{modelValue:t.mobile,"onUpdate:modelValue":s[0]||(s[0]=p=>t.mobile=p),placeholder:"手机号码"},null,8,["modelValue"])]),_:1}),l(o(c),{prop:"sms"},{default:u(()=>[l(o(I),{modelValue:t.sms,"onUpdate:modelValue":s[1]||(s[1]=p=>t.sms=p),placeholder:"短信验证码",onKeypress:L(e,["enter"])},null,8,["modelValue","onKeypress"])]),_:1}),l(o(c),null,{default:u(()=>[l(o(R),{type:"primary",onClick:e,loading:r.value,class:"login--submit"},{default:u(()=>[k("登录")]),_:1},8,["loading"])]),_:1})]),_:1},8,["model","rules"])):w("",!0)}});export{P as _};
