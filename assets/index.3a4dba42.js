import{aW as b,aX as x,aY as y,aZ as g,_ as W,ab as v}from"./index.c38c7de5.js";import{M as w,bn as $,u as l,ah as B,af as I,x as M,aI as R,Y as C,z as j,Z as P,a3 as d,a0 as f,ab as _}from"./vendor.041d4bc7.js";import{P as S}from"./index.14ff926d.js";import"./useMenuSetting.8bd75ac6.js";const z=Symbol("watermark-dom");function E(n=w(document.body)){const a=y(function(){const t=l(n);if(!t)return;const{clientHeight:e,clientWidth:o}=t;s({height:e,width:o})}),c=z.toString(),i=$(),m=()=>{const t=l(i);i.value=void 0;const e=l(n);!e||(t&&e.removeChild(t),b(e,a))};function k(t){const e=document.createElement("canvas"),o=300,u=240;Object.assign(e,{width:o,height:u});const r=e.getContext("2d");return r&&(r.rotate(-20*Math.PI/120),r.font="15px Vedana",r.fillStyle="rgba(0, 0, 0, 0.15)",r.textAlign="left",r.textBaseline="middle",r.fillText(t,o/20,u)),e.toDataURL("image/png")}function s(t={}){const e=l(i);!e||(g(t.width)&&(e.style.width=`${t.width}px`),g(t.height)&&(e.style.height=`${t.height}px`),g(t.str)&&(e.style.background=`url(${k(t.str)}) left top repeat`))}const p=t=>{if(l(i))return s({str:t}),c;const e=document.createElement("div");i.value=e,e.id=c,e.style.pointerEvents="none",e.style.top="0px",e.style.left="0px",e.style.position="absolute",e.style.zIndex="100000";const o=l(n);if(!o)return c;const{clientHeight:u,clientWidth:r}=o;return s({str:t,width:r,height:u}),o.appendChild(e),c};function h(t){p(t),x(document.documentElement,a),I()&&B(()=>{m()})}return{setWatermark:h,clear:m}}const L=M({components:{ElButton:R,CollapseContainer:v,PageWrapper:S},setup(){const{setWatermark:n,clear:a}=E();return{setWatermark:n,clear:a}}}),N=_("Create"),T=_("Clear"),V=_("Reset");function A(n,a,c,i,m,k){const s=C("el-button"),p=C("CollapseContainer"),h=C("PageWrapper");return j(),P(h,{title:"\u6C34\u5370\u793A\u4F8B"},{default:d(()=>[f(p,{class:"w-full h-32 bg-white rounded-md",title:"Global WaterMark"},{default:d(()=>[f(s,{type:"primary",class:"mr-2",onClick:a[0]||(a[0]=t=>n.setWatermark("WaterMark Info"))},{default:d(()=>[N]),_:1}),f(s,{type:"danger",class:"mr-2",onClick:n.clear},{default:d(()=>[T]),_:1},8,["onClick"]),f(s,{type:"warning",class:"mr-2",onClick:a[1]||(a[1]=t=>n.setWatermark("WaterMark Info New"))},{default:d(()=>[V]),_:1})]),_:1})]),_:1})}var Z=W(L,[["render",A]]);export{Z as default};
