var I=Object.defineProperty;var g=Object.getOwnPropertySymbols;var P=Object.prototype.hasOwnProperty,G=Object.prototype.propertyIsEnumerable;var v=(r,t,e)=>t in r?I(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e,m=(r,t)=>{for(var e in t||(t={}))P.call(t,e)&&v(r,e,t[e]);if(g)for(var e of g(t))G.call(t,e)&&v(r,e,t[e]);return r};var p=(r,t,e)=>new Promise((u,l)=>{var R=o=>{try{d(e.next(o))}catch(s){l(s)}},f=o=>{try{d(e.throw(o))}catch(s){l(s)}},d=o=>o.done?u(o.value):Promise.resolve(o.value).then(R,f);d((e=e.apply(r,t)).next())});import{r as S,f as a,u as i}from"./vue-d691a816.js";var T=(r=>(r[r.LOGIN=0]="LOGIN",r[r.REGISTER=1]="REGISTER",r[r.RESET_PASSWORD=2]="RESET_PASSWORD",r[r.MOBILE=3]="MOBILE",r[r.QR_CODE=4]="QR_CODE",r))(T||{});const F=S(0);function y(){function r(u){F.value=u}const t=a(()=>F.value);function e(){r(0)}return{setLoginState:r,getLoginState:t,handleBackLogin:e}}function A(r){function t(){return p(this,null,function*(){const e=i(r);return e?yield e.validate():void 0})}return{validForm:t}}function B(r){const t=a(()=>w("请输入账号")),e=a(()=>w("请输入密码")),u=a(()=>w("请输入验证码")),l=(o,s,n)=>n(s?null:new Error("勾选后才能注册")),R=(o,s,n,c)=>{if(s)if(r&&r[c]===s)n();else return n(new Error("两次输入密码不一致"));else return n(new Error("请输入密码"))},f=(o,s,n)=>{if(s)if(/^1[3,4,5,6,7,8,9][0-9]{9}$/.test(s))n();else return n(new Error("手机号码不正确"));else return n(new Error("请输入手机号码"))};return{getFormRules:a(()=>{const o=i(t),s=i(e),c={sms:i(u),mobile:[{required:!0,validator:f,trigger:"blur"}]};switch(i(F)){case 1:return m({account:o,password:s,confirmPassword:[{validator:(E,O,_)=>R(E,O,_,"password"),trigger:"blur"}],policy:[{validator:l,trigger:"change"}]},c);case 2:return m({account:o},c);case 3:return c;default:return{account:o,password:s}}})}}function w(r,t="blur"){return[{required:!0,message:r,trigger:t}]}export{T as L,B as a,A as b,y as u};
