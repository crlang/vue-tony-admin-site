import{P as B}from"./index.32d0bea9.js";import{_ as E,ab as D,h as k}from"./index.51427878.js";import{C as y,a as b}from"./index.93a8e92e.js";import{u as j}from"./upload.16cded51.js";import{h as N}from"./header.837ca3c8.js";import{x as P,M as a,Y as s,z as t,Z as w,a3 as u,a0 as r,D as l,A as i,aa as d,F as I,ab as S,u as V}from"./vendor.041d4bc7.js";import"./useMenuSetting.0a573c09.js";import"./base64Conver.bb012c73.js";const $=P({components:{PageWrapper:B,CropperImage:y,CollapseContainer:D,CropperAvatar:b},setup(){var A;const e=a(""),m=a(""),C=a(""),_=a(""),F=k(),h=a(((A=F.getUserInfo)==null?void 0:A.avatar)||""),p=a(null),n=()=>{const o=V(p);if(!o)throw new Error("cropper is Null");return o};function c(){n().croppered()}function f({imgBase64:o,imgInfo:g}){e.value=g,m.value=o}function v({imgBase64:o,imgInfo:g}){C.value=g,_.value=o}return{avatarImg:N,info:e,circleInfo:C,cropperImg:m,circleImg:_,cropperRef:p,handleCutImg:c,handleCropend:f,handleCircleCropend:v,avatar:h,uploadApi:j}}}),W={class:"p-4"},M={class:"cropper"},R=["src"],T={key:0},U=S("\u5B8C\u6210\u88C1\u526A"),z={class:"container p-4"},Y={class:"cropper"},Z=["src"],q={key:0};function G(e,m,C,_,F,h){const p=s("CropperAvatar"),n=s("CollapseContainer"),c=s("CropperImage"),f=s("Button"),v=s("PageWrapper");return t(),w(v,{title:"\u56FE\u7247\u88C1\u526A\u793A\u4F8B",content:"\u9700\u8981\u5F00\u542F\u6D4B\u8BD5\u63A5\u53E3\u670D\u52A1\u624D\u80FD\u8FDB\u884C\u4E0A\u4F20\u6D4B\u8BD5\uFF01"},{default:u(()=>[r(n,{title:"\u5934\u50CF\u88C1\u526A"},{default:u(()=>[r(p,{uploadName:"file",uploadApi:e.uploadApi,value:e.avatar},null,8,["uploadApi","value"])]),_:1}),r(n,{title:"\u77E9\u5F62\u88C1\u526A",class:"my-4"},{default:u(()=>[l("div",W,[l("div",M,[r(c,{ref:"cropperRef",realTimePreview:!1,src:e.avatarImg,onCropend:e.handleCropend},null,8,["src","onCropend"])]),e.cropperImg?(t(),i("img",{key:0,src:e.cropperImg},null,8,R)):d("",!0)]),e.cropperImg?(t(),i("p",T,"\u88C1\u526A\u540E\u56FE\u7247\u4FE1\u606F\uFF1A"+I(e.info),1)):d("",!0),r(f,{onClick:e.handleCutImg,class:"mx-4",type:"success"},{default:u(()=>[U]),_:1},8,["onClick"])]),_:1}),r(n,{title:"\u5706\u5F62\u88C1\u526A"},{default:u(()=>[l("div",z,[l("div",Y,[r(c,{ref:"refCircleCropper",src:e.avatarImg,onCropend:e.handleCircleCropend,circled:""},null,8,["src","onCropend"])]),e.circleImg?(t(),i("img",{key:0,src:e.circleImg,class:"croppered"},null,8,Z)):d("",!0)]),e.circleImg?(t(),i("p",q,"\u88C1\u526A\u540E\u56FE\u7247\u4FE1\u606F\uFF1A"+I(e.circleInfo),1)):d("",!0)]),_:1})]),_:1})}var ee=E($,[["render",G],["__scopeId","data-v-b6c3efc2"]]);export{ee as default};
