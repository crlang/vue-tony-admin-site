import{b as E,_ as T,w as G,K as B}from"./index-795cdaa0.js";import{L as N,a as $}from"./index-ac191786.js";import{a0 as z,$ as S,x as L,a_ as O,H as F,I}from"./elementui-66980f2a.js";import{E as D,ac as s,p as a,I as v,J as o,q as u,R as w,a7 as x,L as _,ai as P,t as m,Q as g,S as n,P as A,O as j,r as K,f as q}from"./vue-d691a816.js";const V=D({components:{ElAvatar:z,ElTag:S,List:N,ListItem:$},props:{list:{type:Array,default:()=>[]},onTitleClick:{type:Function}},setup(t){const{prefixCls:c}=E("header-notify-list");function r(p){t.onTitleClick&&t.onTitleClick(p)}return{prefixCls:c,handleTitleClick:r}}});const M={class:"title"},H={key:0,class:"extra"},X={key:0,class:"description"},U={class:"datetime"};function J(t,c,r,p,f,i){const l=s("ElAvatar"),h=s("ElTag"),y=s("ListItem"),b=s("List");return a(),v(b,{class:_(t.prefixCls)},{default:o(()=>[(a(!0),u(w,null,x(t.list,e=>(a(),v(y,{key:e.title,style:{display:"block"},class:_([t.prefixCls+"__item",{"is-read":e.titleDelete}]),onClick:C=>t.handleTitleClick(e)},P({title:o(()=>[m("div",M,[m("span",null,g(e.title),1),e.extra?(a(),u("div",H,[n(h,{class:"tag",size:"small",type:e.color},{default:o(()=>[A(g(e.extra),1)]),_:2},1032,["type"])])):j("",!0)])]),description:o(()=>[m("div",null,[e.description?(a(),u("div",X,g(e.description),1)):j("",!0),m("div",U,g(e.datetime),1)])]),_:2},[e.avatar?{name:"thumb",fn:o(()=>[n(l,{style:{"--el-avatar-bg-color":"#fff"},class:"avatar",src:e.avatar},null,8,["src"])]),key:"0"}:void 0]),1032,["class","onClick"]))),128))]),_:1},8,["class"])}const Q=T(V,[["render",J]]),k=[{key:"1",name:"通知",list:[{id:"000000001",avatar:"https://gw.alipayobjects.com/zos/rmsportal/ThXAXghbEsBCCSDihZxY.png",title:"你收到了 14 份新周报",description:"",datetime:"2021-08-09",type:"1"},{id:"000000002",avatar:"https://gw.alipayobjects.com/zos/rmsportal/OKJXDXrmkNshAMvwtvhu.png",title:"你推荐的 曲妮妮 已通过第三轮面试",description:"",datetime:"2021-08-08",type:"1"},{id:"000000003",avatar:"https://gw.alipayobjects.com/zos/rmsportal/kISTdvpyTAhtGxpovNWd.png",title:"这种模板可以区分多种通知类型",description:"",datetime:"2021-08-07",type:"1"},{id:"000000004",avatar:"https://gw.alipayobjects.com/zos/rmsportal/GvqBnKhFgObvnSGkDsje.png",title:"左侧图标用于区分不同的类型",description:"",datetime:"2021-08-07",type:"1"},{id:"000000005",avatar:"https://gw.alipayobjects.com/zos/rmsportal/GvqBnKhFgObvnSGkDsje.png",title:"标题可以设置自动显示省略号，本例中标题行数已设为1行，如果内容超过1行将自动截断并支持tooltip显示完整标题。",description:"",datetime:"2021-08-07",type:"1"},{id:"000000006",avatar:"https://gw.alipayobjects.com/zos/rmsportal/GvqBnKhFgObvnSGkDsje.png",title:"左侧图标用于区分不同的类型",description:"",datetime:"2021-08-07",type:"1"},{id:"000000007",avatar:"https://gw.alipayobjects.com/zos/rmsportal/GvqBnKhFgObvnSGkDsje.png",title:"左侧图标用于区分不同的类型",description:"",datetime:"2021-08-07",type:"1"},{id:"000000008",avatar:"https://gw.alipayobjects.com/zos/rmsportal/GvqBnKhFgObvnSGkDsje.png",title:"左侧图标用于区分不同的类型",description:"",datetime:"2021-08-07",type:"1"},{id:"000000009",avatar:"https://gw.alipayobjects.com/zos/rmsportal/GvqBnKhFgObvnSGkDsje.png",title:"左侧图标用于区分不同的类型",description:"",datetime:"2021-08-07",type:"1"},{id:"000000010",avatar:"https://gw.alipayobjects.com/zos/rmsportal/GvqBnKhFgObvnSGkDsje.png",title:"左侧图标用于区分不同的类型",description:"",datetime:"2021-08-07",type:"1"}]},{key:"2",name:"消息",list:[{id:"000000006",avatar:"https://gw.alipayobjects.com/zos/rmsportal/fcHMVNCjPOsbUGdEduuv.jpeg",title:"曲丽丽 评论了你",description:"描述信息描述信息描述信息",datetime:"2021-08-07",type:"2",clickClose:!0},{id:"000000007",avatar:"https://gw.alipayobjects.com/zos/rmsportal/fcHMVNCjPOsbUGdEduuv.jpeg",title:"朱偏右 回复了你",description:"这种模板用于提醒谁与你发生了互动",datetime:"2021-08-07",type:"2",clickClose:!0},{id:"000000008",avatar:"https://gw.alipayobjects.com/zos/rmsportal/fcHMVNCjPOsbUGdEduuv.jpeg",title:"标题",description:"请将鼠标移动到此处，以便测试超长的消息在此处将如何处理。本例中设置的描述最大行数为2，超过2行的描述内容将被省略并且可以通过tooltip查看完整内容",datetime:"2021-08-07",type:"2",clickClose:!0}]},{key:"3",name:"待办",list:[{id:"000000009",avatar:"",title:"任务名称",description:"任务需要在 2021-01-12 20:00 前启动",datetime:"",extra:"未开始",color:"info",type:"3"},{id:"000000010",avatar:"",title:"第三方紧急代码变更",description:"冠霖 需在 2021-01-07 前完成代码变更任务",datetime:"",extra:"马上到期",color:"warning",type:"3"},{id:"000000011",avatar:"",title:"信息安全考试",description:"指派竹尔于 2021-01-09 前完成更新并发布",datetime:"",extra:"已耗时 8 天",color:"success",type:"3"},{id:"000000012",avatar:"",title:"ABCD 版本发布",description:"指派竹尔于 2021-01-09 前完成更新并发布",datetime:"",extra:"进行中",color:"",type:"3"}]}],R=D({components:{ElPopover:L,ElBadge:O,ElTabs:F,ElTabPane:I,SvgIcon:G,NoticeList:Q},setup(){const{prefixCls:t}=E("header-notify"),{createMessage:c}=B(),r=K(k),p=q(()=>{let i=0;for(let l=0;l<k.length;l++)i+=k[l].list.length;return i});function f(i){c.success(`Notice ID: ${i.id}`),i.titleDelete=!i.titleDelete}return{prefixCls:t,listData:r,count:p,onNoticeClick:f}}});function W(t,c,r,p,f,i){const l=s("SvgIcon"),h=s("ElBadge"),y=s("NoticeList"),b=s("ElTabPane"),e=s("ElTabs"),C=s("ElPopover");return a(),u("div",{class:_(t.prefixCls)},[n(C,{placement:"bottom",trigger:"click",width:"300px","popper-class":`${t.prefixCls}__overlay`},{reference:o(()=>[n(h,{value:t.count,"is-dot":""},{default:o(()=>[n(l,{name:"bells"})]),_:1},8,["value"])]),default:o(()=>[n(e,{class:_(`${t.prefixCls}__tabs`),stretch:""},{default:o(()=>[(a(!0),u(w,null,x(t.listData,d=>(a(),v(b,{key:d.key,label:d.name},{default:o(()=>[d.key==="1"?(a(),v(y,{key:0,list:d.list,onTitleClick:t.onNoticeClick},null,8,["list","onTitleClick"])):(a(),v(y,{key:1,list:d.list},null,8,["list"])),m("div",{class:_(`${t.prefixCls}__more`)},"查看更多",2)]),_:2},1032,["label"]))),128))]),_:1},8,["class"])]),_:1},8,["popper-class"])],2)}const st=T(R,[["render",W]]);export{st as default};
