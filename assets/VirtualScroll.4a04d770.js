import{ae as R,a9 as T,_ as W,w as I}from"./index.ccefc80e.js";import{x as A,M as B,I as M,y as o,u as i,O as j,V as k,W as P,$ as s,aZ as L,X as S,z as q,Y as z,a2 as m,D as g,F as E,aa as V}from"./vendor.edbe4fa8.js";import{P as O}from"./index.b85ba22b.js";import{d as U}from"./data.3116030c.js";const b="virtual-scroll";function a(t,_="px"){if(!(t==null||t===""))return isNaN(+t)?String(t):`${Number(t)}${_}`}var X=A({name:"VirtualScroll",props:{height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String],bench:{type:[Number,String],default:0},itemHeight:{type:[Number,String],required:!0},items:{type:Array,default:()=>[]}},setup(t,{slots:_}){const u=B(null),r=M({first:0,last:0,scrollTop:0}),v=o(()=>parseInt(t.bench,10)),c=o(()=>parseInt(t.itemHeight,10)),d=o(()=>Math.max(0,r.first-i(v))),f=o(()=>Math.min((t.items||[]).length,r.last+i(v))),p=o(()=>({height:a((t.items||[]).length*i(c))})),h=o(()=>{const e={},n=a(t.height),l=a(t.minHeight),F=a(t.minWidth),w=a(t.maxHeight),H=a(t.maxWidth),N=a(t.width);return n&&(e.height=n),l&&(e.minHeight=l),F&&(e.minWidth=F),w&&(e.maxHeight=w),H&&(e.maxWidth=H),N&&(e.width=N),e});j([()=>t.itemHeight,()=>t.height],()=>{y()});function x(e){const n=i(u);if(!n)return 0;const l=parseInt(t.height||0,10)||n.clientHeight;return e+Math.ceil(l/i(c))}function $(){return Math.floor(r.scrollTop/i(c))}function y(){const e=i(u);!e||(r.scrollTop=e.scrollTop,r.first=$(),r.last=x(r.first))}function C(){const{items:e=[]}=t;return e.slice(i(d),i(f)).map(D)}function D(e,n){n+=i(d);const l=a(n*i(c));return s("div",{class:`${b}__item`,style:{top:l},key:n},[T(_,"default",{index:n,item:e})])}return k(()=>{r.last=x(0),P(()=>{const e=i(u);!e||R({el:e,name:"scroll",listener:y,wait:0})})}),()=>s("div",{class:b,style:i(h),ref:u},[s("div",{class:`${b}__container`,style:i(p)},[C()])])}});var Y=W(X,[["__scopeId","data-v-c1e759d4"]]);const Z=I(Y);const G=A({components:{ElDivider:L,VScroll:Z,PageWrapper:O},setup(){return{data:U}}}),J=V("\u57FA\u7840\u6EDA\u52A8\u793A\u4F8B"),K={class:"virtual-scroll-demo-wrap"},Q={class:"virtual-scroll-demo__item"},tt=V("\u5373\u4F7F\u4E0D\u53EF\u89C1\uFF0C\u4E5F\u9884\u5148\u52A0\u8F7D50\u6761\u6570\u636E\uFF0C\u9632\u6B62\u7A7A\u767D"),et={class:"virtual-scroll-demo-wrap"},it={class:"virtual-scroll-demo__item"};function nt(t,_,u,r,v,c){const d=S("el-divider"),f=S("VScroll"),p=S("PageWrapper");return q(),z(p,{title:"\u865A\u62DF\u6EDA\u52A8\u793A\u4F8B"},{default:m(()=>[s(d,null,{default:m(()=>[J]),_:1}),g("div",K,[s(f,{itemHeight:60,items:t.data,height:300},{default:m(({item:h})=>[g("div",Q,E(h.title),1)]),_:1},8,["items"])]),s(d,null,{default:m(()=>[tt]),_:1}),g("div",et,[s(f,{items:t.data,itemHeight:60,height:300,bench:50},{default:m(({item:h})=>[g("div",it,E(h.title),1)]),_:1},8,["items"])])]),_:1})}var ot=W(G,[["render",nt],["__scopeId","data-v-677b6744"]]);export{ot as default};
