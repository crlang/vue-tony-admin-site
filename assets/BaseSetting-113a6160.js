var d=(e,n,s)=>new Promise((u,c)=>{var l=t=>{try{a(s.next(t))}catch(i){c(i)}},o=t=>{try{a(s.throw(t))}catch(i){c(i)}},a=t=>t.done?u(t.value):Promise.resolve(t.value).then(l,o);a((s=s.apply(e,n)).next())});import{B as h}from"./index-a82db265.js";import{C as B}from"./index-bf00342a.js";import{K as C,g as v,_ as F}from"./index-795cdaa0.js";import{B as S,u as b}from"./upload-4c23c7f6.js";import{h as w}from"./header-e0b19278.js";import{a as I}from"./account-964b075e.js";import{b as E}from"./data-99bf5b91.js";import{K as A,L as U,n as V}from"./elementui-66980f2a.js";import{u as y}from"./useForm-af19a7b1.js";import{E as N,o as k,f as x,ac as r,p as $,I as M,J as m,S as p,t as _,P as R,aD as j,aE as K}from"./vue-d691a816.js";import"./index-6ee1af83.js";import"./index-e82f403d.js";import"./index-9c67be75.js";import"./tsxHelper-f44f22cd.js";import"./useWindowSizeFn-f51aba85.js";import"./index-22989de9.js";import"./index-d5a424e4.js";import"./index-02c8116c.js";import"./download-c98da083.js";import"./index-51098d3a.js";const P=N({components:{ElRow:A,ElCol:U,ElButton:V,BasicForm:h,CollapseContainer:B,BasicUpload:S},setup(){const{createMessage:e}=C(),n=v(),[s,{setFieldsValue:u}]=y({labelWidth:120,schemas:E,showActionButtonGroup:!1});k(()=>d(this,null,function*(){const o=yield I();u(o)}));const c=x(()=>{const{avatar:o}=n.getUserInfo;return[o||w]});function l(o){const a=n.getUserInfo;a.avatar=o,n.setUserInfo(a)}return{avatar:c,register:s,uploadApi:b,updateAvatar:l,handleSubmit:()=>{e.success("更新成功！")}}}});const T=e=>(j("data-v-ca18f9e8"),e=e(),K(),e),z={class:"change-avatar"},D=T(()=>_("div",{class:"mb-2"},"头像",-1));function G(e,n,s,u,c,l){const o=r("BasicForm"),a=r("el-col"),t=r("BasicUpload"),i=r("el-row"),f=r("el-button"),g=r("CollapseContainer");return $(),M(g,{title:"基本设置",canExpan:!1},{default:m(()=>[p(i,{gutter:24},{default:m(()=>[p(a,{span:14},{default:m(()=>[p(o,{onRegister:e.register},null,8,["onRegister"])]),_:1}),p(a,{span:10},{default:m(()=>[_("div",z,[D,p(t,{onChange:e.updateAvatar,api:e.uploadApi,modelValue:e.avatar,uploadName:"file",showPreview:!1,maxSize:5,maxNumber:3,showThumb:"",accept:["png","jpg","jpeg","webp"]},null,8,["onChange","api","modelValue"])])]),_:1})]),_:1}),p(f,{type:"primary",onClick:e.handleSubmit},{default:m(()=>[R("更新基本信息")]),_:1},8,["onClick"])]),_:1})}const ue=F(P,[["render",G],["__scopeId","data-v-ca18f9e8"]]);export{ue as default};
