import{c5 as U,an as I,r as i,c6 as V,c7 as $,c as N,ap as Z,c8 as _,w as T,R as q,Y as G,U as S,a6 as Y,c9 as b,ca as g}from"./index.b263d89e.js";const H=(e,a)=>{const l=S().emit,{nextZIndex:y}=U();let C="";const h=I(),E=I(),o=i(!1),f=i(!1),u=i(!1),d=i(e.zIndex||y());let s,t;const O=V("namespace",$),k=N(()=>{const n={},c=`--${O.value}-dialog`;return e.fullscreen||(e.top&&(n[`${c}-margin-top`]=e.top),e.width&&(n[`${c}-width`]=Z(e.width))),n});function w(){l("opened")}function A(){l("closed"),l(Y,!1),e.destroyOnClose&&(u.value=!1)}function F(){l("close")}function x(){t==null||t(),s==null||s(),e.openDelay&&e.openDelay>0?{stop:s}=b(()=>D(),e.openDelay):D()}function v(){s==null||s(),t==null||t(),e.closeDelay&&e.closeDelay>0?{stop:t}=b(()=>m(),e.closeDelay):m()}function r(){function n(c){c||(f.value=!0,o.value=!1)}e.beforeClose?e.beforeClose(n):v()}function L(){e.closeOnClickModal&&r()}function D(){!g||(o.value=!0)}function m(){o.value=!1}function M(){l("openAutoFocus")}function P(){l("closeAutoFocus")}e.lockScroll&&_(o);function z(){e.closeOnPressEscape&&r()}return T(()=>e.modelValue,n=>{n?(f.value=!1,x(),u.value=!0,l("open"),d.value=e.zIndex?d.value++:y(),q(()=>{a.value&&(a.value.scrollTop=0)})):o.value&&v()}),T(()=>e.fullscreen,n=>{!a.value||(n?(C=a.value.style.transform,a.value.style.transform=""):a.value.style.transform=C)}),G(()=>{e.modelValue&&(o.value=!0,u.value=!0,x())}),{afterEnter:w,afterLeave:A,beforeLeave:F,handleClose:r,onModalClick:L,close:v,doClose:m,onOpenAutoFocus:M,onCloseAutoFocus:P,onCloseRequested:z,titleId:h,bodyId:E,closed:f,style:k,rendered:u,visible:o,zIndex:d}};export{H as u};
