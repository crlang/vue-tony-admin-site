import{a5 as B,a6 as C,a7 as F,_ as E,I as g}from"./index-795cdaa0.js";import{aF as w,i as h,a7 as b,a8 as N}from"./elementui-66980f2a.js";import{E as T,r as I,w as O,p as $,q as S,Q as y,ac as m,I as A,J as s,S as l,t as M}from"./vue-d691a816.js";import{C as R}from"./index-bf00342a.js";import"./index-02c8116c.js";import"./tsxHelper-f44f22cd.js";import"./index-9c67be75.js";const f=1e3,p=f*60,d=p*60,D=d*24,Y=T({name:"RelativeTime",props:{value:{type:[String,Number,Date],required:!0},step:{type:Number,default:60},mode:{type:String,default:"relative"}},setup(t){const i=I("");w(c,t.step*f);function _(){const{value:a}=t;let n=0;if(typeof a=="number"){const o=a.toString().length>10?a:a*1e3;n=new Date(o).getTime()}else typeof a=="string"?n=new Date(a).getTime():h(a)&&(n=a.getTime());return n}function c(){const{mode:a,value:n}=t,o=_();a==="relative"?i.value=v(o):a==="datetime"?i.value=B(n):a==="date"&&(i.value=C(n))}function v(a){const n=new Date().getTime(),o=F(a).isBefore(n);let e=n-a;o||(e=-e);let u="";const r=o?"前":"后";return e<f?u="刚刚":e<p?u=`${parseInt(e/f)}秒${r}`:e>=p&&e<d?u=`${Math.floor(e/p)}分钟${r}`:e>=d&&e<D?u=`${Math.floor(e/d)}小时${r}`:e>=D&&e<262386e4?u=`${Math.floor(e/D)}天${r}`:e>=262386e4&&e<=3156786e4&&o?u=F(a).format("MM-DD-HH-mm"):u=F(a).format("YYYY"),u}return O(()=>t.value,()=>{c()},{immediate:!0}),{date:i}}});function k(t,i,_,c,v,a){return $(),S("span",null,y(t.date),1)}const H=E(Y,[["render",k]]),U=g(H),q=T({components:{ElDescriptions:b,ElDescriptionsItem:N,RelativeTime:U,CollapseContainer:R},setup(){const t=new Date().getTime();function i(){}return{now:t,time1:t-60*3*1e3,time2:t-86400*3*1e3,handleExpand:i}}}),P=M("br",null,null,-1);function V(t,i,_,c,v,a){const n=m("RelativeTime"),o=m("CollapseContainer"),e=m("el-descriptions-item"),u=m("el-descriptions"),r=m("PageWrapper");return $(),A(r,{title:"时间组件示例"},{default:s(()=>[l(o,{title:"基础示例"},{default:s(()=>[l(n,{value:t.time1},null,8,["value"]),P,l(n,{value:t.time2},null,8,["value"])]),_:1}),l(o,{title:"定时更新",onExpand:t.handleExpand,class:"mt-4"},{default:s(()=>[l(u,{column:1,border:""},{default:s(()=>[l(e,{label:"每60秒更新(默认)"},{default:s(()=>[l(n,{value:t.now},null,8,["value"])]),_:1}),l(e,{label:"格式化日期"},{default:s(()=>[l(n,{value:t.now,mode:"date"},null,8,["value"])]),_:1}),l(e,{label:"格式化时间"},{default:s(()=>[l(n,{value:t.now,mode:"datetime"},null,8,["value"])]),_:1}),l(e,{label:"每秒更新"},{default:s(()=>[l(n,{value:t.now,step:1},null,8,["value"])]),_:1}),l(e,{label:"每5秒更新"},{default:s(()=>[l(n,{value:t.now,step:5},null,8,["value"])]),_:1})]),_:1})]),_:1},8,["onExpand"])]),_:1})}const K=E(q,[["render",V]]);export{K as default};
