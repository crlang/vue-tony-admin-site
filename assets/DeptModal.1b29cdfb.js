var _=Object.defineProperty;var m=Object.getOwnPropertySymbols;var M=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable;var d=(o,t,e)=>t in o?_(o,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[t]=e,f=(o,t)=>{for(var e in t||(t={}))M.call(t,e)&&d(o,e,t[e]);if(m)for(var e of m(t))v.call(t,e)&&d(o,e,t[e]);return o};var p=(o,t,e)=>new Promise((l,a)=>{var i=s=>{try{u(e.next(s))}catch(r){a(r)}},c=s=>{try{u(e.throw(s))}catch(r){a(r)}},u=s=>s.done?l(s.value):Promise.resolve(s.value).then(i,c);u((e=e.apply(o,t)).next())});import{B as D,a as y}from"./index.e1f32d21.js";import{B as j}from"./BasicForm.a29f9983.js";import{u as k}from"./useForm.94072f41.js";import{ag as w}from"./ex-pkg-element-plus.7627c250.js";import{a4 as C,y as P,a as S,u as g,l as N,Z as b,z as R,G as $,H as x,R as I,D as T}from"./ex-pkg-@vue.dfd8e273.js";import{a as V}from"./system.de2b75c8.js";import{_ as q}from"./index.ec0491db.js";const X=[{label:"\u90E8\u95E8\u540D\u79F0",prop:"deptName",width:160,align:"left"},{label:"\u6392\u5E8F",prop:"orderNo",width:50},{label:"\u72B6\u6001",prop:"status",width:80,customRender:({record:o})=>{const e=~~o.status==0,l=e?"success":"danger",a=e?"\u542F\u7528":"\u505C\u7528";return C(w,{type:l},()=>a)}},{label:"\u521B\u5EFA\u65F6\u95F4",prop:"createTime",width:180},{label:"\u5907\u6CE8",prop:"remark"}],Y=[{field:"deptName",label:"\u90E8\u95E8\u540D\u79F0",component:"ElInput",colProps:{span:8}},{field:"status",label:"\u72B6\u6001",component:"ElSelect",componentProps:{options:[{label:"\u542F\u7528",value:"0"},{label:"\u505C\u7528",value:"1"}]},colProps:{span:8}}],O=[{field:"deptName",label:"\u90E8\u95E8\u540D\u79F0",component:"ElInput",required:!0},{field:"orderNo",label:"\u6392\u5E8F",component:"ElInputNumber",defaultValue:0,required:!0},{field:"status",label:"\u72B6\u6001",component:"ElRadioButton",defaultValue:"0",componentProps:{options:[{label:"\u542F\u7528",value:"0"},{label:"\u505C\u7528",value:"1"}]},required:!0},{label:"\u5907\u6CE8",field:"remark",component:"ElInput",componentProps:{type:"textarea"}}],z=P({name:"DeptModal",components:{BasicModal:D,BasicForm:j},emits:["success","register"],setup(o,{emit:t}){const e=S(!0),[l,{resetFields:a,setFieldsValue:i,updateSchema:c,validate:u}]=k({labelWidth:100,schemas:O,showActionButtonGroup:!1}),[s,{setModalProps:r,closeModal:F}]=y(n=>p(this,null,function*(){a(),r({confirmButton:{loading:!1}}),e.value=!!(n==null?void 0:n.isUpdate),g(e)&&i(f({},n.record));const h=yield V();c({field:"parentDept",componentProps:{treeData:h}})})),E=N(()=>g(e)?"\u7F16\u8F91\u90E8\u95E8":"\u65B0\u589E\u90E8\u95E8");function B(){return p(this,null,function*(){try{const n=yield u();r({confirmButton:{loading:!0}}),console.log(n),F(),t("success")}finally{r({confirmButton:{loading:!1}})}})}return{registerModal:s,registerForm:l,getTitle:E,handleSubmit:B}}});function A(o,t,e,l,a,i){const c=b("BasicForm"),u=b("BasicModal");return R(),$(u,T(o.$attrs,{onRegister:o.registerModal,title:o.getTitle,onOk:o.handleSubmit}),{default:x(()=>[I(c,{onRegister:o.registerForm},null,8,["onRegister"])]),_:1},16,["onRegister","title","onOk"])}var G=q(z,[["render",A]]),ee=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:G});export{G as D,ee as a,X as c,Y as s};
