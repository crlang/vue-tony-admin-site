var d=(o,r,s)=>new Promise((u,n)=>{var l=a=>{try{e(s.next(a))}catch(m){n(m)}},t=a=>{try{e(s.throw(a))}catch(m){n(m)}},e=a=>a.done?u(a.value):Promise.resolve(a.value).then(l,t);e((s=s.apply(o,r)).next())});import{B as g}from"./index.4ad4c889.js";import{C as B}from"./index.62d37c24.js";import{d as v,y as C,p as F,Y as b,c as w,_ as S,z as I,e as p,o as A,j as E,i as c,h as i,g as _,m as U,d0 as y,d1 as V}from"./index.12e2b36d.js";import{B as N,u as k}from"./upload.76343974.js";import{h as x}from"./header.7c507bcf.js";import{a as $}from"./account.5de4b193.js";import{b as j}from"./data.2ef57221.js";import{E as M,a as R}from"./index.02016e21.js";import{u as z}from"./useForm.e1560826.js";import"./index.f6b9c428.js";import"./index.69a95a3c.js";import"./row.8fd2210e.js";import"./drawer.06fffbf8.js";import"./card.a2e976ce.js";import"./index.6adb7f1a.js";import"./index.fb2559fd.js";import"./index.77e99735.js";import"./index.b028bbcd.js";import"./isEqual.1822c1b9.js";import"./_baseIsEqual.df6af5a3.js";import"./form-item.c3bc9277.js";import"./dropdown.28433873.js";import"./index.f2256943.js";import"./tsxHelper.a491e40f.js";import"./useWindowSizeFn.5d430d85.js";import"./index.e79189fa.js";import"./index.00e0b22a.js";import"./index.9cb3f094.js";import"./refs.b779a62e.js";import"./use-dialog.24721d6a.js";import"./index.7980a1b4.js";import"./index.a5c4e050.js";import"./_baseUniq.bcd65e0c.js";import"./index.9dc62547.js";import"./index.a88b8150.js";import"./index.76a9ee93.js";import"./index.ec8e6641.js";import"./index.a2a3be95.js";import"./index.987885d5.js";import"./index.c12f89aa.js";import"./index.ecd23a8e.js";import"./index.1f495844.js";import"./download.14a5f0e2.js";const T=v({components:{ElRow:M,ElCol:R,ElButton:C,BasicForm:g,CollapseContainer:B,BasicUpload:N},setup(){const{createMessage:o}=I(),r=F(),[s,{setFieldsValue:u}]=z({labelWidth:120,schemas:j,showActionButtonGroup:!1});b(()=>d(this,null,function*(){const t=yield $();u(t)}));const n=w(()=>{const{avatar:t}=r.getUserInfo;return[t||x]});function l(t){const e=r.getUserInfo;e.avatar=t,r.setUserInfo(e)}return{avatar:n,register:s,uploadApi:k,updateAvatar:l,handleSubmit:()=>{o.success("\u66F4\u65B0\u6210\u529F\uFF01")}}}}),G=o=>(y("data-v-5345de2c"),o=o(),V(),o),P={class:"change-avatar"},W=G(()=>_("div",{class:"mb-2"},"\u5934\u50CF",-1)),Y=U(" \u66F4\u65B0\u57FA\u672C\u4FE1\u606F ");function q(o,r,s,u,n,l){const t=p("BasicForm"),e=p("el-col"),a=p("BasicUpload"),m=p("el-row"),f=p("el-button"),h=p("CollapseContainer");return A(),E(h,{title:"\u57FA\u672C\u8BBE\u7F6E",canExpan:!1},{default:c(()=>[i(m,{gutter:24},{default:c(()=>[i(e,{span:14},{default:c(()=>[i(t,{onRegister:o.register},null,8,["onRegister"])]),_:1}),i(e,{span:10},{default:c(()=>[_("div",P,[W,i(a,{onChange:o.updateAvatar,api:o.uploadApi,modelValue:o.avatar,uploadName:"file",showPreview:!1,maxSize:5,maxNumber:3,showThumb:"",accept:["png","jpg","jpeg","webp"]},null,8,["onChange","api","modelValue"])])]),_:1})]),_:1}),i(f,{type:"primary",onClick:o.handleSubmit},{default:c(()=>[Y]),_:1},8,["onClick"])]),_:1})}var Mo=S(T,[["render",q],["__scopeId","data-v-5345de2c"]]);export{Mo as default};
