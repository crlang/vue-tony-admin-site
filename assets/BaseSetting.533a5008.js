var m=(e,r,s)=>new Promise((d,u)=>{var l=t=>{try{o(s.next(t))}catch(c){u(c)}},a=t=>{try{o(s.throw(t))}catch(c){u(c)}},o=t=>t.done?d(t.value):Promise.resolve(t.value).then(l,a);o((s=s.apply(e,r)).next())});import{B as v}from"./BasicForm.1197f972.js";import{u as C}from"./useForm.7241aa72.js";import{aa as h,f as F,h as j,_ as g}from"./index.ccefc80e.js";import{a as B}from"./index.ced31e7a.js";import{h as A}from"./header.837ca3c8.js";import{a as S}from"./account.7fdadd29.js";import{b as w}from"./data.2ef57221.js";import{u as x}from"./upload.24e880cc.js";import{x as I,aS as y,aT as E,aK as V,V as $,y as k,X as n,z as T,Y as U,a2 as i,$ as p,D as _,br as M,bs as N,aa as R}from"./vendor.edbe4fa8.js";import"./index.927997b6.js";import"./index.1b6370d0.js";import"./index.12e7d6ba.js";import"./useAttrs.07e29e2e.js";import"./useWindowSizeFn.ba2f9a46.js";import"./propTypes.13e00d90.js";import"./uuid.2b29000c.js";import"./download.8f0fb5ba.js";import"./base64Conver.bb012c73.js";import"./index.d37c02e5.js";const z=I({components:{ElRow:y,ElCol:E,ElButton:V,BasicForm:v,CollapseContainer:h,CropperAvatar:B},setup(){const{createMessage:e}=F(),r=j(),[s,{setFieldsValue:d}]=C({labelWidth:120,schemas:w,showActionButtonGroup:!1});$(()=>m(this,null,function*(){const a=yield S();d(a)}));const u=k(()=>{const{avatar:a}=r.getUserInfo;return a||A});function l(a){const o=r.getUserInfo;o.avatar=a,r.setUserInfo(o)}return{avatar:u,register:s,uploadApi:x,updateAvatar:l,handleSubmit:()=>{e.success("\u66F4\u65B0\u6210\u529F\uFF01")}}}}),W=e=>(M("data-v-43b5a280"),e=e(),N(),e),D={class:"change-avatar"},G=W(()=>_("div",{class:"mb-2"},"\u5934\u50CF",-1)),K=R(" \u66F4\u65B0\u57FA\u672C\u4FE1\u606F ");function P(e,r,s,d,u,l){const a=n("BasicForm"),o=n("el-col"),t=n("CropperAvatar"),c=n("el-row"),f=n("el-button"),b=n("CollapseContainer");return T(),U(b,{title:"\u57FA\u672C\u8BBE\u7F6E",canExpan:!1},{default:i(()=>[p(c,{gutter:24},{default:i(()=>[p(o,{span:14},{default:i(()=>[p(a,{onRegister:e.register},null,8,["onRegister"])]),_:1}),p(o,{span:10},{default:i(()=>[_("div",D,[G,p(t,{uploadApi:e.uploadApi,value:e.avatar,btnText:"\u66F4\u6362\u5934\u50CF",btnProps:{preIcon:"ep:upload-filled"},onChange:e.updateAvatar,width:"150"},null,8,["uploadApi","value","onChange"])])]),_:1})]),_:1}),p(f,{type:"primary",onClick:e.handleSubmit},{default:i(()=>[K]),_:1},8,["onClick"])]),_:1})}var de=g(z,[["render",P],["__scopeId","data-v-43b5a280"]]);export{de as default};
