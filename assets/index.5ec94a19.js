import{Q as x,fi as G,L as H,d as E,C as L,r as _,w as P,D as q,o,f,F as w,n,b as e,I as A,c2 as O,K as R,Z as X,ak as Y,c as r,s as ee,l as g,g as h,G as W,k,i as b,H as se,a0 as B,h as T,fm as te,a3 as ae,t as I,j,W as ne,J as ie,ad as le}from"./index.a812ffa9.js";const re=x({space:{type:[Number,String],default:""},active:{type:Number,default:0},direction:{type:String,default:"horizontal",values:["horizontal","vertical"]},alignCenter:{type:Boolean},simple:{type:Boolean},finishStatus:{type:String,values:["wait","process","finish","error","success"],default:"finish"},processStatus:{type:String,values:["wait","process","finish","error","success"],default:"process"}}),oe={[G]:(m,S)=>[m,S].every(H)},ce=E({name:"ElSteps"}),ue=E({...ce,props:re,emits:oe,setup(m,{emit:S}){const t=m,l=L("steps"),u=_([]);return P(u,()=>{u.value.forEach((i,a)=>{i.setIndex(a)})}),q("ElSteps",{props:t,steps:u}),P(()=>t.active,(i,a)=>{S(G,i,a)}),(i,a)=>(o(),f("div",{class:n([e(l).b(),e(l).m(i.simple?"simple":i.direction)])},[w(i.$slots,"default")],2))}});var pe=A(ue,[["__file","/home/runner/work/element-plus/element-plus/packages/components/steps/src/steps.vue"]]);const ve=x({title:{type:String,default:""},icon:{type:O},description:{type:String,default:""},status:{type:String,values:["","wait","process","finish","error","success"],default:""}}),de=E({name:"ElStep"}),fe=E({...de,props:ve,setup(m){const S=m,t=L("step"),l=_(-1),u=_({}),i=_(""),a=R("ElSteps"),p=ne();X(()=>{P([()=>a.props.active,()=>a.props.processStatus,()=>a.props.finishStatus],([s])=>{U(s)},{immediate:!0})}),Y(()=>{a.steps.value=a.steps.value.filter(s=>s.uid!==(p==null?void 0:p.uid))});const v=r(()=>S.status||i.value),J=r(()=>{const s=a.steps.value[l.value-1];return s?s.currentStatus:"wait"}),C=r(()=>a.props.alignCenter),V=r(()=>a.props.direction==="vertical"),c=r(()=>a.props.simple),$=r(()=>a.steps.value.length),z=r(()=>{var s;return((s=a.steps.value[$.value-1])==null?void 0:s.uid)===(p==null?void 0:p.uid)}),y=r(()=>c.value?"":a.props.space),K=r(()=>{const s={flexBasis:H(y.value)?`${y.value}px`:y.value?y.value:`${100/($.value-(C.value?0:1))}%`};return V.value||z.value&&(s.maxWidth=`${100/$.value}%`),s}),M=s=>{l.value=s},Q=s=>{const d=s==="wait",N={transitionDelay:`${d?"-":""}${150*l.value}ms`},D=s===a.props.processStatus||d?0:100;N.borderWidth=D&&!c.value?"1px":0,N[a.props.direction==="vertical"?"height":"width"]=`${D}%`,u.value=N},U=s=>{s>l.value?i.value=a.props.finishStatus:s===l.value&&J.value!=="error"?i.value=a.props.processStatus:i.value="wait";const d=a.steps.value[l.value-1];d&&d.calcProgress(i.value)},Z=ee({uid:r(()=>p==null?void 0:p.uid),currentStatus:v,setIndex:M,calcProgress:Q});return a.steps.value=[...a.steps.value,Z],(s,d)=>(o(),f("div",{style:W(e(K)),class:n([e(t).b(),e(t).is(e(c)?"simple":e(a).props.direction),e(t).is("flex",e(z)&&!e(y)&&!e(C)),e(t).is("center",e(C)&&!e(V)&&!e(c))])},[g(" icon & line "),h("div",{class:n([e(t).e("head"),e(t).is(e(v))])},[e(c)?g("v-if",!0):(o(),f("div",{key:0,class:n(e(t).e("line"))},[h("i",{class:n(e(t).e("line-inner")),style:W(u.value)},null,6)],2)),h("div",{class:n([e(t).e("icon"),e(t).is(s.icon||s.$slots.icon?"icon":"text")])},[w(s.$slots,"icon",{},()=>[s.icon?(o(),k(e(B),{key:0,class:n(e(t).e("icon-inner"))},{default:b(()=>[(o(),k(se(s.icon)))]),_:1},8,["class"])):e(v)==="success"?(o(),k(e(B),{key:1,class:n([e(t).e("icon-inner"),e(t).is("status")])},{default:b(()=>[T(e(te))]),_:1},8,["class"])):e(v)==="error"?(o(),k(e(B),{key:2,class:n([e(t).e("icon-inner"),e(t).is("status")])},{default:b(()=>[T(e(ae))]),_:1},8,["class"])):e(c)?g("v-if",!0):(o(),f("div",{key:3,class:n(e(t).e("icon-inner"))},I(l.value+1),3))])],2)],2),g(" title & description "),h("div",{class:n(e(t).e("main"))},[h("div",{class:n([e(t).e("title"),e(t).is(e(v))])},[w(s.$slots,"title",{},()=>[j(I(s.title),1)])],2),e(c)?(o(),f("div",{key:0,class:n(e(t).e("arrow"))},null,2)):(o(),f("div",{key:1,class:n([e(t).e("description"),e(t).is(e(v))])},[w(s.$slots,"description",{},()=>[j(I(s.description),1)])],2))],2)],6))}});var F=A(fe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/steps/src/item.vue"]]);const Se=ie(pe,{Step:F}),ye=le(F);export{Se as E,ye as a};
