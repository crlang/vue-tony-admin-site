import{d as A,r as $,q as T,c,b as i,w as k,Y as B,R as N,al as I,h as o,l as M,aC as L,_ as j,e as w,o as q,j as P,i as m,g as v,t as S,m as C}from"./index.b263d89e.js";import{d as U}from"./data.3116030c.js";import{E as Y}from"./index.2866cdc9.js";var z=A({name:"VirtualScroll",props:{height:[Number,String],width:[Number,String],itemHeight:{type:Number,required:!0},listData:{type:Array,default:()=>[]},bench:{type:Number,default:0},maxHeight:[Number,String],minHeight:[Number,String],maxWidth:[Number,String],minWidth:[Number,String]},setup(e,{slots:D}){const s=$(null),n=T({first:0,last:0,scrollTop:0}),{prefixCls:_}=M("virtual-scroll"),p=c(()=>parseInt(e.bench,10)),l=c(()=>parseInt(e.itemHeight,10)),d=c(()=>Math.max(0,n.first-i(p))),y=c(()=>Math.min((e.listData||[]).length,n.last+i(p))),h=c(()=>({height:a((e.listData||[]).length*i(l))})),b=c(()=>{const t={},r=a(e.height),u=a(e.minHeight),f=a(e.minWidth),g=a(e.maxHeight),E=a(e.maxWidth),H=a(e.width);return r&&(t.height=r),u&&(t.minHeight=u),f&&(t.minWidth=f),g&&(t.maxHeight=g),E&&(t.maxWidth=E),H&&(t.width=H),t});function a(t,r="px"){if(!(t==null||t===""))return isNaN(+t)?String(t):`${Number(t)}${r}`}function F(t){const r=i(s);if(!r)return 0;const u=parseInt(e.height||0,10)||r.clientHeight;return t+Math.ceil(u/i(l))}function V(){return Math.floor(n.scrollTop/i(l))}function x(){const t=i(s);!t||(n.scrollTop=t.scrollTop,n.first=V(),n.last=F(n.first))}function W(){const{listData:t=[]}=e;return t.slice(i(d),i(y)).map(R)}function R(t,r){r+=i(d);const u=a(i(l)),f=a(r*i(l)),g=D.default;return o("div",{class:`${_}__item`,style:{top:f,height:u},key:r},{default:()=>g({index:r,item:t})})}return k([()=>e.itemHeight,()=>e.height],()=>{x()}),B(()=>{n.last=F(0),N(()=>{const t=i(s);!t||t.addEventListener("scroll",x)})}),I(()=>{N(()=>{const t=i(s);!t||t.removeEventListener("scroll",x)})}),()=>o("div",{class:_,style:i(b),ref:s},[o("div",{class:`${_}__container`,style:i(h)},[W()])])}});const G=L(z);const J=A({components:{ElDivider:Y,VirtualScroll:G},setup(){return{data:U}}}),K=C("\u57FA\u7840\u6EDA\u52A8\u793A\u4F8B"),O={class:"virtual-scroll-demo-wrap"},Q={class:"virtual-scroll-demo__item"},X=C("\u5373\u4F7F\u4E0D\u53EF\u89C1\uFF0C\u4E5F\u9884\u5148\u52A0\u8F7D50\u6761\u6570\u636E\uFF0C\u9632\u6B62\u7A7A\u767D"),Z={class:"virtual-scroll-demo-wrap"},tt={class:"virtual-scroll-demo__item"};function et(e,D,s,n,_,p){const l=w("el-divider"),d=w("VirtualScroll",!0),y=w("PageWrapper");return q(),P(y,{title:"\u865A\u62DF\u6EDA\u52A8\u793A\u4F8B"},{default:m(()=>[o(l,null,{default:m(()=>[K]),_:1}),v("div",O,[o(d,{itemHeight:60,listData:e.data,height:300},{default:m(({item:h,index:b})=>[v("div",Q,S(b)+" - "+S(h.title),1)]),_:1},8,["listData"])]),o(l,null,{default:m(()=>[X]),_:1}),v("div",Z,[o(d,{listData:e.data,itemHeight:60,height:300,bench:50},{default:m(({item:h})=>[v("div",tt,S(h.title),1)]),_:1},8,["listData"])])]),_:1})}var at=j(J,[["render",et],["__scopeId","data-v-d6794c20"]]);export{at as default};
