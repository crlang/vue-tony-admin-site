var E=(a,i,e)=>new Promise((m,n)=>{var u=r=>{try{s(e.next(r))}catch(t){n(t)}},f=r=>{try{s(e.throw(r))}catch(t){n(t)}},s=r=>r.done?m(r.value):Promise.resolve(r.value).then(u,f);s((e=e.apply(a,i)).next())});import{y as _,a as v,b as L,U as h,z as d,A as l,F as w,a3 as T,I as A,J as C,R as p,H as c,u as o,P as g,Q as j}from"./ex-pkg-@vue.dfd8e273.js";import{ar as B,e as D,a$ as F,f as R}from"./index.ec0491db.js";import{getLogColumns as S}from"./data.b8a67e46.js";import{B as z}from"./TableImg.fea501c2.js";import{u as I}from"./useTable.52f08349.js";import{c8 as M}from"./ex-pkg-vendor.0d33d667.js";import{z as b}from"./ex-pkg-element-plus.7627c250.js";import"./ex-pkg-@element-plus.e8ce6c8b.js";import"./ex-pkg-@vueuse.e5d644bd.js";import"./ex-pkg-@iconify.345c6dc9.js";import"./ex-pkg-mockjs.907334ba.js";import"./ex-pkg-@popperjs.f3a17871.js";import"./ex-pkg-xlsx.9db082f2.js";import"./BasicForm.a29f9983.js";import"./index.51d433bf.js";import"./index.cb296287.js";import"./index.e1f32d21.js";import"./useAttrs.e78ff19a.js";import"./useWindowSizeFn.732207ab.js";import"./propTypes.525da5ca.js";import"./uuid.2b29000c.js";import"./download.de577928.js";import"./base64Conver.bb012c73.js";import"./index.b234c3eb.js";import"./ex-pkg-@zxcvbn-ts.dfbde445.js";import"./useForm.94072f41.js";import"./index.79d904a0.js";import"./onMountedOrActivated.67461842.js";var x;(function(a){a.Error="/error"})(x||(x={}));const V=()=>B.get({url:x.Error}),H={class:"p-4"},N=["src"],be=_({setup(a){const i=v([]),{t:e}=D(),m=F(),[n,{setTableData:u}]=I({title:e("sys.errorLog.tableTitle"),columns:S()});L(()=>m.getErrorLogInfoList,k=>{h(()=>{u(M(k))})},{immediate:!0});const{createMessage:f}=R();f.info(e("sys.errorLog.enableMessage"));function s(){throw new Error("fire vue error!")}function r(){i.value.push(`${new Date().getTime()}.png`)}function t(){return E(this,null,function*(){yield V()})}return(k,$)=>(d(),l("div",H,[(d(!0),l(w,null,T(i.value,y=>A((d(),l("img",{key:y,src:y},null,8,N)),[[C,!1]])),128)),p(o(z),{onRegister:o(n),class:"error-handle-table"},{toolbar:c(()=>[p(o(b),{onClick:s,type:"primary"},{default:c(()=>[g(j(o(e)("sys.errorLog.fireVueError")),1)]),_:1}),p(o(b),{onClick:r,type:"primary"},{default:c(()=>[g(j(o(e)("sys.errorLog.fireResourceError")),1)]),_:1}),p(o(b),{onClick:t,type:"primary"},{default:c(()=>[g(j(o(e)("sys.errorLog.fireAjaxError")),1)]),_:1})]),_:1},8,["onRegister"])]))}});export{be as default};
