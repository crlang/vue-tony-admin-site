import{B as k}from"./TableImg.fea501c2.js";import{u as F}from"./useTable.52f08349.js";import{g as T}from"./system.de2b75c8.js";import{P as w}from"./index.79d904a0.js";import D from"./DeptTree.5553071d.js";import{A,s as B}from"./AccountModal.00255089.js";import{_ as S,k as C,f as E}from"./index.ec0491db.js";import{b as M}from"./index.e1f32d21.js";import{D as y,F as v,z as R}from"./ex-pkg-element-plus.7627c250.js";import{a8 as z,O as P,R as W}from"./ex-pkg-@element-plus.e8ce6c8b.js";import{y as $,_ as H,Z as o,z as I,G as O,H as s,R as a,P as V}from"./ex-pkg-@vue.dfd8e273.js";import"./BasicForm.a29f9983.js";import"./index.51d433bf.js";import"./ex-pkg-@vueuse.e5d644bd.js";import"./ex-pkg-vendor.0d33d667.js";import"./ex-pkg-xlsx.9db082f2.js";import"./ex-pkg-mockjs.907334ba.js";import"./index.cb296287.js";import"./propTypes.525da5ca.js";import"./uuid.2b29000c.js";import"./download.de577928.js";import"./base64Conver.bb012c73.js";import"./index.b234c3eb.js";import"./ex-pkg-@zxcvbn-ts.dfbde445.js";import"./useForm.94072f41.js";import"./useWindowSizeFn.732207ab.js";import"./onMountedOrActivated.67461842.js";import"./ex-pkg-@iconify.345c6dc9.js";import"./ex-pkg-@popperjs.f3a17871.js";import"./useAttrs.e78ff19a.js";const G=$({name:"AccountManagement",components:{ElRow:y,ElCol:v,ElButton:R,BasicTable:k,PageWrapper:w,DeptTree:D,AccountModal:A},setup(){const t=C(),{createConfirm:m,createMessage:f}=E(),[b,{openModal:u}]=M(),g=[{label:"\u7528\u6237\u540D",prop:"account",width:120},{label:"\u6635\u79F0",prop:"nickname",width:120},{label:"\u90AE\u7BB1",prop:"email",width:120},{label:"\u521B\u5EFA\u65F6\u95F4",prop:"createTime",width:180},{label:"\u89D2\u8272",prop:"role",width:200},{label:"\u5907\u6CE8",prop:"remark"},{width:220,fixed:"right",actions:[{icon:"clarity:info-standard-line",text:"\u67E5\u770B",callback:h},{icon:"clarity:note-edit-line",text:"\u7F16\u8F91",callback:c},{icon:"ep:delete",text:"\u5220\u9664",callback:i}]}];function l(){u(!0,{isUpdate:!1})}const n=H({}),[p,{reload:r,updateTableDataRecord:d}]=F({title:"\u8D26\u53F7\u5217\u8868",api:T,rowKey:"id",columns:g,formConfig:{labelWidth:120,schemas:B,autoSubmitOnEnter:!0},useSearchForm:!0,border:!0,pagination:{pageSize:5},handleSearchInfoFn(e){return e}});function c({row:e}){u(!0,{record:e,isUpdate:!0})}function i({row:e}){m({title:"\u6E29\u99A8\u63D0\u793A",content:`\u662F\u5426\u786E\u8BA4\u5220\u9664\u300C${e.nickname}\u300D?`,type:"error"}).then(()=>{f.success("\u5220\u9664\u6210\u529F")}).catch(()=>{})}function _({isUpdate:e,values:j}){e?d(j.id,j):r()}function x(e){n.deptId=e==null?void 0:e.id,r()}function h({row:e}){t("/system/account_detail/"+e.id)}return{searchInfo:n,registerTable:p,registerModal:b,Document:z,Edit:P,Delete:W,handleCreate:l,handleEdit:c,handleDelete:i,handleSuccess:_,handleSelect:x,handleView:h}}}),N=V("\u65B0\u589E\u8D26\u53F7");function U(t,m,f,b,u,g){const l=o("DeptTree"),n=o("el-col"),p=o("el-button"),r=o("BasicTable"),d=o("el-row"),c=o("AccountModal"),i=o("PageWrapper");return I(),O(i,{contentFullHeight:"",fixedHeight:""},{default:s(()=>[a(d,{class:"dept-wrap",gutter:16},{default:s(()=>[a(n,{span:6,class:"dept-tree"},{default:s(()=>[a(l,{onSelect:t.handleSelect},null,8,["onSelect"])]),_:1}),a(n,{span:18,class:"dept-table"},{default:s(()=>[a(r,{onRegister:t.registerTable,searchInfo:t.searchInfo},{toolbar:s(()=>[a(p,{type:"primary",size:"small",onClick:t.handleCreate},{default:s(()=>[N]),_:1},8,["onClick"])]),_:1},8,["onRegister","searchInfo"])]),_:1})]),_:1}),a(c,{onRegister:t.registerModal,onSuccess:t.handleSuccess},null,8,["onRegister","onSuccess"])]),_:1})}var Fe=S(G,[["render",U]]);export{Fe as default};
