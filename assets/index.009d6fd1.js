var y=(i,a,e)=>new Promise((c,p)=>{var d=r=>{try{t(e.next(r))}catch(s){p(s)}},u=r=>{try{t(e.throw(r))}catch(s){p(s)}},t=r=>r.done?c(r.value):Promise.resolve(r.value).then(d,u);t((e=e.apply(i,a)).next())});import{y as E,a as _,b as v,U as T,z as f,A as l,F as L,a3 as h,I as w,J as C,R as n,H as m,u as o,P as j,Q as b}from"./ex-pkg-@vue.dfd8e273.js";import{al as A,e as B,aD as D,f as F}from"./index.b3c9ad7f.js";import{getLogColumns as R}from"./data.f87c3351.js";import{B as S}from"./TableImg.150d635b.js";import{u as I}from"./useTable.1425b7cb.js";import{c6 as V}from"./ex-pkg-vendor.002cab22.js";import{u as g}from"./ex-pkg-element-plus.1726aa79.js";import"./ex-pkg-@element-plus.3c8245e2.js";import"./ex-pkg-@vueuse.e5d644bd.js";import"./ex-pkg-@iconify.345c6dc9.js";import"./ex-pkg-mockjs.d050e972.js";import"./ex-pkg-@popperjs.f3a17871.js";import"./BasicForm.e23a97e1.js";import"./index.a1d19e61.js";import"./index.ec087bd6.js";import"./index.46c5c8ac.js";import"./useAttrs.e78ff19a.js";import"./useWindowSizeFn.732207ab.js";import"./index.4cd5987a.js";import"./index.755f7294.js";import"./tsxHelper.88158ea5.js";import"./index.cd4e42f7.js";import"./useTimeout.be9115ef.js";import"./propTypes.a1efa9e6.js";import"./download.37b1865e.js";import"./base64Conver.bb012c73.js";import"./index.bca35d58.js";import"./ex-pkg-@zxcvbn-ts.dfbde445.js";import"./index.b685e481.js";import"./useCopyToClipboard.b484edcb.js";import"./useForm.48835dfb.js";import"./index.2db0f4ce.js";var x;(function(i){i.Error="/error"})(x||(x={}));const z=()=>A.get({url:x.Error}),H={class:"p-4"},N=["src"],ye=E({setup(i){const a=_([]),{t:e}=B(),c=D(),[p,{setTableData:d}]=I({title:e("sys.errorLog.tableTitle"),columns:R()});v(()=>c.getErrorLogInfoList,s=>{T(()=>{d(V(s))})},{immediate:!0}),F();function u(){throw new Error("fire vue error!")}function t(){a.value.push(`${new Date().getTime()}.png`)}function r(){return y(this,null,function*(){yield z()})}return(s,J)=>(f(),l("div",H,[(f(!0),l(L,null,h(a.value,k=>w((f(),l("img",{key:k,src:k},null,8,N)),[[C,!1]])),128)),n(o(S),{onRegister:o(p),class:"error-handle-table"},{toolbar:m(()=>[n(o(g),{onClick:u,type:"primary"},{default:m(()=>[j(b(o(e)("sys.errorLog.fireVueError")),1)]),_:1}),n(o(g),{onClick:t,type:"primary"},{default:m(()=>[j(b(o(e)("sys.errorLog.fireResourceError")),1)]),_:1}),n(o(g),{onClick:r,type:"primary"},{default:m(()=>[j(b(o(e)("sys.errorLog.fireAjaxError")),1)]),_:1})]),_:1},8,["onRegister"])]))}});export{ye as default};
