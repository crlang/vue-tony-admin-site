var C=(t,r,c)=>new Promise((m,_)=>{var E=i=>{try{n(c.next(i))}catch(e){_(e)}},p=i=>{try{n(c.throw(i))}catch(e){_(e)}},n=i=>i.done?m(i.value):Promise.resolve(i.value).then(E,p);n((c=c.apply(t,r)).next())});import D from"./CurrentPermissionMode.60f480bb.js";import{_ as P,d as v,y as g,dN as b,bx as M,bl as S,p as w,c as $,e as l,bV as x,o as a,j as d,i as u,h as s,g as k,t as T,f as N,k as F,s as h,am as V,bw as j,m as o}from"./index.12e2b36d.js";import{A as U}from"./index.f083e77c.js";import{E as W}from"./index.9dc62547.js";import"./tsxHelper.a491e40f.js";const I=v({components:{ElButton:g,ElDivider:W,CurrentPermissionMode:D,Authority:U},setup(){const{hasPermission:t}=b(),r=M(),c=S(),m=w(),_=$(()=>c.getProjectConfig.permissionMode===j.BACK);function E(p){return C(this,null,function*(){const n=`fakeToken${p}`;m.setToken(n),m.getUserInfoAction(),r.changePermissionCode()})}return{hasPermission:t,permissionStore:r,switchToken:E,isBackPremissionMode:_}}}),K=o(" \u5F53\u524D\u62E5\u6709\u7684code\u5217\u8868: "),L=o(" \u70B9\u51FB\u5207\u6362\u6309\u94AE\u6743\u9650(\u7528\u6237id\u4E3A2) "),q=o(" \u70B9\u51FB\u5207\u6362\u6309\u94AE\u6743\u9650(\u7528\u6237id\u4E3A1,\u9ED8\u8BA4) "),z=o("\u7EC4\u4EF6\u65B9\u5F0F\u5224\u65AD\u6743\u9650"),G=o(" \u62E5\u6709code ['1000']\u6743\u9650\u53EF\u89C1 "),H=o(" \u62E5\u6709code ['2000']\u6743\u9650\u53EF\u89C1 "),J=o(" \u62E5\u6709code ['1000','2000']\u89D2\u8272\u6743\u9650\u53EF\u89C1 "),O=o("\u51FD\u6570\u65B9\u5F0F\u65B9\u5F0F\u5224\u65AD\u6743\u9650"),Q=o(" \u62E5\u6709code ['1000']\u6743\u9650\u53EF\u89C1 "),R=o(" \u62E5\u6709code ['2000']\u6743\u9650\u53EF\u89C1 "),X=o(" \u62E5\u6709code ['1000','2000']\u89D2\u8272\u6743\u9650\u53EF\u89C1 "),Y=o("\u6307\u4EE4\u65B9\u5F0F\u65B9\u5F0F\u5224\u65AD\u6743\u9650(\u8BE5\u65B9\u5F0F\u4E0D\u80FD\u52A8\u6001\u4FEE\u6539\u6743\u9650.)"),Z=o(" \u62E5\u6709code ['1000']\u6743\u9650\u53EF\u89C1 "),uu=o(" \u62E5\u6709code ['2000']\u6743\u9650\u53EF\u89C1 "),eu=o(" \u62E5\u6709code ['1000','2000']\u89D2\u8272\u6743\u9650\u53EF\u89C1 ");function su(t,r,c,m,_,E){const p=l("CurrentPermissionMode"),n=l("el-divider"),i=l("el-alert"),e=l("el-button"),f=l("Authority"),y=l("PageWrapper"),B=x("auth");return a(),d(y,{contentBackground:"",title:"\u6309\u94AE\u6743\u9650\u63A7\u5236",description:"\u5FC5\u987B\u5904\u4E8E\u540E\u53F0\u6743\u9650\u6A21\u5F0F\u624D\u53EF\u6D4B\u8BD5\u6B64\u9875\u9762\u6240\u5C55\u793A\u7684\u529F\u80FD"},{default:u(()=>[s(p),k("p",null,[K,k("span",null,T(t.permissionStore.getPermCodeList),1)]),s(n),s(i,{class:"mt-4",type:"info",title:"\u70B9\u51FB\u540E\u8BF7\u67E5\u770B\u6309\u94AE\u53D8\u5316","show-icon":""}),s(n),s(e,{type:"primary",class:"mr-2",onClick:r[0]||(r[0]=A=>t.switchToken(2)),disabled:!t.isBackPremissionMode},{default:u(()=>[L]),_:1},8,["disabled"]),s(e,{type:"primary",onClick:r[1]||(r[1]=A=>t.switchToken(1)),disabled:!t.isBackPremissionMode},{default:u(()=>[q]),_:1},8,["disabled"]),t.isBackPremissionMode?(a(),N(V,{key:0},[s(n,null,{default:u(()=>[z]),_:1}),s(f,{value:"1000"},{default:u(()=>[s(e,{type:"primary",class:"mx-4"},{default:u(()=>[G]),_:1})]),_:1}),s(f,{value:"2000"},{default:u(()=>[s(e,{color:"success",class:"mx-4"},{default:u(()=>[H]),_:1})]),_:1}),s(f,{value:["1000","2000"]},{default:u(()=>[s(e,{color:"error",class:"mx-4"},{default:u(()=>[J]),_:1})]),_:1}),s(n,null,{default:u(()=>[O]),_:1}),t.hasPermission("1000")?(a(),d(e,{key:0,type:"primary",class:"mx-4"},{default:u(()=>[Q]),_:1})):F("",!0),t.hasPermission("2000")?(a(),d(e,{key:1,color:"success",class:"mx-4"},{default:u(()=>[R]),_:1})):F("",!0),t.hasPermission(["1000","2000"])?(a(),d(e,{key:2,color:"error",class:"mx-4"},{default:u(()=>[X]),_:1})):F("",!0),s(n,null,{default:u(()=>[Y]),_:1}),h((a(),d(e,{type:"primary",class:"mx-4"},{default:u(()=>[Z]),_:1})),[[B,"1000"]]),h((a(),d(e,{color:"success",class:"mx-4"},{default:u(()=>[uu]),_:1})),[[B,"2000"]]),h((a(),d(e,{color:"error",class:"mx-4"},{default:u(()=>[eu]),_:1})),[[B,["1000","2000"]]])],64)):F("",!0)]),_:1})}var cu=P(I,[["render",su]]);export{cu as default};
