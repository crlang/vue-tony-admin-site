import{_ as L,V as y,I as E,u as S,e as U,h as M,o as $}from"./index.a180eed7.js";import{D as A}from"./siteSetting.0be25c3f.js";import{c as b,u as N}from"./index.7865af84.js";import{b as O}from"./index.2a498586.js";import{h as V}from"./header.837ca3c8.js";import{x,aq as B,ar as P,ap as R,y as z,X as t,z as u,A as F,$ as o,a2 as n,G as c,Y as h,aa as f,F as d,a9 as C,D as g,a7 as T}from"./vendor.5e678e09.js";import"./index.0377b249.js";import"./useWindowSizeFn.c212c501.js";import"./propTypes.13e00d90.js";import"./clickOutside.d6da8543.js";import"./lock.5cda1607.js";import"./useAttrs.f893c8ed.js";const W=x({name:"UserDropdown",components:{ElDropdown:B,ElDropdownItem:P,ElDropdownMenu:R,LockAction:b(()=>y(()=>import("./LockModal.3ef6e1fd.js"),["assets/LockModal.3ef6e1fd.js","assets/LockModal.d84ca271.css","assets/index.a180eed7.js","assets/index.dfcdb696.css","assets/vendor.5e678e09.js","assets/index.2a498586.js","assets/index.2fd013d8.css","assets/useAttrs.f893c8ed.js","assets/useWindowSizeFn.c212c501.js","assets/lock.5cda1607.js","assets/header.837ca3c8.js","assets/BasicForm.b7b18809.js","assets/BasicForm.4c21ce61.css","assets/index.24c16315.js","assets/index.3e4f3c3c.js","assets/index.0f2a3469.css","assets/propTypes.13e00d90.js","assets/uuid.2b29000c.js","assets/download.86b751ed.js","assets/base64Conver.bb012c73.js","assets/index.056c9b24.js","assets/index.4ea4c51b.css","assets/useForm.5f193a64.js"])),Icon:E},props:{itemClass:String},setup(){const{prefixCls:e}=S("header-user-dropdown"),{t:_}=U(),{getShowDoc:k,getUseLockPage:w}=N(),i=M(),D=z(()=>{const{realName:r="",avatar:I,desc:j}=i.getUserInfo||{};return{realName:r,avatar:I||V,desc:j}}),[s,{openModal:a}]=O();function l(){a(!0)}function m(){i.confirmLoginOut()}function p(){$(A)}function v(r){switch(console.log("handle key",r),r){case"logout":m();break;case"doc":p();break;case"lock":l();break}}return{prefixCls:e,t:_,getUserInfo:D,handleMenuClick:v,getShowDoc:k,register:s,getUseLockPage:w}}}),q=["src"];function G(e,_,k,w,i,D){const s=t("Icon"),a=t("ElDropdownItem"),l=t("ElDropdownMenu"),m=t("ElDropdown"),p=t("LockAction");return u(),F(T,null,[o(m,{onCommand:e.handleMenuClick},{dropdown:n(()=>[o(l,{class:c(`${e.prefixCls}-menulist`)},{default:n(()=>[e.getShowDoc?(u(),h(a,{key:0,command:"doc"},{default:n(()=>[o(s,{class:"mr-2",icon:"ion:document-text-outline"}),f(d(e.t("layout.header.dropdownItemDoc")),1)]),_:1})):C("",!0),e.getUseLockPage?(u(),h(a,{key:1,divided:e.getShowDoc,command:"lock"},{default:n(()=>[o(s,{class:"mr-2",icon:"ion:lock-closed-outline"}),f(d(e.t("layout.header.tooltipLock")),1)]),_:1},8,["divided"])):C("",!0),o(a,{command:"logout",divided:""},{default:n(()=>[o(s,{class:"mr-2",icon:"ion:power-outline"}),f(d(e.t("layout.header.dropdownItemLoginOut")),1)]),_:1})]),_:1},8,["class"])]),default:n(()=>[g("div",{class:c([e.prefixCls,e.itemClass])},[g("img",{class:c(`${e.prefixCls}__avatar`),src:e.getUserInfo.avatar},null,10,q),g("span",{class:c(`${e.prefixCls}__name`)},d(e.getUserInfo.realName),3)],2)]),_:1},8,["onCommand"]),o(p,{onRegister:e.register},null,8,["onRegister"])],64)}var te=L(W,[["render",G]]);export{te as default};
