var y=(i,a,e)=>new Promise((c,p)=>{var u=r=>{try{t(e.next(r))}catch(s){p(s)}},d=r=>{try{t(e.throw(r))}catch(s){p(s)}},t=r=>r.done?c(r.value):Promise.resolve(r.value).then(u,d);t((e=e.apply(i,a)).next())});import{y as E,a as _,b as v,U as T,z as f,A as l,F as L,a3 as h,I as w,J as C,R as n,H as m,u as o,P as j,Q as g}from"./ex-pkg-@vue-6f720869.js";import{al as A,e as B,aD as D,f as F}from"./index-c76c27a8.js";import{getLogColumns as R}from"./data-862b8a05.js";import{B as S}from"./TableImg-21ce1a1f.js";import{u as I}from"./useTable-a05066a2.js";import{c6 as V}from"./ex-pkg-vendor-ad21d406.js";import{u as b}from"./ex-pkg-element-plus-387a9e67.js";import"./ex-pkg-@element-plus-8be47ecc.js";import"./ex-pkg-@vueuse-7c1f2694.js";import"./ex-pkg-@iconify-9ec765d0.js";import"./ex-pkg-mockjs-d5ed3ada.js";import"./ex-pkg-@popperjs-d61e97fc.js";import"./BasicForm-8c6c9953.js";import"./index-0a4c95ac.js";import"./index-17b9734e.js";import"./index-b5118db3.js";import"./useAttrs-fe96f36e.js";import"./useWindowSizeFn-e2bb9137.js";import"./index-c26878d4.js";import"./index-b5c2dac5.js";import"./tsxHelper-6b2f4741.js";import"./index-5b1d7164.js";import"./useTimeout-a639f925.js";import"./propTypes-7529eeb4.js";import"./download-00b02bb0.js";import"./base64Conver-6d09fa87.js";import"./index-7788d2aa.js";import"./ex-pkg-@zxcvbn-ts-4e0726c1.js";import"./index-c48e4c62.js";import"./useCopyToClipboard-ec23ff2f.js";import"./useForm-a69bdb0d.js";import"./index-df532586.js";var x;(function(i){i.Error="/error"})(x||(x={}));const z=()=>A.get({url:x.Error}),H={class:"p-4"},N=["src"],ye=E({setup(i){const a=_([]),{t:e}=B(),c=D(),[p,{setTableData:u}]=I({title:e("sys.errorLog.tableTitle"),columns:R()});v(()=>c.getErrorLogInfoList,s=>{T(()=>{u(V(s))})},{immediate:!0}),F();function d(){throw new Error("fire vue error!")}function t(){a.value.push(`${new Date().getTime()}.png`)}function r(){return y(this,null,function*(){yield z()})}return(s,J)=>(f(),l("div",H,[(f(!0),l(L,null,h(a.value,k=>w((f(),l("img",{key:k,src:k},null,8,N)),[[C,!1]])),128)),n(o(S),{onRegister:o(p),class:"error-handle-table"},{toolbar:m(()=>[n(o(b),{onClick:d,type:"primary"},{default:m(()=>[j(g(o(e)("sys.errorLog.fireVueError")),1)]),_:1}),n(o(b),{onClick:t,type:"primary"},{default:m(()=>[j(g(o(e)("sys.errorLog.fireResourceError")),1)]),_:1}),n(o(b),{onClick:r,type:"primary"},{default:m(()=>[j(g(o(e)("sys.errorLog.fireAjaxError")),1)]),_:1})]),_:1},8,["onRegister"])]))}});export{ye as default};
