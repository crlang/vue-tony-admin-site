var f=(e,r,o)=>new Promise((d,t)=>{var m=s=>{try{a(o.next(s))}catch(n){t(n)}},i=s=>{try{a(o.throw(s))}catch(n){t(n)}},a=s=>s.done?d(s.value):Promise.resolve(s.value).then(m,i);a((o=o.apply(e,r)).next())});import{_ as v,u as C,d as h}from"./index-26bedde3.js";import{B as x,a as F}from"./index-ddb5b200.js";import{u as w}from"./lock-e44984cc.js";import{h as y}from"./header-3277e2cf.js";import{B as L}from"./BasicForm-108eec17.js";import{u as $}from"./useForm-94dacd0e.js";import{u as M}from"./ex-pkg-element-plus-f609432a.js";import{y as R,l as _,Z as u,z as I,G as N,H as j,K as l,L as p,Q as S,R as b,P as E}from"./ex-pkg-@vue-feb543c0.js";import"./ex-pkg-vendor-bb3f8859.js";import"./ex-pkg-mockjs-ec7a233b.js";import"./useAttrs-972c2e18.js";import"./useWindowSizeFn-3a4b39e4.js";import"./index-93f62e3c.js";import"./index-8ceb82bc.js";import"./tsxHelper-ab68d96a.js";import"./index-8a4d5146.js";import"./useTimeout-998fb248.js";import"./index-44cf8bec.js";import"./index-b436c267.js";import"./propTypes-605b60b6.js";import"./download-affeb443.js";import"./base64Conver-6d09fa87.js";import"./index-325600b8.js";import"./index-6b3050e7.js";import"./useCopyToClipboard-6f8ca492.js";const A=R({name:"LockModal",components:{ElButton:M,BasicModal:x,BasicForm:L},props:{visible:{type:Boolean,default:!1}},setup(){const{prefixCls:e}=C("header-lock-modal"),r=h(),o=w(),d=_(()=>{var c;return(c=r.getUserInfo)==null?void 0:c.realName}),[t,{closeModal:m}]=F(),[i,{validateField:a,resetFields:s,getFieldsValue:n}]=$({showActionButtonGroup:!1,schemas:[{field:"password",label:"",component:"ElInput",componentProps:{type:"password",placeholder:"\u9501\u5C4F\u5BC6\u7801"},required:!0}]});function g(){return f(this,null,function*(){yield a();const B=n().password;m(),o.setLockInfo({isLock:!0,pwd:B}),yield s()})}const k=_(()=>{const{avatar:c}=r.getUserInfo;return c||y});return{prefixCls:e,getRealName:d,register:t,registerForm:i,avatar:k,handleLock:g}}}),T=["src"],V=E(" \u9501\u5B9A ");function z(e,r,o,d,t,m){const i=u("BasicForm"),a=u("ElButton"),s=u("BasicModal");return I(),N(s,{title:"\u9501\u5B9A\u5C4F\u5E55",onRegister:e.register,width:600,showFooter:!1,"custom-class":e.prefixCls},{default:j(()=>[l("div",{class:p(`${e.prefixCls}__entry`)},[l("div",{class:p(`${e.prefixCls}__header`)},[l("img",{src:e.avatar,class:p(`${e.prefixCls}__header-img`)},null,10,T),l("p",{class:p(`${e.prefixCls}__header-name`)},S(e.getRealName),3)],2),b(i,{onRegister:e.registerForm},null,8,["onRegister"]),l("div",{class:p(`${e.prefixCls}__footer`)},[b(a,{type:"primary",class:"mt-2",onClick:e.handleLock},{default:j(()=>[V]),_:1},8,["onClick"])],2)],2)]),_:1},8,["onRegister","custom-class"])}var me=v(A,[["render",z]]);export{me as default};
