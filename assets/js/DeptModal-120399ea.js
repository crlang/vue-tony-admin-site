var _=Object.defineProperty;var m=Object.getOwnPropertySymbols;var M=Object.prototype.hasOwnProperty,D=Object.prototype.propertyIsEnumerable;var d=(o,t,e)=>t in o?_(o,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[t]=e,f=(o,t)=>{for(var e in t||(t={}))M.call(t,e)&&d(o,e,t[e]);if(m)for(var e of m(t))D.call(t,e)&&d(o,e,t[e]);return o};var c=(o,t,e)=>new Promise((l,a)=>{var i=s=>{try{u(e.next(s))}catch(r){a(r)}},n=s=>{try{u(e.throw(s))}catch(r){a(r)}},u=s=>s.done?l(s.value):Promise.resolve(s.value).then(i,n);u((e=e.apply(o,t)).next())});import{B as v,a as y}from"./index-b5118db3.js";import{B as j}from"./BasicForm-8c6c9953.js";import{u as k}from"./useForm-a69bdb0d.js";import{af as w}from"./ex-pkg-element-plus-387a9e67.js";import{a4 as C,y as P,a as S,u as b,l as N,Z as F,z as R,G as $,H as x,R as I,D as T}from"./ex-pkg-@vue-6f720869.js";import{a as V}from"./system-a0847f05.js";import{_ as q}from"./index-c76c27a8.js";const X=[{label:"\u90E8\u95E8\u540D\u79F0",prop:"deptName",width:160,align:"left"},{label:"\u6392\u5E8F",prop:"orderNo",width:100},{label:"\u72B6\u6001",prop:"status",width:100,customRender:({record:o})=>{const e=~~o.status==0,l=e?"success":"danger",a=e?"\u542F\u7528":"\u505C\u7528";return C(w,{type:l},()=>a)}},{label:"\u521B\u5EFA\u65F6\u95F4",prop:"createTime",width:180},{label:"\u5907\u6CE8",prop:"remark"}],Y=[{field:"deptName",label:"\u90E8\u95E8\u540D\u79F0",component:"ElInput",colProps:{span:8}},{field:"status",label:"\u72B6\u6001",component:"ElSelect",componentProps:{options:[{label:"\u542F\u7528",value:"0"},{label:"\u505C\u7528",value:"1"}]},colProps:{span:8}}],O=[{field:"deptName",label:"\u90E8\u95E8\u540D\u79F0",component:"ElInput",required:!0},{field:"orderNo",label:"\u6392\u5E8F",component:"ElInputNumber",defaultValue:0,required:!0},{field:"status",label:"\u72B6\u6001",component:"ElRadioButton",defaultValue:"0",componentProps:{options:[{label:"\u542F\u7528",value:"0"},{label:"\u505C\u7528",value:"1"}]},required:!0},{label:"\u5907\u6CE8",field:"remark",component:"ElInput",componentProps:{type:"textarea"}}],z=P({name:"DeptModal",components:{BasicModal:v,BasicForm:j},emits:["success","register"],setup(o,{emit:t}){const e=S(!0),[l,{resetFields:a,setFieldsValue:i,updateSchema:n,validate:u}]=k({labelWidth:100,schemas:O,showActionButtonGroup:!1}),[s,{setModalProps:r,closeModal:g}]=y(p=>c(this,null,function*(){a(),r({confirmButton:{loading:!1}}),e.value=!!(p==null?void 0:p.isUpdate),b(e)&&i(f({},p.record));const h=yield V();n({field:"parentDept",componentProps:{treeData:h}})})),E=N(()=>b(e)?"\u7F16\u8F91\u90E8\u95E8":"\u65B0\u589E\u90E8\u95E8");function B(){return c(this,null,function*(){try{yield u(),r({confirmButton:{loading:!0}}),g(),t("success")}finally{r({confirmButton:{loading:!1}})}})}return{registerModal:s,registerForm:l,getTitle:E,handleSubmit:B}}});function A(o,t,e,l,a,i){const n=F("BasicForm"),u=F("BasicModal");return R(),$(u,T(o.$attrs,{onRegister:o.registerModal,title:o.getTitle,onOk:o.handleSubmit}),{default:x(()=>[I(n,{onRegister:o.registerForm},null,8,["onRegister"])]),_:1},16,["onRegister","title","onOk"])}var G=q(z,[["render",A]]),ee=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:G});export{G as D,ee as a,X as c,Y as s};
