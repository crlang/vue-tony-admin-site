var E=(i,a,e)=>new Promise((f,n)=>{var c=r=>{try{t(e.next(r))}catch(s){n(s)}},u=r=>{try{t(e.throw(r))}catch(s){n(s)}},t=r=>r.done?f(r.value):Promise.resolve(r.value).then(c,u);t((e=e.apply(i,a)).next())});import{y as _,a as k,b as T,U as L,z as d,A as l,F as h,a3 as v,I as w,J as C,R as p,H as m,u as o,P as j,Q as g}from"./ex-pkg-@vue-6f720869.js";import{al as A,e as B,aC as D,f as F}from"./index-034694ef.js";import{getLogColumns as R}from"./data-113266be.js";import{B as S}from"./TableImg-244764d7.js";import{u as I}from"./useTable-a6392c55.js";import{cG as V}from"./ex-pkg-vendor-a94c680b.js";import{u as x}from"./ex-pkg-element-plus-fdfdae45.js";import"./ex-pkg-mockjs-2c72399a.js";import"./BasicForm-7e56ab34.js";import"./index-504d29a3.js";import"./index-ccc912f1.js";import"./index-ff107243.js";import"./useAttrs-fe96f36e.js";import"./useWindowSizeFn-f8d8829f.js";import"./index-d0007c65.js";import"./index-4566a42e.js";import"./tsxHelper-97245be0.js";import"./index-c7b8aefc.js";import"./useTimeout-deb974d8.js";import"./propTypes-7bd4f998.js";import"./download-1f1abd5f.js";import"./base64Conver-6d09fa87.js";import"./index-7fc3c83a.js";import"./index-c7eaf852.js";import"./useCopyToClipboard-963b5f35.js";import"./useForm-9a91b2d5.js";import"./index-fe480704.js";var b;(function(i){i.Error="/error"})(b||(b={}));const H=()=>A.get({url:b.Error}),z={class:"p-4"},N=["src"],je=_({setup(i){const a=k([]),{t:e}=B(),f=D(),[n,{setTableData:c}]=I({title:e("sys.errorLog.tableTitle"),columns:R()});T(()=>f.getErrorLogInfoList,s=>{L(()=>{c(V(s))})},{immediate:!0}),F();function u(){throw new Error("fire vue error!")}function t(){a.value.push(`${new Date().getTime()}.png`)}function r(){return E(this,null,function*(){yield H()})}return(s,G)=>(d(),l("div",z,[(d(!0),l(h,null,v(a.value,y=>w((d(),l("img",{key:y,src:y},null,8,N)),[[C,!1]])),128)),p(o(S),{onRegister:o(n),class:"error-handle-table"},{toolbar:m(()=>[p(o(x),{onClick:u,type:"primary"},{default:m(()=>[j(g(o(e)("sys.errorLog.fireVueError")),1)]),_:1}),p(o(x),{onClick:t,type:"primary"},{default:m(()=>[j(g(o(e)("sys.errorLog.fireResourceError")),1)]),_:1}),p(o(x),{onClick:r,type:"primary"},{default:m(()=>[j(g(o(e)("sys.errorLog.fireAjaxError")),1)]),_:1})]),_:1},8,["onRegister"])]))}});export{je as default};
