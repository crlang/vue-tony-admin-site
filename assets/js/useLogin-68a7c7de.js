var O=Object.defineProperty;var B=Object.getOwnPropertySymbols;var A=Object.prototype.hasOwnProperty,I=Object.prototype.propertyIsEnumerable;var w=(u,e,r)=>e in u?O(u,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):u[e]=r,f=(u,e)=>{for(var r in e||(e={}))A.call(e,r)&&w(u,r,e[r]);if(B)for(var r of B(e))I.call(e,r)&&w(u,r,e[r]);return u};var g=(u,e,r)=>new Promise((n,l)=>{var d=t=>{try{F(r.next(t))}catch(o){l(o)}},R=t=>{try{F(r.throw(t))}catch(o){l(o)}},F=t=>t.done?n(t.value):Promise.resolve(t.value).then(d,R);F((r=r.apply(u,e)).next())});import{a as P,l as c,u as i}from"./ex-pkg-@vue-feb543c0.js";var v;(function(u){u[u.LOGIN=0]="LOGIN",u[u.REGISTER=1]="REGISTER",u[u.RESET_PASSWORD=2]="RESET_PASSWORD",u[u.MOBILE=3]="MOBILE",u[u.QR_CODE=4]="QR_CODE"})(v||(v={}));const E=P(0);function G(){function u(n){E.value=n}const e=c(()=>E.value);function r(){u(0)}return{setLoginState:u,getLoginState:e,handleBackLogin:r}}function T(u){function e(){return g(this,null,function*(){const r=i(u);return r?yield r.validate():void 0})}return{validForm:e}}function _(u){const e=c(()=>m("\u8BF7\u8F93\u5165\u8D26\u53F7")),r=c(()=>m("\u8BF7\u8F93\u5165\u5BC6\u7801")),n=c(()=>m("\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801")),l=(t,o,s)=>s(o?null:new Error("\u52FE\u9009\u540E\u624D\u80FD\u6CE8\u518C")),d=(t,o,s,a)=>{if(o)if(u[a]===o)s();else return s(new Error("\u4E24\u6B21\u8F93\u5165\u5BC6\u7801\u4E0D\u4E00\u81F4"));else return s(new Error("\u8BF7\u8F93\u5165\u5BC6\u7801"))},R=(t,o,s)=>{if(o)if(/^1[3,4,5,6,7,8,9][0-9]{9}$/.test(o))s();else return s(new Error("\u624B\u673A\u53F7\u7801\u4E0D\u6B63\u786E"));else return s(new Error("\u8BF7\u8F93\u5165\u624B\u673A\u53F7\u7801"))};return{getFormRules:c(()=>{const t=i(e),o=i(r),a={sms:i(n),mobile:[{required:!0,validator:R,trigger:"blur"}]};switch(i(E)){case 1:return f({account:t,password:o,confirmPassword:[{validator:(C,p,D)=>d(C,p,D,"password"),trigger:"blur"}],policy:[{validator:l,trigger:"change"}]},a);case 2:return f({account:t},a);case 3:return a;default:return{account:t,password:o}}})}}function m(u,e="blur"){return[{required:!0,message:u,trigger:e}]}export{v as L,_ as a,T as b,G as u};
