var E=(a,i,e)=>new Promise((c,n)=>{var d=r=>{try{t(e.next(r))}catch(s){n(s)}},f=r=>{try{t(e.throw(r))}catch(s){n(s)}},t=r=>r.done?c(r.value):Promise.resolve(r.value).then(d,f);t((e=e.apply(a,i)).next())});import{y as _,a as k,b as T,U as L,z as u,A as l,F as h,a3 as v,I as w,J as C,R as p,H as m,u as o,P as j,Q as b}from"./ex-pkg-@vue-6f720869.js";import{al as B,e as A,aB as D,f as F}from"./index-94a7e7e0.js";import{getLogColumns as R}from"./data-3a90cdc2.js";import{B as S}from"./BasicTable-e73bdb7a.js";import{u as V}from"./useTable-6618d992.js";import{cq as H}from"./ex-pkg-vendor-69b4619e.js";import{x as g}from"./ex-pkg-element-plus-6a2cfc13.js";import"./ex-pkg-mockjs-abb76a9d.js";import"./BasicForm-d9c6bead.js";import"./index-4a8d1af3.js";import"./index-2543fa86.js";import"./index-9fa4e1de.js";import"./useAttrs-fe96f36e.js";import"./useWindowSizeFn-414339e6.js";import"./index-874009eb.js";import"./index-230bee16.js";import"./tsxHelper-f8a518c2.js";import"./index-55f6df6d.js";import"./useTimeout-dc9cc03d.js";import"./propTypes-fbd6d81b.js";import"./download-844ebaa9.js";import"./base64Conver-6d09fa87.js";import"./index-753cabc5.js";import"./index-f5b6bf30.js";import"./useCopyToClipboard-83ab3f80.js";import"./useForm-2317b26a.js";import"./index-daa1bcd9.js";var x;(function(a){a.Error="/error"})(x||(x={}));const I=()=>B.get({url:x.Error}),z={class:"p-4"},N=["src"],je=_({setup(a){const i=k([]),{t:e}=A(),c=D(),[n,{setTableData:d}]=V({title:e("sys.errorLog.tableTitle"),columns:R()});T(()=>c.getErrorLogInfoList,s=>{L(()=>{d(H(s))})},{immediate:!0}),F();function f(){throw new Error("fire vue error!")}function t(){i.value.push(`${new Date().getTime()}.png`)}function r(){return E(this,null,function*(){yield I()})}return(s,q)=>(u(),l("div",z,[(u(!0),l(h,null,v(i.value,y=>w((u(),l("img",{key:y,src:y},null,8,N)),[[C,!1]])),128)),p(o(S),{onRegister:o(n),class:"error-handle-table"},{toolbar:m(()=>[p(o(g),{onClick:f,type:"primary"},{default:m(()=>[j(b(o(e)("sys.errorLog.fireVueError")),1)]),_:1}),p(o(g),{onClick:t,type:"primary"},{default:m(()=>[j(b(o(e)("sys.errorLog.fireResourceError")),1)]),_:1}),p(o(g),{onClick:r,type:"primary"},{default:m(()=>[j(b(o(e)("sys.errorLog.fireAjaxError")),1)]),_:1})]),_:1},8,["onRegister"])]))}});export{je as default};
