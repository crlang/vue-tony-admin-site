var E=(i,a,e)=>new Promise((c,n)=>{var f=r=>{try{t(e.next(r))}catch(s){n(s)}},u=r=>{try{t(e.throw(r))}catch(s){n(s)}},t=r=>r.done?c(r.value):Promise.resolve(r.value).then(f,u);t((e=e.apply(i,a)).next())});import{y as _,a as k,b as T,U as L,z as l,A as d,F as h,a3 as v,I as w,J as C,R as p,H as m,u as o,P as b,Q as j}from"./ex-pkg-@vue-6f720869.js";import{al as B,e as A,aB as D,f as F}from"./index-8e69729b.js";import{getLogColumns as R}from"./data-efd2a3a1.js";import{B as S}from"./BasicTable-0f3386bf.js";import{u as V}from"./useTable-178612d2.js";import{cq as H}from"./ex-pkg-vendor-69b4619e.js";import{x as g}from"./ex-pkg-element-plus-6a2cfc13.js";import"./ex-pkg-mockjs-abb76a9d.js";import"./BasicForm-4389fd93.js";import"./index-bcceac7a.js";import"./index-3ab93494.js";import"./index-29499780.js";import"./useAttrs-fe96f36e.js";import"./useWindowSizeFn-414339e6.js";import"./index-9b3b57b7.js";import"./index-583c82b1.js";import"./tsxHelper-fbe4f683.js";import"./index-e74afd53.js";import"./useTimeout-e48d95f5.js";import"./propTypes-fbd6d81b.js";import"./download-aa6ecb89.js";import"./base64Conver-6d09fa87.js";import"./index-b55369a6.js";import"./index-9bb5d20f.js";import"./useCopyToClipboard-3734008b.js";import"./useForm-944717e0.js";import"./index-46033b04.js";var x;(function(i){i.Error="/error"})(x||(x={}));const I=()=>B.get({url:x.Error}),z={class:"p-4"},N=["src"],be=_({setup(i){const a=k([]),{t:e}=A(),c=D(),[n,{setTableData:f}]=V({title:e("sys.errorLog.tableTitle"),columns:R()});T(()=>c.getErrorLogInfoList,s=>{L(()=>{f(H(s))})},{immediate:!0}),F();function u(){throw new Error("fire vue error!")}function t(){a.value.push(`${new Date().getTime()}.png`)}function r(){return E(this,null,function*(){yield I()})}return(s,q)=>(l(),d("div",z,[(l(!0),d(h,null,v(a.value,y=>w((l(),d("img",{key:y,src:y},null,8,N)),[[C,!1]])),128)),p(o(S),{onRegister:o(n),class:"error-handle-table"},{toolbar:m(()=>[p(o(g),{onClick:u,type:"primary"},{default:m(()=>[b(j(o(e)("sys.errorLog.fireVueError")),1)]),_:1}),p(o(g),{onClick:t,type:"primary"},{default:m(()=>[b(j(o(e)("sys.errorLog.fireResourceError")),1)]),_:1}),p(o(g),{onClick:r,type:"primary"},{default:m(()=>[b(j(o(e)("sys.errorLog.fireAjaxError")),1)]),_:1})]),_:1},8,["onRegister"])]))}});export{be as default};
