import{ad as j,_ as A,w as k}from"./index-94a7e7e0.js";import{g as T}from"./tsxHelper-f8a518c2.js";import{y as E,a as D,_ as B,l,u as i,b as I,q as M,U as P,R as s,Z as S,z as L,G as q,H as h,K as g,Q as W,P as C}from"./ex-pkg-@vue-6f720869.js";import{P as U}from"./index-daa1bcd9.js";import{d as z}from"./data-9aa366f0.js";import{a5 as G}from"./ex-pkg-element-plus-6a2cfc13.js";import"./ex-pkg-vendor-69b4619e.js";import"./ex-pkg-mockjs-abb76a9d.js";const x="virtual-scroll";function a(t,_="px"){if(!(t==null||t===""))return isNaN(+t)?String(t):`${Number(t)}${_}`}var K=E({name:"VirtualScroll",props:{height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String],bench:{type:[Number,String],default:0},itemHeight:{type:[Number,String],required:!0},items:{type:Array,default:()=>[]}},setup(t,{slots:_}){const u=D(null),n=B({first:0,last:0,scrollTop:0}),p=l(()=>parseInt(t.bench,10)),c=l(()=>parseInt(t.itemHeight,10)),d=l(()=>Math.max(0,n.first-i(p))),f=l(()=>Math.min((t.items||[]).length,n.last+i(p))),v=l(()=>({height:a((t.items||[]).length*i(c))})),m=l(()=>{const e={},r=a(t.height),o=a(t.minHeight),H=a(t.minWidth),w=a(t.maxHeight),F=a(t.maxWidth),N=a(t.width);return r&&(e.height=r),o&&(e.minHeight=o),H&&(e.minWidth=H),w&&(e.maxHeight=w),F&&(e.maxWidth=F),N&&(e.width=N),e});I([()=>t.itemHeight,()=>t.height],()=>{y()});function b(e){const r=i(u);if(!r)return 0;const o=parseInt(t.height||0,10)||r.clientHeight;return e+Math.ceil(o/i(c))}function R(){return Math.floor(n.scrollTop/i(c))}function y(){const e=i(u);!e||(n.scrollTop=e.scrollTop,n.first=R(),n.last=b(n.first))}function V(){const{items:e=[]}=t;return e.slice(i(d),i(f)).map($)}function $(e,r){r+=i(d);const o=a(r*i(c));return s("div",{class:`${x}__item`,style:{top:o},key:r},[T(_,"default",{index:r,item:e})])}return M(()=>{n.last=b(0),P(()=>{const e=i(u);!e||j({el:e,name:"scroll",listener:y,wait:0})})}),()=>s("div",{class:x,style:i(m),ref:u},[s("div",{class:`${x}__container`,style:i(v)},[V()])])}});var Q=A(K,[["__scopeId","data-v-bb351fa0"]]);const Z=k(Q);const J=E({components:{ElDivider:G,VScroll:Z,PageWrapper:U},setup(){return{data:z}}}),O=C("\u57FA\u7840\u6EDA\u52A8\u793A\u4F8B"),X={class:"virtual-scroll-demo-wrap"},Y={class:"virtual-scroll-demo__item"},tt=C("\u5373\u4F7F\u4E0D\u53EF\u89C1\uFF0C\u4E5F\u9884\u5148\u52A0\u8F7D50\u6761\u6570\u636E\uFF0C\u9632\u6B62\u7A7A\u767D"),et={class:"virtual-scroll-demo-wrap"},it={class:"virtual-scroll-demo__item"};function rt(t,_,u,n,p,c){const d=S("el-divider"),f=S("VScroll"),v=S("PageWrapper");return L(),q(v,{title:"\u865A\u62DF\u6EDA\u52A8\u793A\u4F8B"},{default:h(()=>[s(d,null,{default:h(()=>[O]),_:1}),g("div",X,[s(f,{itemHeight:60,items:t.data,height:300},{default:h(({item:m})=>[g("div",Y,W(m.title),1)]),_:1},8,["items"])]),s(d,null,{default:h(()=>[tt]),_:1}),g("div",et,[s(f,{items:t.data,itemHeight:60,height:300,bench:50},{default:h(({item:m})=>[g("div",it,W(m.title),1)]),_:1},8,["items"])])]),_:1})}var mt=A(J,[["render",rt],["__scopeId","data-v-41c7e449"]]);export{mt as default};
