var l=(e,r,a)=>new Promise((d,i)=>{var m=t=>{try{s(a.next(t))}catch(c){i(c)}},o=t=>{try{s(a.throw(t))}catch(c){i(c)}},s=t=>t.done?d(t.value):Promise.resolve(t.value).then(m,o);s((a=a.apply(e,r)).next())});import{B as b}from"./BasicForm-8c6c9953.js";import{u as v}from"./useForm-a69bdb0d.js";import{C as g}from"./index-c26878d4.js";import{a as C}from"./index-80750a67.js";import{f as x,h,_ as F}from"./index-c76c27a8.js";import{h as B}from"./header-3277e2cf.js";import{a as k}from"./account-97a3bab4.js";import{b as A}from"./data-9296c6c3.js";import{u as S}from"./upload-4f5fca92.js";import{y as w,z as y,u as I}from"./ex-pkg-element-plus-387a9e67.js";import{y as E,q as T,l as z,Z as n,z as R,G as U,H as u,R as p,K as f,b5 as V,b4 as $,P as M}from"./ex-pkg-@vue-6f720869.js";import"./index-0a4c95ac.js";import"./ex-pkg-@vueuse-7c1f2694.js";import"./ex-pkg-vendor-ad21d406.js";import"./ex-pkg-mockjs-d5ed3ada.js";import"./ex-pkg-@element-plus-8be47ecc.js";import"./index-17b9734e.js";import"./index-b5118db3.js";import"./useAttrs-fe96f36e.js";import"./useWindowSizeFn-e2bb9137.js";import"./index-5b1d7164.js";import"./tsxHelper-6b2f4741.js";import"./useTimeout-a639f925.js";import"./propTypes-7529eeb4.js";import"./download-00b02bb0.js";import"./base64Conver-6d09fa87.js";import"./index-7788d2aa.js";import"./ex-pkg-@zxcvbn-ts-4e0726c1.js";import"./index-c48e4c62.js";import"./useCopyToClipboard-ec23ff2f.js";import"./index-b5c2dac5.js";import"./ex-pkg-@iconify-9ec765d0.js";import"./ex-pkg-@popperjs-d61e97fc.js";const N=E({components:{ElRow:w,ElCol:y,ElButton:I,BasicForm:b,CollapseContainer:g,CropperAvatar:C},setup(){const{createMessage:e}=x(),r=h(),[a,{setFieldsValue:d}]=v({labelWidth:120,schemas:A,showActionButtonGroup:!1});T(()=>l(this,null,function*(){const o=yield k();d(o)}));const i=z(()=>{const{avatar:o}=r.getUserInfo;return o||B});function m(o){const s=r.getUserInfo;s.avatar=o,r.setUserInfo(s)}return{avatar:i,register:a,uploadApi:S,updateAvatar:m,handleSubmit:()=>{e.success("\u66F4\u65B0\u6210\u529F\uFF01")}}}}),G=e=>(V("data-v-597f8820"),e=e(),$(),e),H={class:"change-avatar"},P=G(()=>f("div",{class:"mb-2"},"\u5934\u50CF",-1)),W=M(" \u66F4\u65B0\u57FA\u672C\u4FE1\u606F ");function q(e,r,a,d,i,m){const o=n("BasicForm"),s=n("el-col"),t=n("CropperAvatar"),c=n("el-row"),_=n("el-button"),j=n("CollapseContainer");return R(),U(j,{title:"\u57FA\u672C\u8BBE\u7F6E",canExpan:!1},{default:u(()=>[p(c,{gutter:24},{default:u(()=>[p(s,{span:14},{default:u(()=>[p(o,{onRegister:e.register},null,8,["onRegister"])]),_:1}),p(s,{span:10},{default:u(()=>[f("div",H,[P,p(t,{uploadApi:e.uploadApi,value:e.avatar,btnText:"\u66F4\u6362\u5934\u50CF",btnProps:{preIcon:"ep:upload-filled"},onChange:e.updateAvatar,width:"150"},null,8,["uploadApi","value","onChange"])])]),_:1})]),_:1}),p(_,{type:"primary",onClick:e.handleSubmit},{default:u(()=>[W]),_:1},8,["onClick"])]),_:1})}var ke=F(N,[["render",q],["__scopeId","data-v-597f8820"]]);export{ke as default};
