var l=(e,r,a)=>new Promise((d,i)=>{var m=t=>{try{s(a.next(t))}catch(u){i(u)}},o=t=>{try{s(a.throw(t))}catch(u){i(u)}},s=t=>t.done?d(t.value):Promise.resolve(t.value).then(m,o);s((a=a.apply(e,r)).next())});import{B as j}from"./BasicForm-4389fd93.js";import{u as C}from"./useForm-944717e0.js";import{C as v}from"./index-9b3b57b7.js";import{a as h}from"./index-5f85b622.js";import{f as F,h as g,_ as x}from"./index-8e69729b.js";import{h as B}from"./header-3277e2cf.js";import{a as A}from"./account-4f0fb9b6.js";import{b as S}from"./data-9296c6c3.js";import{u as w}from"./upload-28c939fd.js";import{B as I,C as k,x as y}from"./ex-pkg-element-plus-6a2cfc13.js";import{y as E,q as T,l as R,Z as n,z as U,G as V,H as c,R as p,K as f,b5 as $,b4 as M,P as N}from"./ex-pkg-@vue-6f720869.js";import"./index-bcceac7a.js";import"./ex-pkg-vendor-69b4619e.js";import"./ex-pkg-mockjs-abb76a9d.js";import"./index-3ab93494.js";import"./index-29499780.js";import"./useAttrs-fe96f36e.js";import"./useWindowSizeFn-414339e6.js";import"./index-e74afd53.js";import"./tsxHelper-fbe4f683.js";import"./useTimeout-e48d95f5.js";import"./propTypes-fbd6d81b.js";import"./download-aa6ecb89.js";import"./base64Conver-6d09fa87.js";import"./index-b55369a6.js";import"./index-9bb5d20f.js";import"./useCopyToClipboard-3734008b.js";import"./index-583c82b1.js";const z=E({components:{ElRow:I,ElCol:k,ElButton:y,BasicForm:j,CollapseContainer:v,CropperAvatar:h},setup(){const{createMessage:e}=F(),r=g(),[a,{setFieldsValue:d}]=C({labelWidth:120,schemas:S,showActionButtonGroup:!1});T(()=>l(this,null,function*(){const o=yield A();d(o)}));const i=R(()=>{const{avatar:o}=r.getUserInfo;return o||B});function m(o){const s=r.getUserInfo;s.avatar=o,r.setUserInfo(s)}return{avatar:i,register:a,uploadApi:w,updateAvatar:m,handleSubmit:()=>{e.success("\u66F4\u65B0\u6210\u529F\uFF01")}}}}),G=e=>($("data-v-597f8820"),e=e(),M(),e),H={class:"change-avatar"},P=G(()=>f("div",{class:"mb-2"},"\u5934\u50CF",-1)),W=N(" \u66F4\u65B0\u57FA\u672C\u4FE1\u606F ");function q(e,r,a,d,i,m){const o=n("BasicForm"),s=n("el-col"),t=n("CropperAvatar"),u=n("el-row"),_=n("el-button"),b=n("CollapseContainer");return U(),V(b,{title:"\u57FA\u672C\u8BBE\u7F6E",canExpan:!1},{default:c(()=>[p(u,{gutter:24},{default:c(()=>[p(s,{span:14},{default:c(()=>[p(o,{onRegister:e.register},null,8,["onRegister"])]),_:1}),p(s,{span:10},{default:c(()=>[f("div",H,[P,p(t,{uploadApi:e.uploadApi,value:e.avatar,btnText:"\u66F4\u6362\u5934\u50CF",btnProps:{preIcon:"ep:upload-filled"},onChange:e.updateAvatar,width:"150"},null,8,["uploadApi","value","onChange"])])]),_:1})]),_:1}),p(_,{type:"primary",onClick:e.handleSubmit},{default:c(()=>[W]),_:1},8,["onClick"])]),_:1})}var he=x(z,[["render",q],["__scopeId","data-v-597f8820"]]);export{he as default};
