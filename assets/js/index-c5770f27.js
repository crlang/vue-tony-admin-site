import{r as _,a as j,C as y}from"./index-c26878d4.js";import{aC as v,ao as h,_ as b}from"./index-c76c27a8.js";import{a as W,s as w,u as c,t as $,m as B,y as R,Z as k,z as I,G as P,H as d,R as p,P as x}from"./ex-pkg-@vue-6f720869.js";import{P as z}from"./index-df532586.js";import{u as E}from"./ex-pkg-element-plus-387a9e67.js";import"./index-b5c2dac5.js";import"./tsxHelper-6b2f4741.js";import"./index-5b1d7164.js";import"./ex-pkg-@element-plus-8be47ecc.js";import"./ex-pkg-vendor-ad21d406.js";import"./ex-pkg-mockjs-d5ed3ada.js";import"./useTimeout-a639f925.js";import"./ex-pkg-@vueuse-7c1f2694.js";import"./ex-pkg-@iconify-9ec765d0.js";import"./ex-pkg-@popperjs-d61e97fc.js";const H=Symbol("watermark-dom");function M(n=W(document.body)){const o=v(function(){const t=c(n);if(!t)return;const{clientHeight:e,clientWidth:s}=t;a({height:e,width:s})}),l=H.toString(),i=w(),u=()=>{const t=c(i);i.value=void 0;const e=c(n);!e||(t&&e.removeChild(t),_(e,o))};function C(t){const e=document.createElement("canvas"),s=300,m=240;Object.assign(e,{width:s,height:m});const r=e.getContext("2d");return r&&(r.rotate(-20*Math.PI/120),r.font="15px Vedana",r.fillStyle="rgba(0, 0, 0, 0.15)",r.textAlign="left",r.textBaseline="middle",r.fillText(t,s/20,m)),e.toDataURL("image/png")}function a(t={}){const e=c(i);!e||(h(t.width)&&(e.style.width=`${t.width}px`),h(t.height)&&(e.style.height=`${t.height}px`),h(t.str)&&(e.style.background=`url(${C(t.str)}) left top repeat`))}const f=t=>{if(c(i))return a({str:t}),l;const e=document.createElement("div");i.value=e,e.id=l,e.style.pointerEvents="none",e.style.top="0px",e.style.left="0px",e.style.position="absolute",e.style.zIndex="100000";const s=c(n);if(!s)return l;const{clientHeight:m,clientWidth:r}=s;return a({str:t,width:r,height:m}),s.appendChild(e),l};function g(t){f(t),j(document.documentElement,o),B()&&$(()=>{u()})}return{setWatermark:g,clear:u}}const S=R({components:{ElButton:E,CollapseContainer:y,PageWrapper:z},setup(){const{setWatermark:n,clear:o}=M();return{setWatermark:n,clear:o}}}),T=x("Create"),L=x("Clear"),N=x("Reset");function V(n,o,l,i,u,C){const a=k("el-button"),f=k("CollapseContainer"),g=k("PageWrapper");return I(),P(g,{title:"\u6C34\u5370\u793A\u4F8B"},{default:d(()=>[p(f,{class:"w-full h-32 bg-white rounded-md",title:"Global WaterMark"},{default:d(()=>[p(a,{type:"primary",class:"mr-2",onClick:o[0]||(o[0]=t=>n.setWatermark("WaterMark Info"))},{default:d(()=>[T]),_:1}),p(a,{type:"danger",class:"mr-2",onClick:n.clear},{default:d(()=>[L]),_:1},8,["onClick"]),p(a,{type:"warning",class:"mr-2",onClick:o[1]||(o[1]=t=>n.setWatermark("WaterMark Info New"))},{default:d(()=>[N]),_:1})]),_:1})]),_:1})}var ne=b(S,[["render",V]]);export{ne as default};
