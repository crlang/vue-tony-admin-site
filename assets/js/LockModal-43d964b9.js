var u=(e,p,o)=>new Promise((d,r)=>{var m=s=>{try{a(o.next(s))}catch(n){r(n)}},t=s=>{try{a(o.throw(s))}catch(n){r(n)}},a=s=>s.done?d(s.value):Promise.resolve(s.value).then(m,t);a((o=o.apply(e,p)).next())});import{_ as C,e as x,u as y,h as w}from"./index-91eee367.js";import{B as F,a as L}from"./index-43350f22.js";import{u as S}from"./lock-8b612d61.js";import{h as $}from"./header-3277e2cf.js";import{B as M}from"./BasicForm-9b49f10f.js";import{u as I}from"./useForm-1b9cad10.js";import{x as R}from"./ex-pkg-element-plus-6a2cfc13.js";import{y as N,l as j,Z as f,z as E,G as T,H as g,K as l,L as c,Q as k,R as _,P as V}from"./ex-pkg-@vue-6f720869.js";import"./ex-pkg-vendor-69b4619e.js";import"./ex-pkg-mockjs-abb76a9d.js";import"./useAttrs-fe96f36e.js";import"./useWindowSizeFn-414339e6.js";import"./index-3a25538e.js";import"./index-aad1a9e7.js";import"./tsxHelper-b064799d.js";import"./index-c038a60f.js";import"./useTimeout-dab8ee8f.js";import"./index-a2c1cecc.js";import"./index-d79f6d0f.js";import"./propTypes-fbd6d81b.js";import"./download-e7bfbf9d.js";import"./base64Conver-6d09fa87.js";import"./index-e767aee9.js";import"./index-11f7ab5b.js";import"./useCopyToClipboard-1ffbfc96.js";const z=N({name:"LockModal",components:{ElButton:R,BasicModal:F,BasicForm:M},props:{visible:{type:Boolean,default:!1}},setup(){const{t:e}=x(),{prefixCls:p}=y("header-lock-modal"),o=w(),d=S(),r=j(()=>{var i;return(i=o.getUserInfo)==null?void 0:i.realName}),[m,{closeModal:t}]=L(),[a,{validateField:s,resetFields:n,getFieldsValue:h}]=I({showActionButtonGroup:!1,schemas:[{field:"password",label:"",component:"ElInput",componentProps:{type:"password",placeholder:e("layout.header.lockScreenPassword")},required:!0}]});function b(){return u(this,null,function*(){yield s();const B=h().password;t(),d.setLockInfo({isLock:!0,pwd:B}),yield n()})}const v=j(()=>{const{avatar:i}=o.getUserInfo;return i||$});return{prefixCls:p,getRealName:r,register:m,registerForm:a,avatar:v,t:e,handleLock:b}}}),P=["src"];function U(e,p,o,d,r,m){const t=f("BasicForm"),a=f("ElButton"),s=f("BasicModal");return E(),T(s,{title:e.t("layout.header.lockScreen"),onRegister:e.register,width:600,showFooter:!1,"custom-class":e.prefixCls},{default:g(()=>[l("div",{class:c(`${e.prefixCls}__entry`)},[l("div",{class:c(`${e.prefixCls}__header`)},[l("img",{src:e.avatar,class:c(`${e.prefixCls}__header-img`)},null,10,P),l("p",{class:c(`${e.prefixCls}__header-name`)},k(e.getRealName),3)],2),_(t,{onRegister:e.registerForm},null,8,["onRegister"]),l("div",{class:c(`${e.prefixCls}__footer`)},[_(a,{type:"primary",class:"mt-2",onClick:e.handleLock},{default:g(()=>[V(k(e.t("layout.header.lockScreenBtn")),1)]),_:1},8,["onClick"])],2)],2)]),_:1},8,["title","onRegister","custom-class"])}var fe=C(z,[["render",U]]);export{fe as default};
