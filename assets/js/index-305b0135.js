import{B as k}from"./TableImg-21ce1a1f.js";import{u as T}from"./useTable-a05066a2.js";import{g as F}from"./system-a0847f05.js";import{P as w}from"./index-df532586.js";import C from"./DeptTree-b8b17023.js";import{A as B,s as D}from"./AccountModal-82d84249.js";import{_ as S,k as y,f as A}from"./index-c76c27a8.js";import{b as E}from"./index-b5118db3.js";import{y as M,z as v,u as R}from"./ex-pkg-element-plus-387a9e67.js";import{a6 as z,M as P,P as W}from"./ex-pkg-@element-plus-8be47ecc.js";import{y as $,_ as H,Z as t,z as I,G as V,H as s,R as a,P as G}from"./ex-pkg-@vue-6f720869.js";import"./BasicForm-8c6c9953.js";import"./index-0a4c95ac.js";import"./ex-pkg-@vueuse-7c1f2694.js";import"./ex-pkg-vendor-ad21d406.js";import"./ex-pkg-mockjs-d5ed3ada.js";import"./index-17b9734e.js";import"./propTypes-7529eeb4.js";import"./download-00b02bb0.js";import"./base64Conver-6d09fa87.js";import"./index-7788d2aa.js";import"./ex-pkg-@zxcvbn-ts-4e0726c1.js";import"./index-c48e4c62.js";import"./index-c26878d4.js";import"./index-b5c2dac5.js";import"./tsxHelper-6b2f4741.js";import"./index-5b1d7164.js";import"./useTimeout-a639f925.js";import"./useCopyToClipboard-ec23ff2f.js";import"./useForm-a69bdb0d.js";import"./useWindowSizeFn-e2bb9137.js";import"./ex-pkg-@iconify-9ec765d0.js";import"./ex-pkg-@popperjs-d61e97fc.js";import"./useAttrs-fe96f36e.js";const N=$({name:"AccountManagement",components:{ElRow:M,ElCol:v,ElButton:R,BasicTable:k,PageWrapper:w,DeptTree:C,AccountModal:B},setup(){const o=y(),{createConfirm:m,createMessage:f}=A(),[b,{openModal:u}]=E(),j=[{label:"\u7528\u6237\u540D",prop:"account",width:120},{label:"\u6635\u79F0",prop:"nickname",width:120},{label:"\u90AE\u7BB1",prop:"email",width:120},{label:"\u521B\u5EFA\u65F6\u95F4",prop:"createTime",width:180},{label:"\u89D2\u8272",prop:"role",width:200},{label:"\u5907\u6CE8",prop:"remark"},{width:220,fixed:"right",actions:[{icon:"clarity:info-standard-line",text:"\u67E5\u770B",callback:g},{icon:"clarity:note-edit-line",text:"\u7F16\u8F91",callback:c},{icon:"ep:delete",text:"\u5220\u9664",callback:i}]}];function l(){u(!0,{isUpdate:!1})}const n=H({}),[p,{reload:r,updateTableDataRecord:d}]=T({title:"\u8D26\u53F7\u5217\u8868",api:F,rowKey:"id",columns:j,formConfig:{labelWidth:120,schemas:D,autoSubmitOnEnter:!0},useSearchForm:!0,border:!0,pagination:{pageSize:5},handleSearchInfoFn(e){return e}});function c({row:e}){u(!0,{record:e,isUpdate:!0})}function i({row:e}){m({title:"\u6E29\u99A8\u63D0\u793A",content:`\u662F\u5426\u786E\u8BA4\u5220\u9664\u300C${e.nickname}\u300D?`,type:"error"}).then(()=>{f.success("\u5220\u9664\u6210\u529F")}).catch(()=>{})}function _({isUpdate:e,values:h}){e?d(h.id,h):r()}function x(e){n.deptId=e==null?void 0:e.id,r()}function g({row:e}){o("/system/account_detail/"+e.id)}return{searchInfo:n,registerTable:p,registerModal:b,Document:z,Edit:P,Delete:W,handleCreate:l,handleEdit:c,handleDelete:i,handleSuccess:_,handleSelect:x,handleView:g}}}),U=G("\u65B0\u589E\u8D26\u53F7");function K(o,m,f,b,u,j){const l=t("DeptTree"),n=t("el-col"),p=t("el-button"),r=t("BasicTable"),d=t("el-row"),c=t("AccountModal"),i=t("PageWrapper");return I(),V(i,{contentFullHeight:"",fixedHeight:""},{default:s(()=>[a(d,{class:"dept-wrap",gutter:16},{default:s(()=>[a(n,{span:6,class:"dept-tree"},{default:s(()=>[a(l,{onSelect:o.handleSelect},null,8,["onSelect"])]),_:1}),a(n,{span:18,class:"dept-table"},{default:s(()=>[a(r,{onRegister:o.registerTable,searchInfo:o.searchInfo},{toolbar:s(()=>[a(p,{type:"primary",size:"small",onClick:o.handleCreate},{default:s(()=>[U]),_:1},8,["onClick"])]),_:1},8,["onRegister","searchInfo"])]),_:1})]),_:1}),a(c,{onRegister:o.registerModal,onSuccess:o.handleSuccess},null,8,["onRegister","onSuccess"])]),_:1})}var Be=S(N,[["render",K]]);export{Be as default};
