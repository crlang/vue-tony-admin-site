var h=Object.defineProperty;var g=Object.getOwnPropertySymbols;var w=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable;var k=(a,e,t)=>e in a?h(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t,b=(a,e)=>{for(var t in e||(e={}))w.call(e,t)&&k(a,t,e[t]);if(g)for(var t of g(e))E.call(e,t)&&k(a,t,e[t]);return a};import{u as $}from"./useTimeout-deb974d8.js";import{o as F,ad as M,ae as C}from"./index-034694ef.js";import{u as T,e as j,i as y,a as H,b as R,c as S,d as U,f as q,g as B,h as L,j as N,k as X,l as A,m as G,n as J,o as K,p as P,q as Q,r as V,s as W,t as Y,v as Z}from"./ex-pkg-echarts-c02c4717.js";import{l as x,a as _,u as i,U as I,b as ss}from"./ex-pkg-@vue-6f720869.js";import{cX as es,cN as ts}from"./ex-pkg-vendor-a94c680b.js";T([y,H,R,S,U,q,B,L,N,X,A,G,J,K,P,Q,V,W,Y,Z]);function us(a,e="default"){const{getDarkMode:t}=F(),r=x(()=>e==="default"?t.value:e);let s=null,f=p;const o=_({});let m=()=>{};f=ts(p,200);const v=x(()=>r.value!=="dark"?o.value:b({backgroundColor:"transparent"},o.value));function c(l=e){const n=i(a);if(!n||!i(n))return;s=j.init(n,l);const{removeEvent:u}=M({el:window,name:"resize",listener:f});m=u;const{widthRef:D,screenEnum:O}=C();(i(D)<=O.MD||n.offsetHeight===0)&&$(()=>{f()},30)}function d(l,n=!0){var u;if(o.value=l,((u=i(a))==null?void 0:u.offsetHeight)===0){$(()=>{d(i(v))},30);return}I(()=>{$(()=>{!s&&(c(r.value),!s)||(n&&(s==null||s.clear()),s==null||s.setOption(i(v)))},30)})}function p(){s==null||s.resize()}ss(()=>r.value,l=>{s&&(s.dispose(),c(l),d(o.value))}),es(()=>{!s||(m(),s.dispose(),s=null)});function z(){return s||c(r.value),s}return{setOptions:d,resize:p,echarts:j,getInstance:z}}export{us as u};
