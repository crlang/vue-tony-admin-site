var g=(F,c,r)=>new Promise((i,d)=>{var o=t=>{try{m(r.next(t))}catch(p){d(p)}},f=t=>{try{m(r.throw(t))}catch(p){d(p)}},m=t=>t.done?i(t.value):Promise.resolve(t.value).then(o,f);m((r=r.apply(F,c)).next())});import{S as x}from"./index-325600b8.js";import{C as B}from"./index-44cf8bec.js";import{u as w,a as _,L as j,b as D}from"./useLogin-68a7c7de.js";import{A as C,B as n,C as v,u as V,D as A,d as b}from"./ex-pkg-element-plus-f609432a.js";import{y as R,a as k,_ as h,l as S,u as e,z as L,G as U,H as s,R as l,O as P,P as E}from"./ex-pkg-@vue-feb543c0.js";import"./index-26bedde3.js";import"./ex-pkg-vendor-bb3f8859.js";import"./ex-pkg-mockjs-ec7a233b.js";import"./propTypes-605b60b6.js";const I=E("\u6211\u540C\u610Fxxx\u9690\u79C1\u653F\u7B56"),N=E("\u6CE8\u518C"),T=E(" \u8FD4\u56DE"),X=R({setup(F){const{handleBackLogin:c,getLoginState:r}=w(),i=k(),d=k(!1),o=h({account:"",password:"",confirmPassword:"",mobile:"",sms:"",policy:!1}),{getFormRules:f}=_(o),{validForm:m}=D(i),t=S(()=>e(r)===j.REGISTER);function p(){return g(this,null,function*(){if(!!(yield m()))try{d.value=!0,b({title:"\u6CE8\u518C\u6210\u529F",message:"\u6B22\u8FCE\u52A0\u5165",type:"success"})}catch(u){b({title:"\u9519\u8BEF\u63D0\u793A",message:u.message||"\u7F51\u7EDC\u5F02\u5E38\uFF0C\u8BF7\u68C0\u67E5\u60A8\u7684\u7F51\u7EDC\u8FDE\u63A5\u662F\u5426\u6B63\u5E38",type:"error"})}finally{d.value=!1}})}return(y,u)=>e(t)?(L(),U(e(A),{key:0,model:e(o),rules:e(f),ref_key:"formRef",ref:i},{default:s(()=>[l(e(n),{prop:"account"},{default:s(()=>[l(e(C),{modelValue:e(o).account,"onUpdate:modelValue":u[0]||(u[0]=a=>e(o).account=a),placeholder:"\u8D26\u53F7"},null,8,["modelValue"])]),_:1}),l(e(n),{prop:"mobile"},{default:s(()=>[l(e(C),{modelValue:e(o).mobile,"onUpdate:modelValue":u[1]||(u[1]=a=>e(o).mobile=a),placeholder:"\u624B\u673A\u53F7\u7801	"},null,8,["modelValue"])]),_:1}),l(e(n),{prop:"sms"},{default:s(()=>[l(e(B),{modelValue:e(o).sms,"onUpdate:modelValue":u[2]||(u[2]=a=>e(o).sms=a),placeholder:"\u77ED\u4FE1\u9A8C\u8BC1\u7801	"},null,8,["modelValue"])]),_:1}),l(e(n),{prop:"password"},{default:s(()=>[l(e(x),{modelValue:e(o).password,"onUpdate:modelValue":u[3]||(u[3]=a=>e(o).password=a),placeholder:"\u5BC6\u7801"},null,8,["modelValue"])]),_:1}),l(e(n),{prop:"confirmPassword"},{default:s(()=>[l(e(C),{modelValue:e(o).confirmPassword,"onUpdate:modelValue":u[4]||(u[4]=a=>e(o).confirmPassword=a),placeholder:"\u786E\u8BA4\u5BC6\u7801",clearable:"","show-password":""},null,8,["modelValue"])]),_:1}),l(e(n),{prop:"policy"},{default:s(()=>[l(e(v),{modelValue:e(o).policy,"onUpdate:modelValue":u[5]||(u[5]=a=>e(o).policy=a),checked:e(o).policy},{default:s(()=>[I]),_:1},8,["modelValue","checked"])]),_:1}),l(e(V),{type:"primary",class:"login--submit",onClick:p,loading:d.value,disabled:e(o).policy===!1},{default:s(()=>[N]),_:1},8,["loading","disabled"]),l(e(V),{onClick:e(c),class:"login--back"},{default:s(()=>[T]),_:1},8,["onClick"])]),_:1},8,["model","rules"])):P("",!0)}});export{X as default};
