var E=(a,i,e)=>new Promise((f,n)=>{var c=r=>{try{t(e.next(r))}catch(s){n(s)}},u=r=>{try{t(e.throw(r))}catch(s){n(s)}},t=r=>r.done?f(r.value):Promise.resolve(r.value).then(c,u);t((e=e.apply(a,i)).next())});import{y as _,a as k,b as T,U as L,z as d,A as l,F as h,a3 as v,I as w,J as C,R as p,H as m,u as o,P as j,Q as b}from"./ex-pkg-@vue-6f720869.js";import{al as B,e as A,aB as D,f as F}from"./index-91eee367.js";import{getLogColumns as R}from"./data-856c53ee.js";import{B as S}from"./BasicTable-bd60e886.js";import{u as V}from"./useTable-a00a0b1d.js";import{cq as H}from"./ex-pkg-vendor-69b4619e.js";import{x as g}from"./ex-pkg-element-plus-6a2cfc13.js";import"./ex-pkg-mockjs-abb76a9d.js";import"./BasicForm-9b49f10f.js";import"./index-a2c1cecc.js";import"./index-d79f6d0f.js";import"./index-43350f22.js";import"./useAttrs-fe96f36e.js";import"./useWindowSizeFn-414339e6.js";import"./index-3a25538e.js";import"./index-aad1a9e7.js";import"./tsxHelper-b064799d.js";import"./index-c038a60f.js";import"./useTimeout-dab8ee8f.js";import"./propTypes-fbd6d81b.js";import"./download-e7bfbf9d.js";import"./base64Conver-6d09fa87.js";import"./index-e767aee9.js";import"./index-11f7ab5b.js";import"./useCopyToClipboard-1ffbfc96.js";import"./useForm-1b9cad10.js";import"./index-99fe7abb.js";var x;(function(a){a.Error="/error"})(x||(x={}));const I=()=>B.get({url:x.Error}),z={class:"p-4"},N=["src"],je=_({setup(a){const i=k([]),{t:e}=A(),f=D(),[n,{setTableData:c}]=V({title:e("sys.errorLog.tableTitle"),columns:R()});T(()=>f.getErrorLogInfoList,s=>{L(()=>{c(H(s))})},{immediate:!0}),F();function u(){throw new Error("fire vue error!")}function t(){i.value.push(`${new Date().getTime()}.png`)}function r(){return E(this,null,function*(){yield I()})}return(s,q)=>(d(),l("div",z,[(d(!0),l(h,null,v(i.value,y=>w((d(),l("img",{key:y,src:y},null,8,N)),[[C,!1]])),128)),p(o(S),{onRegister:o(n),class:"error-handle-table"},{toolbar:m(()=>[p(o(g),{onClick:u,type:"primary"},{default:m(()=>[j(b(o(e)("sys.errorLog.fireVueError")),1)]),_:1}),p(o(g),{onClick:t,type:"primary"},{default:m(()=>[j(b(o(e)("sys.errorLog.fireResourceError")),1)]),_:1}),p(o(g),{onClick:r,type:"primary"},{default:m(()=>[j(b(o(e)("sys.errorLog.fireAjaxError")),1)]),_:1})]),_:1},8,["onRegister"])]))}});export{je as default};
