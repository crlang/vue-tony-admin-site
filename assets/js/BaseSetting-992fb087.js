var l=(e,r,t)=>new Promise((d,i)=>{var m=s=>{try{a(t.next(s))}catch(c){i(c)}},o=s=>{try{a(t.throw(s))}catch(c){i(c)}},a=s=>s.done?d(s.value):Promise.resolve(s.value).then(m,o);a((t=t.apply(e,r)).next())});import{B as j}from"./BasicForm-108eec17.js";import{u as v}from"./useForm-94dacd0e.js";import{C}from"./index-93f62e3c.js";import{a as F}from"./index-d7f6fcc2.js";import{c as g,d as h,_ as x}from"./index-26bedde3.js";import{h as B}from"./header-3277e2cf.js";import{a as A}from"./account-c24d6a25.js";import{b as w}from"./data-9296c6c3.js";import{u as S}from"./upload-fe9fece8.js";import{w as I,x as k,u as y}from"./ex-pkg-element-plus-f609432a.js";import{y as E,q as T,l as R,Z as n,z as U,G as V,H as u,R as p,K as f,av as $,aw as M,P as N}from"./ex-pkg-@vue-feb543c0.js";import"./index-44cf8bec.js";import"./ex-pkg-vendor-bb3f8859.js";import"./ex-pkg-mockjs-ec7a233b.js";import"./index-b436c267.js";import"./index-ddb5b200.js";import"./useAttrs-972c2e18.js";import"./useWindowSizeFn-3a4b39e4.js";import"./index-8a4d5146.js";import"./tsxHelper-ab68d96a.js";import"./useTimeout-998fb248.js";import"./propTypes-605b60b6.js";import"./download-affeb443.js";import"./base64Conver-6d09fa87.js";import"./index-325600b8.js";import"./index-6b3050e7.js";import"./useCopyToClipboard-6f8ca492.js";import"./index-8ceb82bc.js";const z=E({components:{ElRow:I,ElCol:k,ElButton:y,BasicForm:j,CollapseContainer:C,CropperAvatar:F},setup(){const{createMessage:e}=g(),r=h(),[t,{setFieldsValue:d}]=v({labelWidth:120,schemas:w,showActionButtonGroup:!1});T(()=>l(this,null,function*(){const o=yield A();d(o)}));const i=R(()=>{const{avatar:o}=r.getUserInfo;return o||B});function m(o){const a=r.getUserInfo;a.avatar=o,r.setUserInfo(a)}return{avatar:i,register:t,uploadApi:S,updateAvatar:m,handleSubmit:()=>{e.success("\u66F4\u65B0\u6210\u529F\uFF01")}}}}),G=e=>($("data-v-597f8820"),e=e(),M(),e),H={class:"change-avatar"},P=G(()=>f("div",{class:"mb-2"},"\u5934\u50CF",-1)),W=N(" \u66F4\u65B0\u57FA\u672C\u4FE1\u606F ");function q(e,r,t,d,i,m){const o=n("BasicForm"),a=n("el-col"),s=n("CropperAvatar"),c=n("el-row"),_=n("el-button"),b=n("CollapseContainer");return U(),V(b,{title:"\u57FA\u672C\u8BBE\u7F6E",canExpan:!1},{default:u(()=>[p(c,{gutter:24},{default:u(()=>[p(a,{span:14},{default:u(()=>[p(o,{onRegister:e.register},null,8,["onRegister"])]),_:1}),p(a,{span:10},{default:u(()=>[f("div",H,[P,p(s,{uploadApi:e.uploadApi,value:e.avatar,btnText:"\u66F4\u6362\u5934\u50CF",btnProps:{preIcon:"ep:upload-filled"},onChange:e.updateAvatar,width:"150"},null,8,["uploadApi","value","onChange"])])]),_:1})]),_:1}),p(_,{type:"primary",onClick:e.handleSubmit},{default:u(()=>[W]),_:1},8,["onClick"])]),_:1})}var Fe=x(z,[["render",q],["__scopeId","data-v-597f8820"]]);export{Fe as default};
