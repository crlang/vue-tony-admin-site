import{P as I}from"./index-df532586.js";import{C as k}from"./index-c26878d4.js";import{C as B,a as E}from"./index-80750a67.js";import{u as y}from"./upload-4f5fca92.js";import{h as x}from"./header-3277e2cf.js";import{_ as D,h as b}from"./index-c76c27a8.js";import{y as N,a as s,Z as p,z as t,G as P,H as n,R as o,K as i,A as l,O as d,Q as A,P as w,u as V}from"./ex-pkg-@vue-6f720869.js";import"./index-b5c2dac5.js";import"./tsxHelper-6b2f4741.js";import"./index-5b1d7164.js";import"./ex-pkg-@element-plus-8be47ecc.js";import"./ex-pkg-element-plus-387a9e67.js";import"./ex-pkg-vendor-ad21d406.js";import"./ex-pkg-mockjs-d5ed3ada.js";import"./ex-pkg-@popperjs-d61e97fc.js";import"./useTimeout-a639f925.js";import"./ex-pkg-@vueuse-7c1f2694.js";import"./base64Conver-6d09fa87.js";import"./ex-pkg-@iconify-9ec765d0.js";const $=N({components:{PageWrapper:I,CropperImage:B,CollapseContainer:k,CropperAvatar:E},setup(){var j;const e=s(""),m=s(""),f=s(""),C=s(""),h=b(),F=s(((j=h.getUserInfo)==null?void 0:j.avatar)||""),u=s(null),a=()=>{const r=V(u);if(!r)throw new Error("cropper is Null");return r};function c(){a().croppered()}function _({imgBase64:r,imgInfo:v}){e.value=v,m.value=r}function g({imgBase64:r,imgInfo:v}){f.value=v,C.value=r}return{avatarImg:x,info:e,circleInfo:f,cropperImg:m,circleImg:C,cropperRef:u,handleCutImg:c,handleCropend:_,handleCircleCropend:g,avatar:F,uploadApi:y}}}),R={class:"p-4"},S={class:"cropper"},T=["src"],W={key:0},H=w("\u5B8C\u6210\u88C1\u526A"),U={class:"container p-4"},z={class:"cropper"},G=["src"],K={key:0};function O(e,m,f,C,h,F){const u=p("CropperAvatar"),a=p("CollapseContainer"),c=p("CropperImage"),_=p("Button"),g=p("PageWrapper");return t(),P(g,{title:"\u56FE\u7247\u88C1\u526A\u793A\u4F8B",description:"\u9700\u8981\u5F00\u542F\u6D4B\u8BD5\u63A5\u53E3\u670D\u52A1\u624D\u80FD\u8FDB\u884C\u4E0A\u4F20\u6D4B\u8BD5\uFF01"},{default:n(()=>[o(a,{title:"\u5934\u50CF\u88C1\u526A"},{default:n(()=>[o(u,{uploadName:"file",uploadApi:e.uploadApi,value:e.avatar},null,8,["uploadApi","value"])]),_:1}),o(a,{title:"\u77E9\u5F62\u88C1\u526A",class:"my-4"},{default:n(()=>[i("div",R,[i("div",S,[o(c,{ref:"cropperRef",realTimePreview:!1,src:e.avatarImg,onCropend:e.handleCropend},null,8,["src","onCropend"])]),e.cropperImg?(t(),l("img",{key:0,src:e.cropperImg},null,8,T)):d("",!0)]),e.cropperImg?(t(),l("p",W,"\u88C1\u526A\u540E\u56FE\u7247\u4FE1\u606F\uFF1A"+A(e.info),1)):d("",!0),o(_,{onClick:e.handleCutImg,class:"mx-4",type:"success"},{default:n(()=>[H]),_:1},8,["onClick"])]),_:1}),o(a,{title:"\u5706\u5F62\u88C1\u526A"},{default:n(()=>[i("div",U,[i("div",z,[o(c,{ref:"refCircleCropper",src:e.avatarImg,onCropend:e.handleCircleCropend,circled:""},null,8,["src","onCropend"])]),e.circleImg?(t(),l("img",{key:0,src:e.circleImg,class:"croppered"},null,8,G)):d("",!0)]),e.circleImg?(t(),l("p",K,"\u88C1\u526A\u540E\u56FE\u7247\u4FE1\u606F\uFF1A"+A(e.circleInfo),1)):d("",!0)]),_:1})]),_:1})}var le=D($,[["render",O],["__scopeId","data-v-3d99bd88"]]);export{le as default};
