import{r as C,a as _,C as y}from"./index-9b3b57b7.js";import{aA as v,ao as g,_ as W}from"./index-8e69729b.js";import{a as w,s as j,u as l,t as $,m as B,y as R,Z as k,z as I,G as P,H as d,R as u,P as x}from"./ex-pkg-@vue-6f720869.js";import{P as z}from"./index-46033b04.js";import{x as E}from"./ex-pkg-element-plus-6a2cfc13.js";import"./index-583c82b1.js";import"./tsxHelper-fbe4f683.js";import"./index-e74afd53.js";import"./ex-pkg-vendor-69b4619e.js";import"./ex-pkg-mockjs-abb76a9d.js";import"./useTimeout-e48d95f5.js";const H=Symbol("watermark-dom");function M(n=w(document.body)){const r=v(function(){const t=l(n);if(!t)return;const{clientHeight:e,clientWidth:o}=t;s({height:e,width:o})}),c=H.toString(),i=j(),f=()=>{const t=l(i);i.value=void 0;const e=l(n);!e||(t&&e.removeChild(t),C(e,r))};function b(t){const e=document.createElement("canvas"),o=300,m=240;Object.assign(e,{width:o,height:m});const a=e.getContext("2d");return a&&(a.rotate(-20*Math.PI/120),a.font="15px Vedana",a.fillStyle="rgba(0, 0, 0, 0.15)",a.textAlign="left",a.textBaseline="middle",a.fillText(t,o/20,m)),e.toDataURL("image/png")}function s(t={}){const e=l(i);!e||(g(t.width)&&(e.style.width=`${t.width}px`),g(t.height)&&(e.style.height=`${t.height}px`),g(t.str)&&(e.style.background=`url(${b(t.str)}) left top repeat`))}const p=t=>{if(l(i))return s({str:t}),c;const e=document.createElement("div");i.value=e,e.id=c,e.style.pointerEvents="none",e.style.top="0px",e.style.left="0px",e.style.position="absolute",e.style.zIndex="100000";const o=l(n);if(!o)return c;const{clientHeight:m,clientWidth:a}=o;return s({str:t,width:a,height:m}),o.appendChild(e),c};function h(t){p(t),_(document.documentElement,r),B()&&$(()=>{f()})}return{setWatermark:h,clear:f}}const S=R({components:{ElButton:E,CollapseContainer:y,PageWrapper:z},setup(){const{setWatermark:n,clear:r}=M();return{setWatermark:n,clear:r}}}),T=x("Create"),A=x("Clear"),L=x("Reset");function N(n,r,c,i,f,b){const s=k("el-button"),p=k("CollapseContainer"),h=k("PageWrapper");return I(),P(h,{title:"\u6C34\u5370\u793A\u4F8B"},{default:d(()=>[u(p,{class:"w-full h-32 bg-white rounded-md",title:"Global WaterMark"},{default:d(()=>[u(s,{type:"primary",class:"mr-2",onClick:r[0]||(r[0]=t=>n.setWatermark("WaterMark Info"))},{default:d(()=>[T]),_:1}),u(s,{type:"danger",class:"mr-2",onClick:n.clear},{default:d(()=>[A]),_:1},8,["onClick"]),u(s,{type:"warning",class:"mr-2",onClick:r[1]||(r[1]=t=>n.setWatermark("WaterMark Info New"))},{default:d(()=>[L]),_:1})]),_:1})]),_:1})}var X=W(S,[["render",N]]);export{X as default};
