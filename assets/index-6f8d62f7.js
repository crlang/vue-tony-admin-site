import f from"./CurrentPermissionMode-2e70d45e.js";import{a0 as A,g as C,ah as r,_ as D}from"./index-795cdaa0.js";import{n as B,aJ as _,N as g}from"./elementui-66980f2a.js";import{E as R,f as E,ac as o,p as y,I as T,J as n,S as t,t as a,P as s,Q as l}from"./vue-d691a816.js";const S=R({components:{ElButton:B,ElAlert:_,ElButtonGroup:g,CurrentPermissionMode:f},setup(){const{changeRole:u}=A(),e=C();return{userStore:e,RoleEnum:r,isAdmin:E(()=>e.getRoleList.includes(r.ADMIN)),isTest:E(()=>e.getRoleList.includes(r.TEST)),changeRole:u}}}),N={class:"mt-4"};function P(u,e,M,$,h,k){const m=o("CurrentPermissionMode"),i=o("el-alert"),p=o("el-button"),F=o("el-button-group"),c=o("PageWrapper");return y(),T(c,{title:"前端权限示例",contentBackground:"",description:"由于刷新的时候会请求用户信息接口，会根据接口重置角色信息，所以刷新后界面会恢复原样，如果不需要，可以注释 src/layout/default/index内的获取用户信息接口"},{default:n(()=>[t(m),a("p",null,[s(" 当前角色: "),a("span",null,l(u.userStore.getRoleList),1)]),t(i,{class:"mt-4",type:"info",title:"点击后请查看左侧菜单变化","show-icon":""}),a("div",N,[s(" 权限切换: "),t(F,null,{default:n(()=>[t(p,{onClick:e[0]||(e[0]=d=>u.changeRole(u.RoleEnum.ADMIN)),type:u.isAdmin?"primary":"default"},{default:n(()=>[s(l(u.RoleEnum.ADMIN),1)]),_:1},8,["type"]),t(p,{onClick:e[1]||(e[1]=d=>u.changeRole(u.RoleEnum.TEST)),type:u.isTest?"primary":"default"},{default:n(()=>[s(l(u.RoleEnum.TEST),1)]),_:1},8,["type"])]),_:1}),t(i,{class:"mt-4",type:"info",title:"请先切换权限模式为前端角色权限模式","show-icon":""})])]),_:1})}const L=D(S,[["render",P]]);export{L as default};
