var d=(o,r,s)=>new Promise((u,n)=>{var l=a=>{try{e(s.next(a))}catch(m){n(m)}},t=a=>{try{e(s.throw(a))}catch(m){n(m)}},e=a=>a.done?u(a.value):Promise.resolve(a.value).then(l,t);e((s=s.apply(o,r)).next())});import{B as g}from"./index.bd827693.js";import{C as B}from"./index.2d8c6aac.js";import{d as v,z as C,p as F,q as b,Y as w,c as S,_ as I,e as p,o as A,j as E,i as c,h as i,g as _,m as U,c$ as V,d0 as y}from"./index.61be89a1.js";import{B as N,u as $}from"./upload.2a2a0049.js";import{h as k}from"./header.7c507bcf.js";import{a as x}from"./account.fa7241f0.js";import{b as j}from"./data.2ef57221.js";import{E as M,a as R}from"./index.e035b73c.js";import{u as z}from"./useForm.34aa1f9e.js";import"./index.24db9bec.js";import"./index.8337b38c.js";import"./row.2741a82e.js";import"./drawer.0f38de7e.js";import"./card.dd13a1ef.js";import"./index.7fce1749.js";import"./index.88f08dee.js";import"./index.91f8c4ba.js";import"./index.3df10ae2.js";import"./isEqual.755d4a14.js";import"./_baseIsEqual.3f9a7929.js";import"./form-item.3a95dedf.js";import"./dropdown.7e7b7d81.js";import"./index.0526f740.js";import"./tsxHelper.e74009f7.js";import"./useWindowSizeFn.a3ba0925.js";import"./index.9574a6b4.js";import"./index.00e0b22a.js";import"./index.37ecb140.js";import"./refs.a78f8491.js";import"./use-dialog.8207f305.js";import"./index.a1a61c87.js";import"./index.761cf9b9.js";import"./_baseUniq.8c6df5cb.js";import"./index.8a2b5e67.js";import"./index.bdf9eec6.js";import"./index.87191bef.js";import"./index.625e9d3f.js";import"./index.1c463f4e.js";import"./index.63927a8f.js";import"./index.f6236697.js";import"./index.a66f4cd8.js";import"./index.5969e93d.js";import"./download.08d823b0.js";const T=v({components:{ElRow:M,ElCol:R,ElButton:C,BasicForm:g,CollapseContainer:B,BasicUpload:N},setup(){const{createMessage:o}=F(),r=b(),[s,{setFieldsValue:u}]=z({labelWidth:120,schemas:j,showActionButtonGroup:!1});w(()=>d(this,null,function*(){const t=yield x();u(t)}));const n=S(()=>{const{avatar:t}=r.getUserInfo;return[t||k]});function l(t){const e=r.getUserInfo;e.avatar=t,r.setUserInfo(e)}return{avatar:n,register:s,uploadApi:$,updateAvatar:l,handleSubmit:()=>{o.success("\u66F4\u65B0\u6210\u529F\uFF01")}}}}),q=o=>(V("data-v-fb2767c8"),o=o(),y(),o),G={class:"change-avatar"},P=q(()=>_("div",{class:"mb-2"},"\u5934\u50CF",-1)),W=U("\u66F4\u65B0\u57FA\u672C\u4FE1\u606F");function Y(o,r,s,u,n,l){const t=p("BasicForm"),e=p("el-col"),a=p("BasicUpload"),m=p("el-row"),f=p("el-button"),h=p("CollapseContainer");return A(),E(h,{title:"\u57FA\u672C\u8BBE\u7F6E",canExpan:!1},{default:c(()=>[i(m,{gutter:24},{default:c(()=>[i(e,{span:14},{default:c(()=>[i(t,{onRegister:o.register},null,8,["onRegister"])]),_:1}),i(e,{span:10},{default:c(()=>[_("div",G,[P,i(a,{onChange:o.updateAvatar,api:o.uploadApi,modelValue:o.avatar,uploadName:"file",showPreview:!1,maxSize:5,maxNumber:3,showThumb:"",accept:["png","jpg","jpeg","webp"]},null,8,["onChange","api","modelValue"])])]),_:1})]),_:1}),i(f,{type:"primary",onClick:o.handleSubmit},{default:c(()=>[W]),_:1},8,["onClick"])]),_:1})}var Mo=I(T,[["render",Y],["__scopeId","data-v-fb2767c8"]]);export{Mo as default};
