var Y=Object.defineProperty;var B=Object.getOwnPropertySymbols;var N=Object.prototype.hasOwnProperty,U=Object.prototype.propertyIsEnumerable;var T=(e,t,r)=>t in e?Y(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,x=(e,t)=>{for(var r in t||(t={}))N.call(t,r)&&T(e,r,t[r]);if(B)for(var r of B(t))U.call(t,r)&&T(e,r,t[r]);return e};import{d as z,U as X,r as d,D as V,c as D,ab as K,c3 as H,M as q,Y as G,R as y,b as n,al as J,_ as E,e as I,o as h,f as $,g as Q,j as M,i as j,I as O,n as S,J as A,K as Z,am as ee,h as P,k as te,l as re,aC as oe}from"./index.b263d89e.js";import{a as L,r as R}from"./index.80d0f5e3.js";var le={table:{fetchSetting:{pageField:"page",sizeField:"pageSize",listField:"items",totalField:"total"},defaultPageAlign:"left",defaultPageSize:20,pageSizeOptions:["10","20","30","50","100"],pageLayoutOptions:"total, prev, pager, next, jumper",defaultSortFn:e=>{const{prop:t,order:r}=e;return{order:r,prop:t}},defaultFilterFn:e=>e},form:{defaultItemSize:4,defaultItemGutter:16,fullColumnSize:24},scrollbar:{native:!1}};const ae={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}};function ne({move:e,size:t,bar:r}){const a={},o=`translate${r.axis}(${e}%)`;return a[r.size]=t,a.transform=o,a.msTransform=o,a.webkitTransform=o,a}function se(e,t){return Object.assign(e,t)}function ie(e){const t={};for(let r=0;r<e.length;r++)e[r]&&se(t,e[r]);return t}var ce=z({name:"Bar",props:{vertical:Boolean,size:String,move:Number},setup(e){const t=X(),r=d(),a=V("scroll-bar-wrap",{}),o=D(()=>ae[e.vertical?"vertical":"horizontal"]),l=d({}),c=d(),m=i=>{var p;i.ctrlKey||i.button===2||((p=window.getSelection())==null||p.removeAllRanges(),s(i),l.value[o.value.axis]=i.currentTarget[o.value.offset]-(i[o.value.client]-i.currentTarget.getBoundingClientRect()[o.value.direction]))},u=i=>{var b;const p=Math.abs(i.target.getBoundingClientRect()[o.value.direction]-i[o.value.client]),g=r.value[o.value.offset]/2,_=(p-g)*100/((b=t==null?void 0:t.vnode.el)==null?void 0:b[o.value.offset]);a.value[o.value.scroll]=_*a.value[o.value.scrollSize]/100},s=i=>{i.stopImmediatePropagation(),c.value=!0,document.addEventListener("mousemove",f,!1),document.addEventListener("mouseup",v,!1),document.onselectstart=()=>!1},f=i=>{var C,k;if(c.value===!1)return;const p=l.value[o.value.axis];if(!p)return;const g=(((C=t==null?void 0:t.vnode.el)==null?void 0:C.getBoundingClientRect()[o.value.direction])-i[o.value.client])*-1,_=r.value[o.value.offset]-p,b=(g-_)*100/((k=t==null?void 0:t.vnode.el)==null?void 0:k[o.value.offset]);a.value[o.value.scroll]=b*a.value[o.value.scrollSize]/100};function v(){c.value=!1,l.value[o.value.axis]=0,document.removeEventListener("mousemove",f,!1),document.onselectstart=null}return K(()=>{document.removeEventListener("mouseup",v,!1)}),()=>H("div",{class:["scrollbar__bar","is-"+o.value.key],onMousedown:u},H("div",{ref:r,class:"scrollbar__thumb",onMousedown:m,style:ne({size:e.size,move:e.move,bar:o.value})}))}});const{scrollbar:w}=le;var W;const ue=z({name:"Scrollbar",components:{Bar:ce},props:{native:{type:Boolean,default:(W=w==null?void 0:w.native)!=null?W:!1},wrapStyle:{type:[String,Array],default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array],default:""},noresize:Boolean,tag:{type:String,default:"div"}},setup(e){const t=d("0"),r=d("0"),a=d(0),o=d(0),l=d(),c=d();q("scroll-bar-wrap",l);const m=D(()=>Array.isArray(e.wrapStyle)?ie(e.wrapStyle):e.wrapStyle),u=()=>{e.native||(o.value=n(l).scrollTop*100/n(l).clientHeight,a.value=n(l).scrollLeft*100/n(l).clientWidth)},s=()=>{if(!n(l))return;const f=n(l).clientHeight*100/n(l).scrollHeight,v=n(l).clientWidth*100/n(l).scrollWidth;r.value=f<100?f+"%":"",t.value=v<100?v+"%":""};return G(()=>{e.native||(y(s),e.noresize||(L(n(c),s),L(n(l),s),addEventListener("resize",s)))}),J(()=>{e.native||e.noresize||(R(n(c),s),R(n(l),s),removeEventListener("resize",s))}),{moveX:a,moveY:o,sizeWidth:t,sizeHeight:r,style:m,wrap:l,resize:c,update:s,handleScroll:u}}}),fe={class:"scrollbar"};function ve(e,t,r,a,o,l){const c=I("bar");return h(),$("div",fe,[Q("div",{ref:"wrap",class:S([e.wrapClass,"scrollbar__wrap",e.native?"":"scrollbar__wrap--hidden-default"]),style:A(e.style),onScroll:t[0]||(t[0]=(...m)=>e.handleScroll&&e.handleScroll(...m))},[(h(),M(Z(e.tag),{ref:"resize",class:S(["scrollbar__view",e.viewClass]),style:A(e.viewStyle)},{default:j(()=>[O(e.$slots,"default")]),_:3},8,["class","style"]))],38),e.native?te("",!0):(h(),$(ee,{key:0},[P(c,{move:e.moveX,size:e.sizeWidth},null,8,["move","size"]),P(c,{vertical:"",move:e.moveY,size:e.sizeHeight},null,8,["move","size"])],64))])}var de=E(ue,[["render",ve]]);const me=(e,t,r,a)=>(e/=a/2,e<1?r/2*e*e+t:(e--,-r/2*(e*(e-2)-1)+t)),pe=(e,t)=>{e.scrollTop=t},be=e=>e.scrollTop;function F({el:e,to:t,duration:r=500,callback:a}){const o=d(!1),l=be(e),c=t-l,m=20;let u=0;r=r!=null?r:500;const s=function(){if(!n(o))return;u+=m;const i=me(u,l,c,r);pe(e,i),u<r&&n(o)?requestAnimationFrame(s):typeof a=="function"&&a()};return{start:()=>{o.value=!0,s()},stop:()=>{o.value=!1}}}const he=z({name:"ScrollContainer",components:{Scrollbar:de},setup(e,{expose:t}){const r=d(null),{prefixCls:a}=re("scroll-container");function o(u,s=500){const f=n(r);!f||y(()=>{const v=n(f.wrap);if(!v)return;const{start:i}=F({el:v,to:u,duration:s});i()})}function l(){const u=n(r);return u?u.wrap:null}function c(){const u=n(r);!u||y(()=>{const s=n(u.wrap);if(!s)return;const f=s.scrollHeight,{start:v}=F({el:s,to:f});v()})}const m={wrap:null,scrollTo:o,scrollBottom:c,getScrollWrap:l};return t(m),x({prefixCls:a,scrollbarRef:r},m)}});function ge(e,t,r,a,o,l){const c=I("Scrollbar");return h(),M(c,{ref:"scrollbarRef",class:S(e.prefixCls)},{default:j(()=>[O(e.$slots,"default")]),_:3},8,["class"])}var _e=E(he,[["render",ge]]);const ze=oe(_e);export{ze as S,le as c,F as u};
