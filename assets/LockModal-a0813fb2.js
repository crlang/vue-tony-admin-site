var f=(e,t,s)=>new Promise((m,n)=>{var d=o=>{try{a(s.next(o))}catch(i){n(i)}},l=o=>{try{a(s.throw(o))}catch(i){n(i)}},a=o=>o.done?m(o.value):Promise.resolve(o.value).then(d,l);a((s=s.apply(e,t)).next())});import{g as C,b as w,_ as F}from"./index-795cdaa0.js";import{B as y,b as L}from"./index-6ee1af83.js";import{u as $}from"./lock-a612cd3d.js";import{B as M}from"./index-a82db265.js";import{h as I}from"./header-e0b19278.js";import{n as E}from"./elementui-66980f2a.js";import{u as N}from"./useForm-af19a7b1.js";import{E as R,f as _,ac as u,p as S,I as b,J as g,t as p,L as r,Q as V,S as B,P as A}from"./vue-d691a816.js";import"./index-e82f403d.js";import"./index-9c67be75.js";import"./tsxHelper-f44f22cd.js";import"./useWindowSizeFn-f51aba85.js";import"./index-22989de9.js";import"./index-d5a424e4.js";const P=R({name:"LockModal",components:{ElButton:E,BasicModal:y,BasicForm:M},props:{visible:{type:Boolean,default:!1}},setup(){const{prefixCls:e}=w("header-lock-modal"),t=C(),s=$(),m=_(()=>{var c;return(c=t.getUserInfo)==null?void 0:c.realName}),[n,{closeModal:d}]=L(),[l,{validateField:a,resetFields:o,getFieldsValue:i}]=N({showActionButtonGroup:!1,colProps:{span:24},schemas:[{field:"password",label:"",component:"ElInput",componentProps:{type:"password",placeholder:"锁屏密码"},required:!0}]});function h(){return f(this,null,function*(){yield a();const v=i().password;d(),s.setLockInfo({isLock:!0,pwd:v}),yield o()})}const k=_(()=>{const{avatar:c}=t.getUserInfo;return c||I});return{prefixCls:e,getRealName:m,register:n,registerForm:l,avatar:k,handleLock:h}}});const U=["src"];function x(e,t,s,m,n,d){const l=u("BasicForm"),a=u("ElButton"),o=u("BasicModal");return S(),b(o,{title:"锁定屏幕",onRegister:e.register,width:600,showFooter:!1,class:r(e.prefixCls)},{default:g(()=>[p("div",{class:r(`${e.prefixCls}__entry`)},[p("div",{class:r(`${e.prefixCls}__header`)},[p("img",{src:e.avatar,class:r(`${e.prefixCls}__header-img`)},null,10,U),p("p",{class:r(`${e.prefixCls}__header-name`)},V(e.getRealName),3)],2),B(l,{onRegister:e.registerForm},null,8,["onRegister"]),p("div",{class:r(`${e.prefixCls}__footer`)},[B(a,{type:"primary",class:"mt-2",onClick:e.handleLock},{default:g(()=>[A("锁定")]),_:1},8,["onClick"])],2)],2)]),_:1},8,["onRegister","class"])}const ee=F(P,[["render",x]]);export{ee as default};
