var E=(_,a,e)=>new Promise((p,i)=>{var c=r=>{try{t(e.next(r))}catch(s){i(s)}},u=r=>{try{t(e.throw(r))}catch(s){i(s)}},t=r=>r.done?p(r.value):Promise.resolve(r.value).then(c,u);t((e=e.apply(_,a)).next())});import{E as w,r as x,w as y,p as l,q as f,R as k,a7 as v,K as L,T,S as n,J as m,u as o,P as d,n as C}from"./vue-d691a816.js";import{af as b,K as B}from"./index-795cdaa0.js";import{d as D}from"./index-51098d3a.js";import{getLogColumns as R}from"./data-f0e7996c.js";import{B as S}from"./index-2684c8ee.js";import{u as V}from"./useTable-390ae7f5.js";import{n as g,d as j}from"./elementui-66980f2a.js";import"./index-a82db265.js";import"./index-6ee1af83.js";import"./index-e82f403d.js";import"./index-9c67be75.js";import"./tsxHelper-f44f22cd.js";import"./useWindowSizeFn-f51aba85.js";import"./index-22989de9.js";import"./index-d5a424e4.js";import"./domUtils-3a96435f.js";import"./index-a2d8523e.js";import"./useForm-af19a7b1.js";const A=()=>D.get({url:"/error"}),K={class:"p-4"},N=["src"],tr=w({__name:"index",setup(_){const a=x([]),e=b(),[p,{setTableData:i}]=V({title:"错误日志列表",columns:R()});y(()=>e.getErrorLogInfoList,r=>{C(()=>{i(j(r))})},{immediate:!0}),B();function c(){throw new Error("fire vue error!")}function u(){a.value.push(`${new Date().getTime()}.png`)}function t(){return E(this,null,function*(){yield A()})}return(r,s)=>(l(),f("div",K,[(l(!0),f(k,null,v(a.value,h=>L((l(),f("img",{key:h,src:h},null,8,N)),[[T,!1]])),128)),n(o(S),{onRegister:o(p),class:"error-handle-table"},{toolbar:m(()=>[n(o(g),{onClick:c,type:"primary"},{default:m(()=>[d("点击触发vue错误")]),_:1}),n(o(g),{onClick:u,type:"primary"},{default:m(()=>[d("点击触发资源加载错误")]),_:1}),n(o(g),{onClick:t,type:"primary"},{default:m(()=>[d("点击触发ajax错误")]),_:1})]),_:1},8,["onRegister"])]))}});export{tr as default};
