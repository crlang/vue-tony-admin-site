var E=(i,a,e)=>new Promise((m,n)=>{var u=r=>{try{s(e.next(r))}catch(t){n(t)}},f=r=>{try{s(e.throw(r))}catch(t){n(t)}},s=r=>r.done?m(r.value):Promise.resolve(r.value).then(u,f);s((e=e.apply(i,a)).next())});import{y as _,a as v,b as L,U as h,z as l,A as d,F as w,a3 as T,I as A,J as C,R as p,H as c,u as o,P as g,Q as j}from"./ex-pkg-@vue.dfd8e273.js";import{ar as B,e as D,a$ as F,f as R}from"./index.16f9732e.js";import{getLogColumns as S}from"./data.0f9c8109.js";import{B as z}from"./TableImg.25dce032.js";import{u as I}from"./useTable.f6265685.js";import{c6 as M}from"./ex-pkg-vendor.ab2d902e.js";import{z as b}from"./ex-pkg-element-plus.e1a09009.js";import"./ex-pkg-@element-plus.e8ce6c8b.js";import"./ex-pkg-@vueuse.e5d644bd.js";import"./ex-pkg-@iconify.345c6dc9.js";import"./ex-pkg-mockjs.0bec78f1.js";import"./ex-pkg-@popperjs.f3a17871.js";import"./BasicForm.b4f64650.js";import"./index.265a67f3.js";import"./index.8c22b3cc.js";import"./index.83e77832.js";import"./useAttrs.e78ff19a.js";import"./useWindowSizeFn.732207ab.js";import"./propTypes.6bd760c6.js";import"./uuid.2b29000c.js";import"./download.76630d52.js";import"./base64Conver.bb012c73.js";import"./index.944b2d86.js";import"./ex-pkg-@zxcvbn-ts.dfbde445.js";import"./useForm.c1733d5f.js";import"./index.04776c9c.js";import"./onMountedOrActivated.67461842.js";var x;(function(i){i.Error="/error"})(x||(x={}));const V=()=>B.get({url:x.Error}),H={class:"p-4"},N=["src"],je=_({setup(i){const a=v([]),{t:e}=D(),m=F(),[n,{setTableData:u}]=I({title:e("sys.errorLog.tableTitle"),columns:S()});L(()=>m.getErrorLogInfoList,k=>{h(()=>{u(M(k))})},{immediate:!0});const{createMessage:f}=R();f.info(e("sys.errorLog.enableMessage"));function s(){throw new Error("fire vue error!")}function r(){a.value.push(`${new Date().getTime()}.png`)}function t(){return E(this,null,function*(){yield V()})}return(k,$)=>(l(),d("div",H,[(l(!0),d(w,null,T(a.value,y=>A((l(),d("img",{key:y,src:y},null,8,N)),[[C,!1]])),128)),p(o(z),{onRegister:o(n),class:"error-handle-table"},{toolbar:c(()=>[p(o(b),{onClick:s,type:"primary"},{default:c(()=>[g(j(o(e)("sys.errorLog.fireVueError")),1)]),_:1}),p(o(b),{onClick:r,type:"primary"},{default:c(()=>[g(j(o(e)("sys.errorLog.fireResourceError")),1)]),_:1}),p(o(b),{onClick:t,type:"primary"},{default:c(()=>[g(j(o(e)("sys.errorLog.fireAjaxError")),1)]),_:1})]),_:1},8,["onRegister"])]))}});export{je as default};
