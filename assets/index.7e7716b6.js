var w=(c,m,o)=>new Promise((t,u)=>{var f=e=>{try{i(o.next(e))}catch(n){u(n)}},b=e=>{try{i(o.throw(e))}catch(n){u(n)}},i=e=>e.done?t(e.value):Promise.resolve(e.value).then(f,b);i((o=o.apply(c,m)).next())});import{x as C,M as x,O as L,X as v,g as k,z as d,A as g,a8 as A,ao as B,B as D,C as S,a0 as s,a3 as a,u as r,aI as j,ab as _,F as E,c2 as F}from"./vendor.041d4bc7.js";import{ar as I,e as R,a_ as V,f as z}from"./index.ecb3b302.js";import{getColumns as M}from"./data.52ea52e8.js";import{T as N,B as O}from"./TableImg.092e6b25.js";import{u as H}from"./useTable.51cca612.js";import"./BasicForm.ba24868b.js";import"./index.83a8d175.js";import"./index.46fbf970.js";import"./index.4bc9f650.js";import"./useAttrs.374c949f.js";import"./useWindowSizeFn.b4a2eb84.js";import"./uuid.2b29000c.js";import"./download.c9817825.js";import"./base64Conver.bb012c73.js";import"./index.3c94a11b.js";import"./useForm.7069ef8b.js";import"./clickOutside.233dba34.js";var y;(function(c){c.Error="/error"})(y||(y={}));const W=()=>I.get({url:y.Error}),X={class:"p-4"},$=["src"],ur=C({setup(c){const m=x(),o=x([]),{t}=R(),u=V(),[f,{setTableData:b}]=H({title:t("sys.errorLog.tableTitle"),columns:M(),actionColumn:{width:80,label:"Action",prop:"action",isSlot:!0}});L(()=>u.getErrorLogInfoList,p=>{v(()=>{b(k(p))})},{immediate:!0}),z();function i(p){m.value=p}function e(){throw new Error("fire vue error!")}function n(){o.value.push(`${new Date().getTime()}.png`)}function h(){return w(this,null,function*(){yield W()})}return(p,q)=>(d(),g("div",X,[(d(!0),g(A,null,B(o.value,l=>D((d(),g("img",{key:l,src:l},null,8,$)),[[S,!1]])),128)),s(r(O),{onRegister:r(f),class:"error-handle-table"},{toolbar:a(()=>[s(r(j),{onClick:e,type:"primary"},{default:a(()=>[_(E(r(t)("sys.errorLog.fireVueError")),1)]),_:1}),s(r(j),{onClick:n,type:"primary"},{default:a(()=>[_(E(r(t)("sys.errorLog.fireResourceError")),1)]),_:1}),s(r(j),{onClick:h,type:"primary"},{default:a(()=>[_(E(r(t)("sys.errorLog.fireAjaxError")),1)]),_:1})]),action:a(l=>[s(r(F),{label:l.label,prop:l.prop,align:"center"},{default:a(T=>[s(r(N),{actions:[{label:r(t)("sys.errorLog.tableActionDesc"),onClick:i.bind(null,T.row)}]},null,8,["actions"])]),_:2},1032,["label","prop"])]),_:1},8,["onRegister"])]))}});export{ur as default};
