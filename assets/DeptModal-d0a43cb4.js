var P=Object.defineProperty;var u=Object.getOwnPropertySymbols;var F=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable;var d=(o,t,e)=>t in o?P(o,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[t]=e,f=(o,t)=>{for(var e in t||(t={}))F.call(t,e)&&d(o,e,t[e]);if(u)for(var e of u(t))S.call(t,e)&&d(o,e,t[e]);return o};var m=(o,t,e)=>new Promise((l,a)=>{var i=s=>{try{r(e.next(s))}catch(n){a(n)}},p=s=>{try{r(e.throw(s))}catch(n){a(n)}},r=s=>s.done?l(s.value):Promise.resolve(s.value).then(i,p);r((e=e.apply(o,t)).next())});import{B as v,b as w}from"./index-6ee1af83.js";import{B as y}from"./index-a82db265.js";import{$ as E}from"./elementui-66980f2a.js";import{ab as D,E as N,r as $,f as C,u as b,ac as g,p as I,I as R,J as O,S as T,G as k}from"./vue-d691a816.js";import{b as V}from"./system-58567010.js";import{u as q}from"./useForm-af19a7b1.js";import{_ as j}from"./index-795cdaa0.js";const Y=[{label:"部门名称",prop:"deptName",width:160,align:"left"},{label:"排序",prop:"orderNo",width:100},{label:"状态",prop:"status",width:100,customRender:({record:o})=>{const e=~~o.status===0,l=e?"success":"danger",a=e?"启用":"停用";return D(E,{type:l},()=>a)}},{label:"创建时间",prop:"createTime",width:180},{label:"备注",prop:"remark"}],Z=[{field:"deptName",label:"部门名称",component:"ElInput",colProps:{span:8}},{field:"status",label:"状态",component:"ElSelect",componentProps:{options:[{label:"启用",value:"0"},{label:"停用",value:"1"}]},colProps:{span:8}}],G=[{field:"deptName",label:"部门名称",component:"ElInput",required:!0},{field:"orderNo",label:"排序",component:"ElInputNumber",defaultValue:0,required:!0},{field:"status",label:"状态",component:"ElRadioButton",defaultValue:"0",componentProps:{options:[{label:"启用",value:"0"},{label:"停用",value:"1"}]},required:!0},{label:"备注",field:"remark",component:"ElInput",componentProps:{type:"textarea"}}],U=N({name:"DeptModal",components:{BasicModal:v,BasicForm:y},emits:["success","register"],setup(o,{emit:t}){const e=$(!0),[l,{resetFields:a,setFieldsValue:i,updateSchema:p,validate:r}]=q({labelWidth:100,schemas:G,showActionButtonGroup:!1,colProps:{span:24},actionColProps:{span:24}}),[s,{setModalProps:n,closeModal:h}]=w(c=>m(this,null,function*(){a(),n({confirmOptions:{loading:!1}}),e.value=!!(c!=null&&c.isUpdate),b(e)&&i(f({},c.record));const M=yield V();p({field:"parentDept",componentProps:{treeData:M}})})),_=C(()=>b(e)?"编辑部门":"新增部门");function B(){return m(this,null,function*(){try{yield r(),n({confirmOptions:{loading:!0}}),h(),t("success")}finally{n({confirmOptions:{loading:!1}})}})}return{registerModal:s,registerForm:l,getTitle:_,handleSubmit:B}}});function x(o,t,e,l,a,i){const p=g("BasicForm"),r=g("BasicModal");return I(),R(r,k(o.$attrs,{onRegister:o.registerModal,title:o.getTitle,onConfirm:o.handleSubmit}),{default:O(()=>[T(p,{onRegister:o.registerForm},null,8,["onRegister"])]),_:1},16,["onRegister","title","onConfirm"])}const z=j(U,[["render",x]]),ee=Object.freeze(Object.defineProperty({__proto__:null,default:z},Symbol.toStringTag,{value:"Module"}));export{z as D,ee as a,Y as c,Z as s};
