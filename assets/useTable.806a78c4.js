var d=(n,s,o)=>new Promise((u,r)=>{var g=e=>{try{i(o.next(e))}catch(a){r(a)}},t=e=>{try{i(o.throw(e))}catch(a){r(a)}},i=e=>e.done?u(e.value):Promise.resolve(e.value).then(g,t);i((o=o.apply(n,s)).next())});import{ab as m,av as S,ad as w}from"./index.a180eed7.js";import{M as R,af as b,u as c,O as D,t as l}from"./vendor.5e678e09.js";function y(n){const s=R(null),o=R(!1),u=R(null);let r;function g(e,a){b(()=>{s.value=null,o.value=null}),!(c(o)&&m()&&e===c(s))&&(s.value=e,u.value=a,n&&e.setProps(S(n)),o.value=!0,r==null||r(),r=D(()=>n,()=>{n&&e.setProps(S(n))},{immediate:!0,deep:!0}))}function t(){const e=c(s);return e||w("The table instance has not been obtained yet, please make sure the table is presented when performing the table operation!"),e}return[g,{reload:e=>d(this,null,function*(){t().reload(e)}),setProps:e=>{t().setProps(e)},setLoading:e=>{t().setLoading(e)},getDataSource:()=>t().getDataSource(),getRawDataSource:()=>t().getRawDataSource(),getColumns:({ignoreIndex:e=!1}={})=>{const a=t().getColumns({ignoreIndex:e})||[];return l(a)},setColumns:e=>{t().setColumns(e)},setTableData:e=>t().setTableData(e),setPagination:e=>t().setPagination(e),deleteSelectRowByKey:e=>{t().deleteSelectRowByKey(e)},getSelectRowKeys:()=>l(t().getSelectRowKeys()),getSelectRows:()=>l(t().getSelectRows()),clearSelectedRows:()=>{t().toggleRowSelection()},setSelectedRows:e=>{t().toggleRowSelection(e)},toggleAllSelection:()=>{t().toggleAllSelection()},getPaginationRef:()=>t().getPaginationRef(),getSize:()=>l(t().getSize()),updateTableData:(e,a,f)=>t().updateTableData(e,a,f),deleteTableDataRecord:e=>t().deleteTableDataRecord(e),insertTableDataRecord:(e,a)=>t().insertTableDataRecord(e,a),updateTableDataRecord:(e,a)=>t().updateTableDataRecord(e,a),findTableDataRecord:e=>t().findTableDataRecord(e),getRowSelection:()=>l(t().getRowSelection()),getCacheColumns:()=>l(t().getCacheColumns()),getForm:()=>c(u),setShowPagination:e=>d(this,null,function*(){t().setShowPagination(e)}),getShowPagination:()=>l(t().getShowPagination()),expandAll:()=>{t().expandAll()},collapseAll:()=>{t().collapseAll()}}]}export{y as u};
