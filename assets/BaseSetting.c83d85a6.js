var m=(e,r,s)=>new Promise((d,c)=>{var l=t=>{try{o(s.next(t))}catch(u){c(u)}},a=t=>{try{o(s.throw(t))}catch(u){c(u)}},o=t=>t.done?d(t.value):Promise.resolve(t.value).then(l,a);o((s=s.apply(e,r)).next())});import{B as C}from"./BasicForm.b7b18809.js";import{u as b}from"./useForm.5f193a64.js";import{aa as h,f as F,h as j,_ as g}from"./index.a180eed7.js";import{a as B}from"./index.499095e3.js";import{h as A}from"./header.837ca3c8.js";import{a as I}from"./account.1d96c30b.js";import{b as S}from"./data.2ef57221.js";import{u as w}from"./upload.44835ec4.js";import{x,aQ as y,aR as E,aI as V,V as $,y as k,X as n,z as R,Y as U,a2 as i,$ as p,D as _,bp as M,bq as N,aa as T}from"./vendor.5e678e09.js";import"./index.24c16315.js";import"./index.3e4f3c3c.js";import"./index.2a498586.js";import"./useAttrs.f893c8ed.js";import"./useWindowSizeFn.c212c501.js";import"./propTypes.13e00d90.js";import"./uuid.2b29000c.js";import"./download.86b751ed.js";import"./base64Conver.bb012c73.js";import"./index.056c9b24.js";const z=x({components:{ElRow:y,ElCol:E,ElButton:V,BasicForm:C,CollapseContainer:h,CropperAvatar:B},setup(){const{createMessage:e}=F(),r=j(),[s,{setFieldsValue:d}]=b({labelWidth:120,schemas:S,showActionButtonGroup:!1});$(()=>m(this,null,function*(){const a=yield I();d(a)}));const c=k(()=>{const{avatar:a}=r.getUserInfo;return a||A});function l(a){const o=r.getUserInfo;o.avatar=a,r.setUserInfo(o)}return{avatar:c,register:s,uploadApi:w,updateAvatar:l,handleSubmit:()=>{e.success("\u66F4\u65B0\u6210\u529F\uFF01")}}}}),W=e=>(M("data-v-597f8820"),e=e(),N(),e),q={class:"change-avatar"},D=W(()=>_("div",{class:"mb-2"},"\u5934\u50CF",-1)),G=T(" \u66F4\u65B0\u57FA\u672C\u4FE1\u606F ");function P(e,r,s,d,c,l){const a=n("BasicForm"),o=n("el-col"),t=n("CropperAvatar"),u=n("el-row"),f=n("el-button"),v=n("CollapseContainer");return R(),U(v,{title:"\u57FA\u672C\u8BBE\u7F6E",canExpan:!1},{default:i(()=>[p(u,{gutter:24},{default:i(()=>[p(o,{span:14},{default:i(()=>[p(a,{onRegister:e.register},null,8,["onRegister"])]),_:1}),p(o,{span:10},{default:i(()=>[_("div",q,[D,p(t,{uploadApi:e.uploadApi,value:e.avatar,btnText:"\u66F4\u6362\u5934\u50CF",btnProps:{preIcon:"ep:upload-filled"},onChange:e.updateAvatar,width:"150"},null,8,["uploadApi","value","onChange"])])]),_:1})]),_:1}),p(f,{type:"primary",onClick:e.handleSubmit},{default:i(()=>[G]),_:1},8,["onClick"])]),_:1})}var de=g(z,[["render",P],["__scopeId","data-v-597f8820"]]);export{de as default};
