var f=(o,t,s)=>new Promise((l,r)=>{var p=e=>{try{n(s.next(e))}catch(a){r(a)}},i=e=>{try{n(s.throw(e))}catch(a){r(a)}},n=e=>e.done?l(e.value):Promise.resolve(e.value).then(p,i);n((s=s.apply(o,t)).next())});import k from"./CurrentPermissionMode-2e70d45e.js";import{a0 as E,g as C,c as P,l as A,ah as F,_ as g}from"./index-795cdaa0.js";import{n as M,aJ as b,N as D}from"./elementui-66980f2a.js";import{E as $,f as h,ac as c,p as w,I as T,J as d,S as u,t as S,P as m}from"./vue-d691a816.js";const v=$({components:{ElButton:M,ElAlert:b,ElButtonGroup:D,CurrentPermissionMode:k},setup(){const{refreshMenu:o}=E(),t=C(),s=P(),l=h(()=>s.getProjectConfig.permissionMode===A.BACK);function r(p){return f(this,null,function*(){const i=`fakeToken${p}`;t.setToken(i),t.getUserInfoAction(),o()})}return{RoleEnum:F,refreshMenu:o,switchToken:r,isBackPremissionMode:l}}}),N={class:"mt-4"};function y(o,t,s,l,r,p){const i=c("CurrentPermissionMode"),n=c("el-alert"),e=c("el-button"),a=c("el-button-group"),_=c("PageWrapper");return w(),T(_,{title:"后台权限示例",contentBackground:""},{default:d(()=>[u(i),u(n,{class:"mt-4",type:"info",title:"点击后请查看左侧菜单变化","show-icon":""}),S("div",N,[m(" 权限切换: "),u(a,null,{default:d(()=>[u(e,{onClick:t[0]||(t[0]=B=>o.switchToken(1)),disabled:!o.isBackPremissionMode},{default:d(()=>[m("获取用户id为1的菜单")]),_:1},8,["disabled"]),u(e,{onClick:t[1]||(t[1]=B=>o.switchToken(2)),disabled:!o.isBackPremissionMode},{default:d(()=>[m("获取用户id为2的菜单")]),_:1},8,["disabled"])]),_:1}),u(n,{class:"mt-4",type:"info",title:"请先切换权限模式为后台权限模式","show-icon":""})])]),_:1})}const W=g(v,[["render",y]]);export{W as default};
