var A=Object.defineProperty,B=Object.defineProperties;var T=Object.getOwnPropertyDescriptors;var k=Object.getOwnPropertySymbols;var z=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable;var _=(e,s,a)=>s in e?A(e,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[s]=a,d=(e,s)=>{for(var a in s||(s={}))z.call(s,a)&&_(e,a,s[a]);if(k)for(var a of k(s))E.call(s,a)&&_(e,a,s[a]);return e},h=(e,s)=>B(e,T(s));import{u as x,a1 as N,q as O,_ as V,w as $}from"./index.16f9732e.js";import{V as U}from"./ex-pkg-vditor.0af01745.js";import{u as K}from"./index.83e77832.js";import{o as q}from"./onMountedOrActivated.67461842.js";import{y as M,a as v,b as y,l as C,u as m,t as J,a$ as P,U as G,z as b,A as j,L as D,K as Q}from"./ex-pkg-@vue.dfd8e273.js";import{s as W}from"./ex-pkg-showdown.02306afc.js";const X=M({inheritAttrs:!1,props:{height:{type:Number,default:360},value:{type:String,default:""}},emits:["change","get","update:value"],setup(e,{attrs:s,emit:a}){const o=v(null),l=v(null),u=v(!1),{prefixCls:R}=x("markdown"),i=K(),{getLocale:H}=N(),{getDarkMode:g}=O(),f=v(e.value||"");y([()=>g.value,()=>u.value],([t,r])=>{var n;if(!r)return;const c=t==="dark"?"dark":"classic";(n=p.getVditor())==null||n.setTheme(c)},{immediate:!0,flush:"post"}),y(()=>e.value,t=>{var r;t!==f.value&&((r=p.getVditor())==null||r.setValue(t)),f.value=t});const L=C(()=>{let t;switch(m(H)){case"en":t="en_US";break;case"ja":t="ja_JP";break;case"ko":t="ko_KR";break;default:t="zh_CN"}return t});function S(){const t=m(o);if(!t)return;const r=d(d({},s),e),c=new U(t,h(d({theme:g.value==="dark"?"dark":"classic",lang:m(L),mode:"sv",fullscreen:{index:520},preview:{actions:[]},input:n=>{f.value=n,a("update:value",n),a("change",n)},after:()=>{G(()=>{var n;(n=i==null?void 0:i.redoModalHeight)==null||n.call(i),c.setValue(f.value),l.value=c,u.value=!0,a("get",p)})},blur:()=>{}},r),{cache:{enable:!1}}))}const p={getVditor:()=>l.value};function w(){var r;const t=m(l);if(!!t){try{(r=t==null?void 0:t.destroy)==null||r.call(t)}catch(c){}l.value=null,u.value=!1}}return q(S),J(w),P(w),d({wrapRef:o,prefixCls:R},p)}});function Y(e,s,a,o,l,u){return b(),j("div",{ref:"wrapRef",class:D(e.prefixCls)},null,2)}var Z=V(X,[["render",Y]]);const I=M({props:{value:{type:String},class:{type:String}},setup(e){const{prefixCls:s}=x("markdown-view"),a=new W.Converter,o=C(()=>a.makeHtml(e.value||""));return a.setOption("tables",!0),{prefixCls:s,getHtmlData:o}}}),F=["innerHTML"];function ee(e,s,a,o,l,u){return b(),j("div",{class:D([e.$props.class,e.prefixCls])},[Q("div",{innerHTML:e.getHtmlData},null,8,F)],2)}var te=V(I,[["render",ee]]);const ie=$(Z),ce=$(te);export{ie as M,ce as a};
