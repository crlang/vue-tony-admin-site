var E=(F,d,u)=>new Promise((l,i)=>{var p=e=>{try{r(u.next(e))}catch(m){i(m)}},t=e=>{try{r(u.throw(e))}catch(m){i(m)}},r=e=>e.done?l(e.value):Promise.resolve(e.value).then(p,t);r((u=u.apply(F,d)).next())});import{d as B,r as g,s as C,c as _,b as o,o as V,j as b,i as n,h as a,E as v,y as D,z as h,k,m as L,B as y}from"./index.61be89a1.js";import{C as w}from"./index.f7f1a62a.js";import{u as A,a as x,L as I,b as N}from"./useLogin.25f7dae0.js";import{E as c,a as R}from"./index.1c463f4e.js";import"./form-item.3a95dedf.js";import"./isEqual.755d4a14.js";import"./_baseIsEqual.3f9a7929.js";const S=L("\u767B\u5F55"),G=B({__name:"MobileForm",setup(F){const{getLoginState:d}=A(),u=g(),l=g(!1),{getFormRules:i}=x(),{validForm:p}=N(u),t=C({mobile:"",sms:""}),r=_(()=>o(d)===I.MOBILE);function e(){return E(this,null,function*(){if(!!(yield p()))try{l.value=!0,y({title:"\u767B\u5F55\u6210\u529F",message:"\u6B22\u8FCE\u56DE\u6765",type:"success"})}catch(s){y({title:"\u9519\u8BEF\u63D0\u793A",message:s.message||"\u7F51\u7EDC\u5F02\u5E38\uFF0C\u8BF7\u68C0\u67E5\u60A8\u7684\u7F51\u7EDC\u8FDE\u63A5\u662F\u5426\u6B63\u5E38",type:"error"})}finally{l.value=!1}})}return(m,s)=>o(r)?(V(),b(o(R),{key:0,model:t,rules:o(i),ref_key:"formRef",ref:u},{default:n(()=>[a(o(c),{prop:"mobile"},{default:n(()=>[a(o(v),{modelValue:t.mobile,"onUpdate:modelValue":s[0]||(s[0]=f=>t.mobile=f),placeholder:"\u624B\u673A\u53F7\u7801"},null,8,["modelValue"])]),_:1}),a(o(c),{prop:"sms"},{default:n(()=>[a(o(w),{modelValue:t.sms,"onUpdate:modelValue":s[1]||(s[1]=f=>t.sms=f),placeholder:"\u77ED\u4FE1\u9A8C\u8BC1\u7801",onKeypress:D(e,["enter"])},null,8,["modelValue","onKeypress"])]),_:1}),a(o(c),null,{default:n(()=>[a(o(h),{type:"primary",onClick:e,loading:l.value,class:"login--submit"},{default:n(()=>[S]),_:1},8,["loading"])]),_:1})]),_:1},8,["model","rules"])):k("",!0)}});export{G as default};
