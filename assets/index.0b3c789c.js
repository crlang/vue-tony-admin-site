var w=(c,m,o)=>new Promise((t,u)=>{var d=r=>{try{i(o.next(r))}catch(n){u(n)}},f=r=>{try{i(o.throw(r))}catch(n){u(n)}},i=r=>r.done?t(r.value):Promise.resolve(r.value).then(d,f);i((o=o.apply(c,m)).next())});import{x as C,M as x,O as L,W as v,g as k,z as b,A as g,a7 as A,ao as B,B as D,C as S,$ as s,a2 as a,u as e,aI as j,aa as y,F as E,c2 as F}from"./vendor.5e678e09.js";import{as as I,e as R,aZ as V,f as z}from"./index.a180eed7.js";import{getColumns as M}from"./data.7b3bf4d6.js";import{T as N,B as O}from"./TableImg.85b7f65c.js";import{u as W}from"./useTable.806a78c4.js";import"./BasicForm.b7b18809.js";import"./index.24c16315.js";import"./index.3e4f3c3c.js";import"./index.2a498586.js";import"./useAttrs.f893c8ed.js";import"./useWindowSizeFn.c212c501.js";import"./propTypes.13e00d90.js";import"./uuid.2b29000c.js";import"./download.86b751ed.js";import"./base64Conver.bb012c73.js";import"./index.056c9b24.js";import"./useForm.5f193a64.js";import"./clickOutside.d6da8543.js";var _;(function(c){c.Error="/error"})(_||(_={}));const $=()=>I.get({url:_.Error}),H={class:"p-4"},Z=["src"],pe=C({setup(c){const m=x(),o=x([]),{t}=R(),u=V(),[d,{setTableData:f}]=W({title:t("sys.errorLog.tableTitle"),columns:M(),actionColumn:{width:80,label:"Action",prop:"action",isSlot:!0}});L(()=>u.getErrorLogInfoList,p=>{v(()=>{f(k(p))})},{immediate:!0}),z();function i(p){m.value=p}function r(){throw new Error("fire vue error!")}function n(){o.value.push(`${new Date().getTime()}.png`)}function T(){return w(this,null,function*(){yield $()})}return(p,q)=>(b(),g("div",H,[(b(!0),g(A,null,B(o.value,l=>D((b(),g("img",{key:l,src:l},null,8,Z)),[[S,!1]])),128)),s(e(O),{onRegister:e(d),class:"error-handle-table"},{toolbar:a(()=>[s(e(j),{onClick:r,type:"primary"},{default:a(()=>[y(E(e(t)("sys.errorLog.fireVueError")),1)]),_:1}),s(e(j),{onClick:n,type:"primary"},{default:a(()=>[y(E(e(t)("sys.errorLog.fireResourceError")),1)]),_:1}),s(e(j),{onClick:T,type:"primary"},{default:a(()=>[y(E(e(t)("sys.errorLog.fireAjaxError")),1)]),_:1})]),action:a(l=>[s(e(F),{label:l.label,prop:l.prop,align:"center"},{default:a(h=>[s(e(N),{actions:[{label:e(t)("sys.errorLog.tableActionDesc"),onClick:i.bind(null,h.row)}]},null,8,["actions"])]),_:2},1032,["label","prop"])]),_:1},8,["onRegister"])]))}});export{pe as default};
