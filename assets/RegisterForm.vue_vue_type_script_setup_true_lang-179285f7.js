var w=(y,f,d)=>new Promise((i,n)=>{var o=r=>{try{u(d.next(r))}catch(p){n(p)}},c=r=>{try{u(d.throw(r))}catch(p){n(p)}},u=r=>r.done?i(r.value):Promise.resolve(r.value).then(o,c);u((d=d.apply(y,f)).next())});import{S as x}from"./index-84c717f3.js";import{C as R}from"./index-e91b177b.js";import{u as S,a as _,L as v,b as F}from"./useLogin-74691b1d.js";import{a1 as m,Z as V,a2 as U,n as k,a3 as I,a as b}from"./elementui-66980f2a.js";import{E as L,r as E,W as P,f as h,u as e,p as B,I as N,J as t,S as a,P as g,O as T}from"./vue-d691a816.js";const Z=L({__name:"RegisterForm",setup(y){const{handleBackLogin:f,getLoginState:d}=S(),i=E(),n=E(!1),o=P({account:"",password:"",confirmPassword:"",mobile:"",sms:"",policy:!1}),{getFormRules:c}=_(o),{validForm:u}=F(i),r=h(()=>e(d)===v.REGISTER);function p(){return w(this,null,function*(){if(yield u())try{n.value=!0,b({title:"注册成功",message:"欢迎加入",type:"success"})}catch(l){b({title:"错误提示",message:l.message||"网络异常，请检查您的网络连接是否正常",type:"error"})}finally{n.value=!1}})}return(C,l)=>e(r)?(B(),N(e(I),{key:0,model:o,rules:e(c),ref_key:"formRef",ref:i},{default:t(()=>[a(e(m),{prop:"account"},{default:t(()=>[a(e(V),{modelValue:o.account,"onUpdate:modelValue":l[0]||(l[0]=s=>o.account=s),placeholder:"账号"},null,8,["modelValue"])]),_:1}),a(e(m),{prop:"mobile"},{default:t(()=>[a(e(V),{modelValue:o.mobile,"onUpdate:modelValue":l[1]||(l[1]=s=>o.mobile=s),placeholder:"手机号码"},null,8,["modelValue"])]),_:1}),a(e(m),{prop:"sms"},{default:t(()=>[a(e(R),{modelValue:o.sms,"onUpdate:modelValue":l[2]||(l[2]=s=>o.sms=s),placeholder:"短信验证码"},null,8,["modelValue"])]),_:1}),a(e(m),{prop:"password"},{default:t(()=>[a(e(x),{modelValue:o.password,"onUpdate:modelValue":l[3]||(l[3]=s=>o.password=s),placeholder:"密码"},null,8,["modelValue"])]),_:1}),a(e(m),{prop:"confirmPassword"},{default:t(()=>[a(e(V),{modelValue:o.confirmPassword,"onUpdate:modelValue":l[4]||(l[4]=s=>o.confirmPassword=s),placeholder:"确认密码",clearable:"","show-password":""},null,8,["modelValue"])]),_:1}),a(e(m),{prop:"policy"},{default:t(()=>[a(e(U),{modelValue:o.policy,"onUpdate:modelValue":l[5]||(l[5]=s=>o.policy=s),checked:o.policy},{default:t(()=>[g("我同意xxx隐私政策")]),_:1},8,["modelValue","checked"])]),_:1}),a(e(k),{type:"primary",class:"login--submit",onClick:p,loading:n.value,disabled:o.policy===!1},{default:t(()=>[g("注册")]),_:1},8,["loading","disabled"]),a(e(k),{onClick:e(f),class:"login--back"},{default:t(()=>[g("返回")]),_:1},8,["onClick"])]),_:1},8,["model","rules"])):T("",!0)}});export{Z as _};
