var ae=Object.defineProperty,se=Object.defineProperties;var oe=Object.getOwnPropertyDescriptors;var X=Object.getOwnPropertySymbols;var re=Object.prototype.hasOwnProperty,ne=Object.prototype.propertyIsEnumerable;var N=Math.pow,j=(n,l,r)=>l in n?ae(n,l,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[l]=r,K=(n,l)=>{for(var r in l||(l={}))re.call(l,r)&&j(n,r,l[r]);if(X)for(var r of X(l))ne.call(l,r)&&j(n,r,l[r]);return n},U=(n,l)=>se(n,oe(l));import{N as W,d as Y,D as ie,F as Q,Q as ce,r as c,c as P,al as ue,cz as x,b5 as I,o as H,j as M,i as Z,s as ve,v as fe,g as O,n as T,b as h,J as A,as as me,C as D,cb as de,f as ee,h as V,am as he,O as pe,G as E,ap as q,w as F,S as be,R as G,M as ye,q as ge,Y as we,Z as Se,I as ze,K as _e,k as ke,H as Ee,L as He}from"./index.a3be5a06.js";const te=Symbol("scrollbarContextKey"),z=4,Te={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},Ce=({move:n,size:l,bar:r})=>({[r.size]:l,transform:`translate${r.axis}(${n}%)`}),Be=W({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),Le=Y({__name:"thumb",props:Be,setup(n){const l=n,r="Thumb",a=ie(te),u=Q("scrollbar");a||ce(r,"can not inject scrollbar context");const v=c(),o=c(),p=c({}),s=c(!1);let g=!1,w=!1,S=de?document.onselectstart:null;const t=P(()=>Te[l.vertical?"vertical":"horizontal"]),C=P(()=>Ce({size:l.size,move:l.move,bar:t.value})),_=P(()=>N(v.value[t.value.offset],2)/a.wrapElement[t.value.scrollSize]/l.ratio/o.value[t.value.offset]),R=i=>{var f;if(i.stopPropagation(),i.ctrlKey||[1,2].includes(i.button))return;(f=window.getSelection())==null||f.removeAllRanges(),$(i);const m=i.currentTarget;!m||(p.value[t.value.axis]=m[t.value.offset]-(i[t.value.client]-m.getBoundingClientRect()[t.value.direction]))},B=i=>{if(!o.value||!v.value||!a.wrapElement)return;const f=Math.abs(i.target.getBoundingClientRect()[t.value.direction]-i[t.value.client]),m=o.value[t.value.offset]/2,y=(f-m)*100*_.value/v.value[t.value.offset];a.wrapElement[t.value.scroll]=y*a.wrapElement[t.value.scrollSize]/100},$=i=>{i.stopImmediatePropagation(),g=!0,document.addEventListener("mousemove",L),document.addEventListener("mouseup",k),S=document.onselectstart,document.onselectstart=()=>!1},L=i=>{if(!v.value||!o.value||g===!1)return;const f=p.value[t.value.axis];if(!f)return;const m=(v.value.getBoundingClientRect()[t.value.direction]-i[t.value.client])*-1,y=o.value[t.value.offset]-f,le=(m-y)*100*_.value/v.value[t.value.offset];a.wrapElement[t.value.scroll]=le*a.wrapElement[t.value.scrollSize]/100},k=()=>{g=!1,p.value[t.value.axis]=0,document.removeEventListener("mousemove",L),document.removeEventListener("mouseup",k),d(),w&&(s.value=!1)},b=()=>{w=!1,s.value=!!l.size},e=()=>{w=!0,s.value=g};ue(()=>{d(),document.removeEventListener("mouseup",k)});const d=()=>{document.onselectstart!==S&&(document.onselectstart=S)};return x(I(a,"scrollbarElement"),"mousemove",b),x(I(a,"scrollbarElement"),"mouseleave",e),(i,f)=>(H(),M(me,{name:h(u).b("fade"),persisted:""},{default:Z(()=>[ve(O("div",{ref_key:"instance",ref:v,class:T([h(u).e("bar"),h(u).is(h(t).key)]),onMousedown:B},[O("div",{ref_key:"thumb",ref:o,class:T(h(u).e("thumb")),style:A(h(C)),onMousedown:R},null,38)],34),[[fe,i.always||s.value]])]),_:1},8,["name"]))}});var J=D(Le,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/thumb.vue"]]);const Ne=W({always:{type:Boolean,default:!0},width:String,height:String,ratioX:{type:Number,default:1},ratioY:{type:Number,default:1}}),Pe=Y({__name:"bar",props:Ne,setup(n,{expose:l}){const r=n,a=c(0),u=c(0);return l({handleScroll:o=>{if(o){const p=o.offsetHeight-z,s=o.offsetWidth-z;u.value=o.scrollTop*100/p*r.ratioY,a.value=o.scrollLeft*100/s*r.ratioX}}}),(o,p)=>(H(),ee(he,null,[V(J,{move:a.value,ratio:o.ratioX,size:o.width,always:o.always},null,8,["move","ratio","size","always"]),V(J,{move:u.value,ratio:o.ratioY,size:o.height,vertical:"",always:o.always},null,8,["move","ratio","size","always"])],64))}});var Re=D(Pe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/bar.vue"]]);const $e=W({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:Boolean,wrapStyle:{type:pe([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20}}),xe={scroll:({scrollTop:n,scrollLeft:l})=>[n,l].every(E)},Me={name:"ElScrollbar"},Oe=Y(U(K({},Me),{props:$e,emits:xe,setup(n,{expose:l,emit:r}){const a=n,u=Q("scrollbar");let v,o;const p=c(),s=c(),g=c(),w=c("0"),S=c("0"),t=c(),C=c(1),_=c(1),R=P(()=>{const e={};return a.height&&(e.height=q(a.height)),a.maxHeight&&(e.maxHeight=q(a.maxHeight)),[a.wrapStyle,e]}),B=()=>{var e;s.value&&((e=t.value)==null||e.handleScroll(s.value),r("scroll",{scrollTop:s.value.scrollTop,scrollLeft:s.value.scrollLeft}))};function $(e,d){Ee(e)?s.value.scrollTo(e):E(e)&&E(d)&&s.value.scrollTo(e,d)}const L=e=>{!E(e)||(s.value.scrollTop=e)},k=e=>{!E(e)||(s.value.scrollLeft=e)},b=()=>{if(!s.value)return;const e=s.value.offsetHeight-z,d=s.value.offsetWidth-z,i=N(e,2)/s.value.scrollHeight,f=N(d,2)/s.value.scrollWidth,m=Math.max(i,a.minSize),y=Math.max(f,a.minSize);C.value=i/(e-i)/(m/(e-m)),_.value=f/(d-f)/(y/(d-y)),S.value=m+z<e?`${m}px`:"",w.value=y+z<d?`${y}px`:""};return F(()=>a.noresize,e=>{e?(v==null||v(),o==null||o()):({stop:v}=be(g,b),o=x("resize",b))},{immediate:!0}),F(()=>[a.maxHeight,a.height],()=>{a.native||G(()=>{var e;b(),s.value&&((e=t.value)==null||e.handleScroll(s.value))})}),ye(te,ge({scrollbarElement:p,wrapElement:s})),we(()=>{a.native||G(()=>b())}),Se(()=>b()),l({wrap$:s,update:b,scrollTo:$,setScrollTop:L,setScrollLeft:k,handleScroll:B}),(e,d)=>(H(),ee("div",{ref_key:"scrollbar$",ref:p,class:T(h(u).b())},[O("div",{ref_key:"wrap$",ref:s,class:T([e.wrapClass,h(u).e("wrap"),{[h(u).em("wrap","hidden-default")]:!e.native}]),style:A(h(R)),onScroll:B},[(H(),M(_e(e.tag),{ref_key:"resize$",ref:g,class:T([h(u).e("view"),e.viewClass]),style:A(e.viewStyle)},{default:Z(()=>[ze(e.$slots,"default")]),_:3},8,["class","style"]))],38),e.native?ke("v-if",!0):(H(),M(Re,{key:0,ref_key:"barRef",ref:t,height:S.value,width:w.value,always:e.always,"ratio-x":_.value,"ratio-y":C.value},null,8,["height","width","always","ratio-x","ratio-y"]))],2))}}));var Ae=D(Oe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/scrollbar.vue"]]);const De=He(Ae);export{De as E};
