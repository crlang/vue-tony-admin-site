!function(){function e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function t(t){for(var r=1;r<arguments.length;r++){var a=null!=arguments[r]?arguments[r]:{};r%2?e(Object(a),!0).forEach((function(e){n(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):e(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}System.register(["./index-legacy.cd308252.js","./index-legacy.58e676ae.js","./index-legacy.cd5d724d.js","./index-legacy.01ebb247.js","./row-legacy.ec50572d.js","./card-legacy.584d3fc9.js"],(function(e){"use strict";var n,a,u,o,l,i,c,s,d,f,p,m,g,y,b,v,h,O,j,w,E,C,P,S,_;return{setters:[function(e){n=e._,a=e.d,u=e.E,o=e.z,l=e.s,i=e.ei,c=e.aA,s=e.c,d=e.dU,f=e.ah,p=e.e,m=e.o,g=e.j,y=e.i,b=e.h,v=e.g,h=e.m,O=e.t,j=e.f,w=e.bB,E=e.am},function(e){C=e.E,P=e.a},function(e){S=e.E},function(e){_=e.E},function(){},function(){}],execute:function(){var I=a({components:{ElRow:C,ElCol:P,ElInput:u,ElCard:S,ElButton:o,ElTag:_},setup:function(){var e=l({server:"ws://localhost:3300/test",sendValue:"",recordList:[]}),n=i(e.server,{autoReconnect:!1,heartbeat:!0}),a=n.status,u=n.data,o=n.send,p=n.close,m=n.open;c((function(){if(u.value)try{var t=JSON.parse(u.value);e.recordList.push(t)}catch(n){e.recordList.push({res:u.value,id:Math.ceil(1e3*Math.random()),time:(new Date).getTime()})}}));var g=s((function(){return"OPEN"===a.value})),y=s((function(){return g.value?"success":"danger"})),b=s((function(){return r(e.recordList).reverse()}));return t(t({status:a,formatToDateTime:d},f(e)),{},{handlerSend:function(){o(e.sendValue),e.sendValue=""},getList:b,toggle:function(){g.value?p():m()},getIsOpen:g,getTagColor:y})}}),T={class:"flex items-center"},V=v("span",{class:"mr-4"},"连接状态:",-1),x=h("服务地址"),k=h("发送"),A={class:"min-h-85 overflow-auto"},N={class:"flex items-center"},D=v("span",{class:"mr-2 text-primary"},"收到消息:",-1);e("default",n(I,[["render",function(e,t,n,r,a,u){var o=p("el-tag"),l=p("el-button"),i=p("el-input"),c=p("el-card"),s=p("el-col"),d=p("el-row"),f=p("PageWrapper");return m(),g(f,{title:"WebSocket 示例"},{default:y((function(){return[b(d,{gutter:24,class:"pb-4"},{default:y((function(){return[b(s,{span:8},{default:y((function(){return[b(c,{class:"mb-4"},{header:y((function(){return[v("div",T,[V,b(o,{type:e.getTagColor},{default:y((function(){return[h(O(e.status),1)]})),_:1},8,["type"])])]})),default:y((function(){return[b(i,{modelValue:e.server,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.server=t}),placeholder:"Please input",class:"input-with-select"},{prepend:y((function(){return[x]})),append:y((function(){return[b(l,{type:e.getIsOpen?"danger":"primary",onClick:e.toggle,loading:"CONNECTING"===e.status},{default:y((function(){return[h(O(e.getIsOpen?"关闭连接":"CONNECTING"===e.status?"连接中...":"开启连接"),1)]})),_:1},8,["type","onClick","loading"])]})),_:1},8,["modelValue"])]})),_:1}),b(c,{header:"测试"},{default:y((function(){return[b(i,{maxlength:"30",placeholder:"需要发送到服务器的内容",disabled:!e.getIsOpen,modelValue:e.sendValue,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.sendValue=t}),"show-word-limit":"",rows:5,type:"textarea"},null,8,["disabled","modelValue"]),b(l,{type:"primary",block:"",class:"mt-4",disabled:!e.getIsOpen,onClick:e.handlerSend},{default:y((function(){return[k]})),_:1},8,["disabled","onClick"])]})),_:1})]})),_:1}),b(s,{span:16},{default:y((function(){return[b(c,{header:"消息记录"},{default:y((function(){return[v("div",A,[v("ul",null,[(m(!0),j(E,null,w(e.getList,(function(t){return m(),j("li",{class:"mt-2",key:t.time},[v("div",N,[D,v("span",null,O(e.formatToDateTime(t.time)),1)]),v("div",null,O(t.res),1)])})),128))])])]})),_:1})]})),_:1})]})),_:1})]})),_:1})}]]))}}}))}();