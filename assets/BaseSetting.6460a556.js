var m=(e,r,s)=>new Promise((d,c)=>{var l=t=>{try{o(s.next(t))}catch(u){c(u)}},a=t=>{try{o(s.throw(t))}catch(u){c(u)}},o=t=>t.done?d(t.value):Promise.resolve(t.value).then(l,a);o((s=s.apply(e,r)).next())});import{B as C}from"./BasicForm.3025383c.js";import{u as b}from"./useForm.c868803e.js";import{aa as h,f as F,h as j,_ as g}from"./index.b7d256c2.js";import{a as B}from"./index.2bd3dc7c.js";import{h as A}from"./header.837ca3c8.js";import{a as S}from"./account.8f994f67.js";import{b as w}from"./data.2ef57221.js";import{u as x}from"./upload.f702e5c9.js";import{x as I,aR as y,aS as E,aJ as V,V as $,y as k,X as n,z as R,Y as U,a2 as i,$ as p,D as _,bq as M,br as N,aa as T}from"./vendor.1ced56aa.js";import"./index.d43b6350.js";import"./index.deee9844.js";import"./index.ff9a9226.js";import"./useAttrs.58303cdd.js";import"./useWindowSizeFn.2e4c2b5e.js";import"./propTypes.13e00d90.js";import"./uuid.2b29000c.js";import"./download.00691155.js";import"./base64Conver.bb012c73.js";import"./index.9b0d1666.js";const z=I({components:{ElRow:y,ElCol:E,ElButton:V,BasicForm:C,CollapseContainer:h,CropperAvatar:B},setup(){const{createMessage:e}=F(),r=j(),[s,{setFieldsValue:d}]=b({labelWidth:120,schemas:w,showActionButtonGroup:!1});$(()=>m(this,null,function*(){const a=yield S();d(a)}));const c=k(()=>{const{avatar:a}=r.getUserInfo;return a||A});function l(a){const o=r.getUserInfo;o.avatar=a,r.setUserInfo(o)}return{avatar:c,register:s,uploadApi:x,updateAvatar:l,handleSubmit:()=>{e.success("\u66F4\u65B0\u6210\u529F\uFF01")}}}}),W=e=>(M("data-v-597f8820"),e=e(),N(),e),q={class:"change-avatar"},D=W(()=>_("div",{class:"mb-2"},"\u5934\u50CF",-1)),G=T(" \u66F4\u65B0\u57FA\u672C\u4FE1\u606F ");function J(e,r,s,d,c,l){const a=n("BasicForm"),o=n("el-col"),t=n("CropperAvatar"),u=n("el-row"),f=n("el-button"),v=n("CollapseContainer");return R(),U(v,{title:"\u57FA\u672C\u8BBE\u7F6E",canExpan:!1},{default:i(()=>[p(u,{gutter:24},{default:i(()=>[p(o,{span:14},{default:i(()=>[p(a,{onRegister:e.register},null,8,["onRegister"])]),_:1}),p(o,{span:10},{default:i(()=>[_("div",q,[D,p(t,{uploadApi:e.uploadApi,value:e.avatar,btnText:"\u66F4\u6362\u5934\u50CF",btnProps:{preIcon:"ep:upload-filled"},onChange:e.updateAvatar,width:"150"},null,8,["uploadApi","value","onChange"])])]),_:1})]),_:1}),p(f,{type:"primary",onClick:e.handleSubmit},{default:i(()=>[G]),_:1},8,["onClick"])]),_:1})}var de=g(z,[["render",J],["__scopeId","data-v-597f8820"]]);export{de as default};
