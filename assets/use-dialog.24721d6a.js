import{cc as U,an as I,r as i,co as V,cp as $,c as q,ap as N,cq as Z,w as T,R as _,Y as G,U as S,a6 as Y,cl as b,c4 as g}from"./index.12e2b36d.js";const H=(e,s)=>{const n=S().emit,{nextZIndex:y}=U();let C="";const h=I(),E=I(),o=i(!1),f=i(!1),u=i(!1),d=i(e.zIndex||y());let a,t;const O=V("namespace",$),k=q(()=>{const l={},c=`--${O.value}-dialog`;return e.fullscreen||(e.top&&(l[`${c}-margin-top`]=e.top),e.width&&(l[`${c}-width`]=N(e.width))),l});function w(){n("opened")}function A(){n("closed"),n(Y,!1),e.destroyOnClose&&(u.value=!1)}function F(){n("close")}function x(){t==null||t(),a==null||a(),e.openDelay&&e.openDelay>0?{stop:a}=b(()=>D(),e.openDelay):D()}function v(){a==null||a(),t==null||t(),e.closeDelay&&e.closeDelay>0?{stop:t}=b(()=>m(),e.closeDelay):m()}function r(){function l(c){c||(f.value=!0,o.value=!1)}e.beforeClose?e.beforeClose(l):v()}function L(){e.closeOnClickModal&&r()}function D(){!g||(o.value=!0)}function m(){o.value=!1}function M(){n("openAutoFocus")}function P(){n("closeAutoFocus")}e.lockScroll&&Z(o);function z(){e.closeOnPressEscape&&r()}return T(()=>e.modelValue,l=>{l?(f.value=!1,x(),u.value=!0,n("open"),d.value=e.zIndex?d.value++:y(),_(()=>{s.value&&(s.value.scrollTop=0)})):o.value&&v()}),T(()=>e.fullscreen,l=>{!s.value||(l?(C=s.value.style.transform,s.value.style.transform=""):s.value.style.transform=C)}),G(()=>{e.modelValue&&(o.value=!0,u.value=!0,x())}),{afterEnter:w,afterLeave:A,beforeLeave:F,handleClose:r,onModalClick:L,close:v,doClose:m,onOpenAutoFocus:M,onCloseAutoFocus:P,onCloseRequested:z,titleId:h,bodyId:E,closed:f,style:k,rendered:u,visible:o,zIndex:d}};export{H as u};
