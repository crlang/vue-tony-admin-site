var m=(e,n,s)=>new Promise((d,u)=>{var l=t=>{try{o(s.next(t))}catch(p){u(p)}},a=t=>{try{o(s.throw(t))}catch(p){u(p)}},o=t=>t.done?d(t.value):Promise.resolve(t.value).then(l,a);o((s=s.apply(e,n)).next())});import{B as v}from"./BasicForm.6860876e.js";import{u as C}from"./useForm.71c419b6.js";import{ab as h,f as F,h as j,_ as g}from"./index.51427878.js";import{a as B}from"./index.93a8e92e.js";import{h as A}from"./header.837ca3c8.js";import{a as I}from"./account.afdf35ec.js";import{b as S}from"./data.2ef57221.js";import{u as w}from"./upload.16cded51.js";import{x,aQ as E,aR as y,aI as k,W as R,y as U,Y as r,z as V,Z as $,a3 as i,a0 as c,D as _,bp as M,bq as N,ab as W}from"./vendor.041d4bc7.js";import"./index.2d94dd73.js";import"./index.09cc8dc9.js";import"./index.df418349.js";import"./useAttrs.374c949f.js";import"./useWindowSizeFn.b4a2eb84.js";import"./uuid.2b29000c.js";import"./download.b0dab5ad.js";import"./base64Conver.bb012c73.js";import"./index.958cb5f8.js";const z=x({components:{ElRow:E,ElCol:y,ElButton:k,BasicForm:v,CollapseContainer:h,CropperAvatar:B},setup(){const{createMessage:e}=F(),n=j(),[s,{setFieldsValue:d}]=C({labelWidth:120,schemas:S,showActionButtonGroup:!1});R(()=>m(this,null,function*(){const a=yield I();d(a)}));const u=U(()=>{const{avatar:a}=n.getUserInfo;return a||A});function l(a){const o=n.getUserInfo;o.avatar=a,n.setUserInfo(o)}return{avatar:u,register:s,uploadApi:w,updateAvatar:l,handleSubmit:()=>{e.success("\u66F4\u65B0\u6210\u529F\uFF01")}}}}),T=e=>(M("data-v-249717fe"),e=e(),N(),e),q={class:"change-avatar"},D=T(()=>_("div",{class:"mb-2"},"\u5934\u50CF",-1)),G=W(" \u66F4\u65B0\u57FA\u672C\u4FE1\u606F ");function P(e,n,s,d,u,l){const a=r("BasicForm"),o=r("el-col"),t=r("CropperAvatar"),p=r("el-row"),f=r("el-button"),b=r("CollapseContainer");return V(),$(b,{title:"\u57FA\u672C\u8BBE\u7F6E",canExpan:!1},{default:i(()=>[c(p,{gutter:24},{default:i(()=>[c(o,{span:14},{default:i(()=>[c(a,{onRegister:e.register},null,8,["onRegister"])]),_:1}),c(o,{span:10},{default:i(()=>[_("div",q,[D,c(t,{uploadApi:e.uploadApi,value:e.avatar,btnText:"\u66F4\u6362\u5934\u50CF",btnProps:{preIcon:"ant-design:cloud-upload-outlined"},onChange:e.updateAvatar,width:"150"},null,8,["uploadApi","value","onChange"])])]),_:1})]),_:1}),c(f,{type:"primary",onClick:e.handleSubmit},{default:i(()=>[G]),_:1},8,["onClick"])]),_:1})}var ie=g(z,[["render",P],["__scopeId","data-v-249717fe"]]);export{ie as default};
