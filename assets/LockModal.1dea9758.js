var f=(e,p,o)=>new Promise((d,r)=>{var m=s=>{try{a(o.next(s))}catch(n){r(n)}},t=s=>{try{a(o.throw(s))}catch(n){r(n)}},a=s=>s.done?d(s.value):Promise.resolve(s.value).then(m,t);a((o=o.apply(e,p)).next())});import{_ as x,e as y,u as w,h as C}from"./index.54cb4205.js";import{B as F,a as L}from"./index.e1bb3c50.js";import{u as S}from"./lock.e2768128.js";import{h as $}from"./header.7c507bcf.js";import{B as M}from"./BasicForm.dbe2a646.js";import{u as I}from"./useForm.e09ab490.js";import{z as R}from"./ex-pkg-element-plus.e1a09009.js";import{y as N,l as g,Z as u,z,G as E,H as k,K as l,L as c,Q as j,R as _,P as V}from"./ex-pkg-@vue.dfd8e273.js";import"./ex-pkg-vendor.ab2d902e.js";import"./ex-pkg-mockjs.0bec78f1.js";import"./ex-pkg-@element-plus.e8ce6c8b.js";import"./ex-pkg-@vueuse.e5d644bd.js";import"./ex-pkg-@iconify.345c6dc9.js";import"./ex-pkg-@popperjs.f3a17871.js";import"./useAttrs.e78ff19a.js";import"./useWindowSizeFn.732207ab.js";import"./index.6e61b516.js";import"./index.fa6837be.js";import"./propTypes.6bd760c6.js";import"./download.47e0cd9b.js";import"./base64Conver.bb012c73.js";import"./index.ff321de2.js";import"./ex-pkg-@zxcvbn-ts.dfbde445.js";const P=N({name:"LockModal",components:{ElButton:R,BasicModal:F,BasicForm:M},props:{visible:{type:Boolean,default:!1}},setup(){const{t:e}=y(),{prefixCls:p}=w("header-lock-modal"),o=C(),d=S(),r=g(()=>{var i;return(i=o.getUserInfo)==null?void 0:i.realName}),[m,{closeModal:t}]=L(),[a,{validateField:s,resetFields:n,getFieldsValue:b}]=I({showActionButtonGroup:!1,schemas:[{field:"password",label:"",component:"ElInput",componentProps:{type:"password",placeholder:e("layout.header.lockScreenPassword")},required:!0}]});function h(){return f(this,null,function*(){yield s();const B=b().password;t(),d.setLockInfo({isLock:!0,pwd:B}),yield n()})}const v=g(()=>{const{avatar:i}=o.getUserInfo;return i||$});return{prefixCls:p,getRealName:r,register:m,registerForm:a,avatar:v,t:e,handleLock:h}}}),U=["src"];function A(e,p,o,d,r,m){const t=u("BasicForm"),a=u("ElButton"),s=u("BasicModal");return z(),E(s,{title:e.t("layout.header.lockScreen"),onRegister:e.register,width:600,showFooter:!1,"custom-class":e.prefixCls},{default:k(()=>[l("div",{class:c(`${e.prefixCls}__entry`)},[l("div",{class:c(`${e.prefixCls}__header`)},[l("img",{src:e.avatar,class:c(`${e.prefixCls}__header-img`)},null,10,U),l("p",{class:c(`${e.prefixCls}__header-name`)},j(e.getRealName),3)],2),_(t,{onRegister:e.registerForm},null,8,["onRegister"]),l("div",{class:c(`${e.prefixCls}__footer`)},[_(a,{type:"primary",class:"mt-2",onClick:e.handleLock},{default:k(()=>[V(j(e.t("layout.header.lockScreenBtn")),1)]),_:1},8,["onClick"])],2)],2)]),_:1},8,["title","onRegister","custom-class"])}var de=x(P,[["render",A]]);export{de as default};
