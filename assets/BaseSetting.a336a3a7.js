var d=(o,r,s)=>new Promise((u,n)=>{var l=a=>{try{e(s.next(a))}catch(m){n(m)}},t=a=>{try{e(s.throw(a))}catch(m){n(m)}},e=a=>a.done?u(a.value):Promise.resolve(a.value).then(l,t);e((s=s.apply(o,r)).next())});import{B as g}from"./index.595488ed.js";import{C as B}from"./index.27ff97b2.js";import{d as v,y as C,p as F,Y as b,c as w,_ as S,z as I,e as p,o as A,j as E,i as c,h as i,g as _,m as U,d1 as y,d2 as V}from"./index.a3be5a06.js";import{B as N,u as k}from"./upload.c0e75d72.js";import{h as x}from"./header.7c507bcf.js";import{a as $}from"./account.f3e1fcb5.js";import{b as j}from"./data.2ef57221.js";import{E as M,a as R}from"./index.5461c74f.js";import{u as z}from"./useForm.b48ee51d.js";import"./index.dc1c91ef.js";import"./index.a49e7427.js";import"./row.2d75f628.js";import"./drawer.470a0bec.js";import"./card.6af47b45.js";import"./index.eb8ca85c.js";import"./index.92383e79.js";import"./index.f722e5a3.js";import"./index.99dc64d9.js";import"./isEqual.db5beb94.js";import"./_baseIsEqual.5fab7397.js";import"./form-item.7e3ec432.js";import"./dropdown.817d847e.js";import"./index.6215c19b.js";import"./tsxHelper.28d473f4.js";import"./useWindowSizeFn.2567e0b4.js";import"./index.2b6d2952.js";import"./index.80d0f5e3.js";import"./index.d49960e2.js";import"./refs.11e1edb5.js";import"./use-dialog.b591a60e.js";import"./index.a791c5bd.js";import"./index.2fc3658f.js";import"./_baseUniq.33ff9dfc.js";import"./index.c1f50941.js";import"./index.aaa68a5a.js";import"./index.e6855c9a.js";import"./index.21e5a1a6.js";import"./index.c505a9d5.js";import"./index.588faf9f.js";import"./index.82227f26.js";import"./index.b16bb119.js";import"./index.1b12936e.js";import"./download.f932d0c8.js";const T=v({components:{ElRow:M,ElCol:R,ElButton:C,BasicForm:g,CollapseContainer:B,BasicUpload:N},setup(){const{createMessage:o}=I(),r=F(),[s,{setFieldsValue:u}]=z({labelWidth:120,schemas:j,showActionButtonGroup:!1});b(()=>d(this,null,function*(){const t=yield $();u(t)}));const n=w(()=>{const{avatar:t}=r.getUserInfo;return[t||x]});function l(t){const e=r.getUserInfo;e.avatar=t,r.setUserInfo(e)}return{avatar:n,register:s,uploadApi:k,updateAvatar:l,handleSubmit:()=>{o.success("\u66F4\u65B0\u6210\u529F\uFF01")}}}}),G=o=>(y("data-v-6f170a0e"),o=o(),V(),o),P={class:"change-avatar"},W=G(()=>_("div",{class:"mb-2"},"\u5934\u50CF",-1)),Y=U(" \u66F4\u65B0\u57FA\u672C\u4FE1\u606F ");function q(o,r,s,u,n,l){const t=p("BasicForm"),e=p("el-col"),a=p("BasicUpload"),m=p("el-row"),f=p("el-button"),h=p("CollapseContainer");return A(),E(h,{title:"\u57FA\u672C\u8BBE\u7F6E",canExpan:!1},{default:c(()=>[i(m,{gutter:24},{default:c(()=>[i(e,{span:14},{default:c(()=>[i(t,{onRegister:o.register},null,8,["onRegister"])]),_:1}),i(e,{span:10},{default:c(()=>[_("div",P,[W,i(a,{onChange:o.updateAvatar,api:o.uploadApi,modelValue:o.avatar,uploadName:"file",showPreview:!1,maxSize:5,maxNumber:3,showThumb:"",accept:["png","jpg","jpeg","webp"]},null,8,["onChange","api","modelValue"])])]),_:1})]),_:1}),i(f,{type:"primary",onClick:o.handleSubmit},{default:c(()=>[Y]),_:1},8,["onClick"])]),_:1})}var Mo=S(T,[["render",q],["__scopeId","data-v-6f170a0e"]]);export{Mo as default};
