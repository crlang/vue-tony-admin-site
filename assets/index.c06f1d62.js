var _=(a,i,e)=>new Promise((u,n)=>{var m=r=>{try{s(e.next(r))}catch(t){n(t)}},f=r=>{try{s(e.throw(r))}catch(t){n(t)}},s=r=>r.done?u(r.value):Promise.resolve(r.value).then(m,f);s((e=e.apply(a,i)).next())});import{x as L,M as h,O as v,W as w,g as T,z as l,A as d,a7 as C,ao as k,B as A,C as B,$ as c,a2 as p,u as o,aK as b,aa as g,F as j}from"./vendor.edbe4fa8.js";import{ar as D,e as F,a$ as M,f as S}from"./index.ccefc80e.js";import{getLogColumns as R}from"./data.6d4d5161.js";import{B as V}from"./TableImg.7b5fe1ac.js";import{u as I}from"./useTable.e1de305c.js";import"./BasicForm.1197f972.js";import"./index.927997b6.js";import"./index.1b6370d0.js";import"./index.12e7d6ba.js";import"./useAttrs.07e29e2e.js";import"./useWindowSizeFn.ba2f9a46.js";import"./propTypes.13e00d90.js";import"./uuid.2b29000c.js";import"./download.8f0fb5ba.js";import"./base64Conver.bb012c73.js";import"./index.d37c02e5.js";import"./useForm.7241aa72.js";import"./index.b85ba22b.js";import"./onMountedOrActivated.bbea5cf5.js";var y;(function(a){a.Error="/error"})(y||(y={}));const $=()=>D.get({url:y.Error}),z={class:"p-4"},N=["src"],ce=L({setup(a){const i=h([]),{t:e}=F(),u=M(),[n,{setTableData:m}]=I({title:e("sys.errorLog.tableTitle"),columns:R()});v(()=>u.getErrorLogInfoList,x=>{w(()=>{m(T(x))})},{immediate:!0});const{createMessage:f}=S();f.info(e("sys.errorLog.enableMessage"));function s(){throw new Error("fire vue error!")}function r(){i.value.push(`${new Date().getTime()}.png`)}function t(){return _(this,null,function*(){yield $()})}return(x,O)=>(l(),d("div",z,[(l(!0),d(C,null,k(i.value,E=>A((l(),d("img",{key:E,src:E},null,8,N)),[[B,!1]])),128)),c(o(V),{onRegister:o(n),class:"error-handle-table"},{toolbar:p(()=>[c(o(b),{onClick:s,type:"primary"},{default:p(()=>[g(j(o(e)("sys.errorLog.fireVueError")),1)]),_:1}),c(o(b),{onClick:r,type:"primary"},{default:p(()=>[g(j(o(e)("sys.errorLog.fireResourceError")),1)]),_:1}),c(o(b),{onClick:t,type:"primary"},{default:p(()=>[g(j(o(e)("sys.errorLog.fireAjaxError")),1)]),_:1})]),_:1},8,["onRegister"])]))}});export{ce as default};
