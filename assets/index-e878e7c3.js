import{w as C,g as k,b as v,y as h,x as E,_ as I}from"./index-795cdaa0.js";import{D as S}from"./siteSetting-474b8bdf.js";import{c as L,u as U}from"./index-84e8d8c1.js";import{a as y}from"./index-6ee1af83.js";import{h as A}from"./header-e0b19278.js";import{D as M,F as $,G as B}from"./elementui-66980f2a.js";import{E as F,f as N,ac as c,p as d,q as b,S as e,J as n,L as m,I as w,O as D,t as s,Q as O}from"./vue-d691a816.js";import"./lock-a612cd3d.js";import"./index-a2d8523e.js";import"./useTimeout-ff985c90.js";import"./index-22989de9.js";import"./index-d5a424e4.js";import"./index-1d31dc0e.js";import"./useWindowSizeFn-f51aba85.js";import"./index-e82f403d.js";import"./index-9c67be75.js";import"./tsxHelper-f44f22cd.js";const P=F({name:"UserDropdown",components:{ElDropdown:M,ElDropdownItem:$,ElDropdownMenu:B,LockAction:L(()=>E(()=>import("./LockModal-a0813fb2.js"),["assets/LockModal-a0813fb2.js","assets/index-795cdaa0.js","assets/vue-d691a816.js","assets/elementui-66980f2a.js","assets/index-be94a3a6.css","assets/index-6ee1af83.js","assets/index-e82f403d.js","assets/index-9c67be75.js","assets/tsxHelper-f44f22cd.js","assets/index-3853da97.css","assets/useWindowSizeFn-f51aba85.js","assets/index-22989de9.js","assets/index-d5a424e4.js","assets/index-9192b7b8.css","assets/index-54f68466.css","assets/lock-a612cd3d.js","assets/index-a82db265.js","assets/index-27847170.css","assets/header-e0b19278.js","assets/useForm-af19a7b1.js","assets/LockModal-0731dda6.css"])),SvgIcon:C},props:{itemClass:String},setup(){const{prefixCls:o}=v("header-user-dropdown"),{getShowDoc:u,getUseLockPage:_}=U(),i=k(),f=N(()=>{const{realName:a="",avatar:l,desc:p}=i.getUserInfo||{};return{realName:a,avatar:l||A,desc:p}}),[g,{openModal:t}]=y();function r(a){switch(a){case"logout":i.confirmLoginOut();break;case"doc":h(S);break;case"lock":t(!0);break}}return{prefixCls:o,getUserInfo:f,handleMenuClick:r,getShowDoc:u,register:g,getUseLockPage:_}}});const R=["src"],V=s("span",null,"文档",-1),x=s("span",null,"锁定屏幕",-1),q=s("span",null,"退出系统",-1);function z(o,u,_,i,f,g){const t=c("SvgIcon"),r=c("ElDropdownItem"),a=c("ElDropdownMenu"),l=c("ElDropdown"),p=c("LockAction");return d(),b("div",null,[e(l,{onCommand:o.handleMenuClick},{dropdown:n(()=>[e(a,{class:m(`${o.prefixCls}-menulist`)},{default:n(()=>[o.getShowDoc?(d(),w(r,{key:0,command:"doc"},{default:n(()=>[e(t,{class:"mr-2",name:"filetext"}),V]),_:1})):D("",!0),o.getUseLockPage?(d(),w(r,{key:1,divided:o.getShowDoc,command:"lock"},{default:n(()=>[e(t,{class:"mr-2",name:"lock"}),x]),_:1},8,["divided"])):D("",!0),e(r,{command:"logout"},{default:n(()=>[e(t,{class:"mr-2",name:"poweroff"}),q]),_:1})]),_:1},8,["class"])]),default:n(()=>[s("div",{class:m(o.prefixCls)},[s("img",{class:m(`${o.prefixCls}__avatar`),src:o.getUserInfo.avatar},null,10,R),s("span",{class:m(`${o.prefixCls}__name`)},O(o.getUserInfo.realName),3)],2)]),_:1},8,["onCommand"]),e(p,{onRegister:o.register},null,8,["onRegister"])])}const ao=I(P,[["render",z]]);export{ao as default};
