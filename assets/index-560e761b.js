import{B as T}from"./index-2684c8ee.js";import{g as S}from"./system-58567010.js";import{a as C,K as M,_ as w}from"./index-795cdaa0.js";import{a as y}from"./index-6ee1af83.js";import{A as B,c as k,s as E}from"./AccountModal-2375e26a.js";import A from"./DeptTree-3f7a039e.js";import{K as D,L as R,n as x}from"./elementui-66980f2a.js";import{u as F}from"./useTable-390ae7f5.js";import{E as N,W as $,ac as o,p as W,I as K,J as n,S as a,P}from"./vue-d691a816.js";import"./index-a82db265.js";import"./tsxHelper-f44f22cd.js";import"./index-9c67be75.js";import"./index-e82f403d.js";import"./index-22989de9.js";import"./index-d5a424e4.js";import"./domUtils-3a96435f.js";import"./useWindowSizeFn-f51aba85.js";import"./index-a2d8523e.js";import"./useForm-af19a7b1.js";import"./index-179419ae.js";const V=N({name:"AccountManagement",components:{ElRow:D,ElCol:R,ElButton:x,BasicTable:T,DeptTree:A,AccountModal:B},setup(){const t=C(),{createMessage:_}=M(),[h,{openModal:l}]=y();function g(){l(!0,{isUpdate:!1})}const p=$({}),[u,{reload:r,updateTableDataRecord:m}]=F({title:"账号列表",api:S,rowKey:"id",columns:[...k,{width:180,fixed:"right",actions:[{iconName:"clarity:info-standard-line",btnText:"查看",callback:b},{iconName:"clarity:note-edit-line",btnText:"编辑",callback:s},{iconName:"ep:delete",type:"danger",btnText:"删除",popConfirm:{title:"是否删除？",type:"error"},callback:c}]}],formConfig:{labelWidth:120,schemas:E,autoSubmitOnEnter:!0},useSearchForm:!0,border:!0,pagination:{pageSize:5},searchFn(e){return e}});function s({row:e}){l(!0,{record:e,isUpdate:!0})}function c(e,i){i==="confirm"&&_.success("删除成功")}function d({isUpdate:e,values:i}){e?m(i.id,i):r()}function f(e){p.deptId=e==null?void 0:e.id,r()}function b({row:e}){t(`/system/account_detail/${e.id}`)}return{searchInfo:p,registerTable:u,registerModal:h,handleCreate:g,handleEdit:s,handleDelete:c,handleSuccess:d,handleSelect:f,handleView:b}}});function z(t,_,h,l,g,p){const u=o("DeptTree"),r=o("el-col"),m=o("el-button"),s=o("BasicTable"),c=o("el-row"),d=o("AccountModal"),f=o("PageWrapper");return W(),K(f,{contentFullHeight:"",fixedHeight:""},{default:n(()=>[a(c,{class:"dept-wrap",gutter:16},{default:n(()=>[a(r,{span:6,class:"dept-tree"},{default:n(()=>[a(u,{onSelect:t.handleSelect},null,8,["onSelect"])]),_:1}),a(r,{span:18,class:"dept-table"},{default:n(()=>[a(s,{onRegister:t.registerTable,searchInfo:t.searchInfo},{toolbar:n(()=>[a(m,{type:"primary",size:"small",onClick:t.handleCreate},{default:n(()=>[P("新增账号")]),_:1},8,["onClick"])]),_:1},8,["onRegister","searchInfo"])]),_:1})]),_:1}),a(d,{onRegister:t.registerModal,onSuccess:t.handleSuccess},null,8,["onRegister","onSuccess"])]),_:1})}const se=w(V,[["render",z]]);export{se as default};
