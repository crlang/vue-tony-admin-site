import{d as D,r as d,s as _,c as k,b as e,o as B,k as b,i as t,h as o,E as i,y as v,z as c,j as p,l as R,B as f}from"./index.a812ffa9.js";import{C as S}from"./index.07862fa3.js";import{u as w,a as A,L as h,b as x}from"./useLogin.4d63aad6.js";import{E as s,a as L}from"./index.c6940f23.js";import"./form-item.7fe87d07.js";const j=D({__name:"ForgetPasswordForm",setup(N){const{handleBackLogin:F,getLoginState:E}=w(),{getFormRules:C}=A(),n=d(),r=d(!1),{validForm:g}=x(n),a=_({account:"",mobile:"",sms:""}),y=k(()=>e(E)===h.RESET_PASSWORD);async function m(){if(!!await g())try{r.value=!0,f({title:"\u64CD\u4F5C\u6210\u529F",type:"success"})}catch(u){f({title:"\u9519\u8BEF\u63D0\u793A",message:u.message||"\u7F51\u7EDC\u5F02\u5E38\uFF0C\u8BF7\u68C0\u67E5\u60A8\u7684\u7F51\u7EDC\u8FDE\u63A5\u662F\u5426\u6B63\u5E38",type:"error"})}finally{r.value=!1}}return(V,u)=>e(y)?(B(),b(e(L),{key:0,model:a,rules:e(C),ref_key:"formRef",ref:n},{default:t(()=>[o(e(s),{prop:"account"},{default:t(()=>[o(e(i),{modelValue:a.account,"onUpdate:modelValue":u[0]||(u[0]=l=>a.account=l),placeholder:"\u8D26\u53F7"},null,8,["modelValue"])]),_:1}),o(e(s),{prop:"mobile"},{default:t(()=>[o(e(i),{modelValue:a.mobile,"onUpdate:modelValue":u[1]||(u[1]=l=>a.mobile=l),placeholder:"\u624B\u673A\u53F7\u7801"},null,8,["modelValue"])]),_:1}),o(e(s),{prop:"sms"},{default:t(()=>[o(e(S),{modelValue:a.sms,"onUpdate:modelValue":u[2]||(u[2]=l=>a.sms=l),placeholder:"\u77ED\u4FE1\u9A8C\u8BC1\u7801",onKeypress:v(m,["enter"])},null,8,["modelValue","onKeypress"])]),_:1}),o(e(s),{class:"enter-x"},{default:t(()=>[o(e(c),{type:"primary",class:"login--submit",onClick:m,loading:r.value},{default:t(()=>[p("\u91CD\u7F6E")]),_:1},8,["loading"]),o(e(c),{class:"login--back",onClick:e(F)},{default:t(()=>[p("\u8FD4\u56DE")]),_:1},8,["onClick"])]),_:1})]),_:1},8,["model","rules"])):R("",!0)}});export{j as default};
