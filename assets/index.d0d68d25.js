import{_ as I,V as L,I as y,u as E,e as x,h as S,o as U}from"./index.16f9732e.js";import{D as M}from"./siteSetting.0be25c3f.js";import{c as A,u as $}from"./index.0167b528.js";import{b as N}from"./index.83e77832.js";import{h as O}from"./header.7c507bcf.js";import{j as V,k as P,i as R}from"./ex-pkg-element-plus.e1a09009.js";import{y as B,l as z,Z as a,z as u,A as F,R as o,H as s,L as c,G as h,P as f,Q as i,O as D,K as g,F as T}from"./ex-pkg-@vue.dfd8e273.js";import"./ex-pkg-vendor.ab2d902e.js";import"./ex-pkg-mockjs.0bec78f1.js";import"./ex-pkg-@element-plus.e8ce6c8b.js";import"./ex-pkg-@vueuse.e5d644bd.js";import"./ex-pkg-@iconify.345c6dc9.js";import"./ex-pkg-@popperjs.f3a17871.js";import"./index.acc9f221.js";import"./useWindowSizeFn.732207ab.js";import"./propTypes.6bd760c6.js";import"./lock.f5bb7ab4.js";import"./useAttrs.e78ff19a.js";const H=B({name:"UserDropdown",components:{ElDropdown:V,ElDropdownItem:P,ElDropdownMenu:R,LockAction:A(()=>L(()=>import("./LockModal.b357fdc3.js"),["assets/LockModal.b357fdc3.js","assets/LockModal.d84ca271.css","assets/index.16f9732e.js","assets/index.1b720262.css","assets/ex-pkg-element-plus.e1a09009.js","assets/ex-pkg-element-plus.0129893f.css","assets/ex-pkg-@vue.dfd8e273.js","assets/ex-pkg-@element-plus.e8ce6c8b.js","assets/ex-pkg-vendor.ab2d902e.js","assets/ex-pkg-vendor.8b4621f8.css","assets/ex-pkg-mockjs.0bec78f1.js","assets/ex-pkg-@popperjs.f3a17871.js","assets/ex-pkg-@vueuse.e5d644bd.js","assets/ex-pkg-@iconify.345c6dc9.js","assets/index.83e77832.js","assets/index.2fd013d8.css","assets/useAttrs.e78ff19a.js","assets/useWindowSizeFn.732207ab.js","assets/lock.f5bb7ab4.js","assets/header.7c507bcf.js","assets/BasicForm.b4f64650.js","assets/BasicForm.4c21ce61.css","assets/index.265a67f3.js","assets/index.8c22b3cc.js","assets/index.0f2a3469.css","assets/propTypes.6bd760c6.js","assets/uuid.2b29000c.js","assets/download.76630d52.js","assets/base64Conver.bb012c73.js","assets/index.944b2d86.js","assets/index.4ea4c51b.css","assets/ex-pkg-@zxcvbn-ts.dfbde445.js","assets/useForm.c1733d5f.js"])),Icon:y},props:{itemClass:String},setup(){const{prefixCls:e}=E("header-user-dropdown"),{t:k}=x(),{getShowDoc:_,getUseLockPage:j}=$(),d=S(),w=z(()=>{const{realName:r="",avatar:C,desc:b}=d.getUserInfo||{};return{realName:r,avatar:C||O,desc:b}}),[n,{openModal:t}]=N();function p(){t(!0)}function l(){d.confirmLoginOut()}function m(){U(M)}function v(r){switch(console.log("handle key",r),r){case"logout":l();break;case"doc":m();break;case"lock":p();break}}return{prefixCls:e,t:k,getUserInfo:w,handleMenuClick:v,getShowDoc:_,register:n,getUseLockPage:j}}}),W=["src"];function G(e,k,_,j,d,w){const n=a("Icon"),t=a("ElDropdownItem"),p=a("ElDropdownMenu"),l=a("ElDropdown"),m=a("LockAction");return u(),F(T,null,[o(l,{onCommand:e.handleMenuClick},{dropdown:s(()=>[o(p,{class:c(`${e.prefixCls}-menulist`)},{default:s(()=>[e.getShowDoc?(u(),h(t,{key:0,command:"doc"},{default:s(()=>[o(n,{class:"mr-2",icon:"ion:document-text-outline"}),f(i(e.t("layout.header.dropdownItemDoc")),1)]),_:1})):D("",!0),e.getUseLockPage?(u(),h(t,{key:1,divided:e.getShowDoc,command:"lock"},{default:s(()=>[o(n,{class:"mr-2",icon:"ion:lock-closed-outline"}),f(i(e.t("layout.header.tooltipLock")),1)]),_:1},8,["divided"])):D("",!0),o(t,{command:"logout",divided:""},{default:s(()=>[o(n,{class:"mr-2",icon:"ion:power-outline"}),f(i(e.t("layout.header.dropdownItemLoginOut")),1)]),_:1})]),_:1},8,["class"])]),default:s(()=>[g("div",{class:c([e.prefixCls,e.itemClass])},[g("img",{class:c(`${e.prefixCls}__avatar`),src:e.getUserInfo.avatar},null,10,W),g("span",{class:c(`${e.prefixCls}__name`)},i(e.getUserInfo.realName),3)],2)]),_:1},8,["onCommand"]),o(m,{onRegister:e.register},null,8,["onRegister"])],64)}var le=I(H,[["render",G]]);export{le as default};
