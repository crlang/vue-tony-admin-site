import{B as h}from"./index.7264ffb9.js";import{C as g}from"./index.397c2134.js";import{d as B,z as C,p as v,q as F,Z as b,c as w,_ as S,e,o as I,k as A,i as r,h as a,g as u,j as E,dt as U,ds as V}from"./index.a812ffa9.js";import{B as k,u as y}from"./upload.0704a58d.js";import{h as N}from"./header.0b104db2.js";import{a as x}from"./account.9b5a7b63.js";import{b as $}from"./data.2ef57221.js";import{E as j,a as M}from"./index.510e3cb5.js";import{u as R}from"./useForm.e1145b7d.js";import"./index.80078828.js";import"./index.fbd5cbb3.js";import"./index.1a2dfbe3.js";import"./index.48be7fd2.js";import"./index.f3e99c90.js";import"./index.68f69cb3.js";import"./strings.2b325842.js";import"./isEqual.f6c0098b.js";import"./_baseIsEqual.bce9394a.js";import"./drawer.55be0fb4.js";import"./form-item.7fe87d07.js";import"./col.93f66016.js";import"./card.bf554046.js";import"./dropdown.01d4c192.js";import"./description.cf55f5f3.js";import"./index.6c72c066.js";import"./tsxHelper.25cd2f92.js";import"./useWindowSizeFn.1725b147.js";import"./index.ba82fa59.js";import"./index.00e0b22a.js";import"./index.fb19ae5d.js";import"./refs.7c70278f.js";import"./use-dialog.8523a096.js";import"./index.c76667f6.js";import"./index.b98834c9.js";import"./index.6808290a.js";import"./index.a7c381f2.js";import"./index.2b992e0e.js";import"./index.09c51ff0.js";import"./index.c6940f23.js";import"./index.18abe04a.js";import"./index.92c9b7b5.js";import"./index.e8746eaf.js";import"./index.4ba8cdc9.js";import"./download.72853a59.js";const z=B({components:{ElRow:j,ElCol:M,ElButton:C,BasicForm:h,CollapseContainer:g,BasicUpload:k},setup(){const{createMessage:o}=v(),p=F(),[i,{setFieldsValue:n}]=R({labelWidth:120,schemas:$,showActionButtonGroup:!1});b(async()=>{const t=await x();n(t)});const m=w(()=>{const{avatar:t}=p.getUserInfo;return[t||N]});function c(t){const s=p.getUserInfo;s.avatar=t,p.setUserInfo(s)}return{avatar:m,register:i,uploadApi:y,updateAvatar:c,handleSubmit:()=>{o.success("\u66F4\u65B0\u6210\u529F\uFF01")}}}}),T=o=>(U("data-v-fb2767c8"),o=o(),V(),o),q={class:"change-avatar"},G=T(()=>u("div",{class:"mb-2"},"\u5934\u50CF",-1));function P(o,p,i,n,m,c){const t=e("BasicForm"),s=e("el-col"),l=e("BasicUpload"),d=e("el-row"),_=e("el-button"),f=e("CollapseContainer");return I(),A(f,{title:"\u57FA\u672C\u8BBE\u7F6E",canExpan:!1},{default:r(()=>[a(d,{gutter:24},{default:r(()=>[a(s,{span:14},{default:r(()=>[a(t,{onRegister:o.register},null,8,["onRegister"])]),_:1}),a(s,{span:10},{default:r(()=>[u("div",q,[G,a(l,{onChange:o.updateAvatar,api:o.uploadApi,modelValue:o.avatar,uploadName:"file",showPreview:!1,maxSize:5,maxNumber:3,showThumb:"",accept:["png","jpg","jpeg","webp"]},null,8,["onChange","api","modelValue"])])]),_:1})]),_:1}),a(_,{type:"primary",onClick:o.handleSubmit},{default:r(()=>[E("\u66F4\u65B0\u57FA\u672C\u4FE1\u606F")]),_:1},8,["onClick"])]),_:1})}const $o=S(z,[["render",P],["__scopeId","data-v-fb2767c8"]]);export{$o as default};
