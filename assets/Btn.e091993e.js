import D from"./CurrentPermissionMode.a13f8e7e.js";import{_ as P,d as h,z as v,fR as g,bs as b,bd as M,q as S,c as $,e as c,bO as w,o as r,k as i,i as u,h as e,g as C,j as s,t as T,f as x,l,v as F,al as N,br as V}from"./index.a812ffa9.js";import{A as j}from"./index.b4755a7c.js";import{E as U}from"./index.6808290a.js";import"./tsxHelper.25cd2f92.js";const W=h({components:{ElButton:v,ElDivider:U,CurrentPermissionMode:D,Authority:j},setup(){const{hasPermission:o}=g(),n=b(),f=M(),d=S(),B=$(()=>f.getProjectConfig.permissionMode===V.BACK);async function _(m){const a=`fakeToken${m}`;d.setToken(a),d.getUserInfoAction(),n.changePermissionCode()}return{hasPermission:o,permissionStore:n,switchToken:_,isBackPremissionMode:B}}});function q(o,n,f,d,B,_){const m=c("CurrentPermissionMode"),a=c("el-divider"),k=c("el-alert"),t=c("el-button"),p=c("Authority"),A=c("PageWrapper"),E=w("auth");return r(),i(A,{contentBackground:"",title:"\u6309\u94AE\u6743\u9650\u63A7\u5236",description:"\u5FC5\u987B\u5904\u4E8E\u540E\u53F0\u6743\u9650\u6A21\u5F0F\u624D\u53EF\u6D4B\u8BD5\u6B64\u9875\u9762\u6240\u5C55\u793A\u7684\u529F\u80FD"},{default:u(()=>[e(m),C("p",null,[s(" \u5F53\u524D\u62E5\u6709\u7684code\u5217\u8868: "),C("span",null,T(o.permissionStore.getPermCodeList),1)]),e(a),e(k,{class:"mt-4",type:"info",title:"\u70B9\u51FB\u540E\u8BF7\u67E5\u770B\u6309\u94AE\u53D8\u5316","show-icon":""}),e(a),e(t,{type:"primary",class:"mr-2",onClick:n[0]||(n[0]=y=>o.switchToken(2)),disabled:!o.isBackPremissionMode},{default:u(()=>[s("\u70B9\u51FB\u5207\u6362\u6309\u94AE\u6743\u9650(\u7528\u6237id\u4E3A2)")]),_:1},8,["disabled"]),e(t,{type:"primary",onClick:n[1]||(n[1]=y=>o.switchToken(1)),disabled:!o.isBackPremissionMode},{default:u(()=>[s("\u70B9\u51FB\u5207\u6362\u6309\u94AE\u6743\u9650(\u7528\u6237id\u4E3A1,\u9ED8\u8BA4)")]),_:1},8,["disabled"]),o.isBackPremissionMode?(r(),x(N,{key:0},[e(a,null,{default:u(()=>[s("\u7EC4\u4EF6\u65B9\u5F0F\u5224\u65AD\u6743\u9650")]),_:1}),e(p,{value:"1000"},{default:u(()=>[e(t,{type:"primary",class:"mx-4"},{default:u(()=>[s("\u62E5\u6709code ['1000']\u6743\u9650\u53EF\u89C1")]),_:1})]),_:1}),e(p,{value:"2000"},{default:u(()=>[e(t,{color:"success",class:"mx-4"},{default:u(()=>[s("\u62E5\u6709code ['2000']\u6743\u9650\u53EF\u89C1")]),_:1})]),_:1}),e(p,{value:["1000","2000"]},{default:u(()=>[e(t,{color:"error",class:"mx-4"},{default:u(()=>[s("\u62E5\u6709code ['1000','2000']\u89D2\u8272\u6743\u9650\u53EF\u89C1")]),_:1})]),_:1}),e(a,null,{default:u(()=>[s("\u51FD\u6570\u65B9\u5F0F\u65B9\u5F0F\u5224\u65AD\u6743\u9650")]),_:1}),o.hasPermission("1000")?(r(),i(t,{key:0,type:"primary",class:"mx-4"},{default:u(()=>[s("\u62E5\u6709code ['1000']\u6743\u9650\u53EF\u89C1")]),_:1})):l("",!0),o.hasPermission("2000")?(r(),i(t,{key:1,color:"success",class:"mx-4"},{default:u(()=>[s("\u62E5\u6709code ['2000']\u6743\u9650\u53EF\u89C1")]),_:1})):l("",!0),o.hasPermission(["1000","2000"])?(r(),i(t,{key:2,color:"error",class:"mx-4"},{default:u(()=>[s("\u62E5\u6709code ['1000','2000']\u89D2\u8272\u6743\u9650\u53EF\u89C1")]),_:1})):l("",!0),e(a,null,{default:u(()=>[s("\u6307\u4EE4\u65B9\u5F0F\u65B9\u5F0F\u5224\u65AD\u6743\u9650(\u8BE5\u65B9\u5F0F\u4E0D\u80FD\u52A8\u6001\u4FEE\u6539\u6743\u9650.)")]),_:1}),F((r(),i(t,{type:"primary",class:"mx-4"},{default:u(()=>[s("\u62E5\u6709code ['1000']\u6743\u9650\u53EF\u89C1")]),_:1})),[[E,"1000"]]),F((r(),i(t,{color:"success",class:"mx-4"},{default:u(()=>[s("\u62E5\u6709code ['2000']\u6743\u9650\u53EF\u89C1")]),_:1})),[[E,"2000"]]),F((r(),i(t,{color:"error",class:"mx-4"},{default:u(()=>[s("\u62E5\u6709code ['1000','2000']\u89D2\u8272\u6743\u9650\u53EF\u89C1")]),_:1})),[[E,["1000","2000"]]])],64)):l("",!0)]),_:1})}const R=P(W,[["render",q]]);export{R as default};
