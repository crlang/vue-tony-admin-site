import{B as f}from"./index.7264ffb9.js";import{C}from"./index.397c2134.js";import{S as E}from"./index.ab33f865.js";import{_,d as w,p as h,e as t,o as g,k as P,i as u,h as s}from"./index.a812ffa9.js";import{u as b}from"./useForm.e1145b7d.js";import"./index.80078828.js";import"./index.fbd5cbb3.js";import"./index.1a2dfbe3.js";import"./index.48be7fd2.js";import"./index.f3e99c90.js";import"./index.68f69cb3.js";import"./strings.2b325842.js";import"./isEqual.f6c0098b.js";import"./_baseIsEqual.bce9394a.js";import"./drawer.55be0fb4.js";import"./form-item.7fe87d07.js";import"./col.93f66016.js";import"./card.bf554046.js";import"./dropdown.01d4c192.js";import"./description.cf55f5f3.js";import"./index.6c72c066.js";import"./tsxHelper.25cd2f92.js";import"./useWindowSizeFn.1725b147.js";import"./index.ba82fa59.js";import"./index.00e0b22a.js";import"./index.fb19ae5d.js";import"./refs.7c70278f.js";import"./use-dialog.8523a096.js";import"./index.c76667f6.js";import"./index.b98834c9.js";import"./index.6808290a.js";import"./index.a7c381f2.js";import"./index.2b992e0e.js";import"./index.09c51ff0.js";import"./index.510e3cb5.js";import"./index.c6940f23.js";import"./index.18abe04a.js";import"./index.92c9b7b5.js";const A=[{field:"passwordOld",label:"\u5F53\u524D\u5BC6\u7801",component:"ElInput",componentProps:{showPassword:!0},required:!0},{field:"passwordNew",label:"\u65B0\u5BC6\u7801",component:"ElInput",slot:"newpassword",componentProps:{placeholder:"\u65B0\u5BC6\u7801"},rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u65B0\u5BC6\u7801"}]},{field:"confirmPassword",label:"\u786E\u8BA4\u5BC6\u7801",component:"ElInput",componentProps:{showPassword:!0},dynamicRules:({values:e})=>[{required:!0,validator:(r,o)=>o?o!==e.passwordNew?Promise.reject("\u4E24\u6B21\u8F93\u5165\u7684\u5BC6\u7801\u4E0D\u4E00\u81F4!"):Promise.resolve():Promise.reject("\u5BC6\u7801\u4E0D\u80FD\u4E3A\u7A7A")}]}],S=w({name:"ChangePassword",components:{BasicForm:f,CollapseContainer:C,StrengthMeter:E},setup(){const{createMessage:e}=h(),[r,{validate:o,resetFields:n}]=b({size:"large",labelWidth:100,colProps:{span:16},schemas:A,submitButtonOptions:{btnText:"\u786E\u8BA4"},resetButtonOptions:{btnText:"\u91CD\u7F6E"}});async function p(){try{await o(),e.success("\u91CD\u7F6E\u6210\u529F")}catch(a){}}return{register:r,resetFields:n,handleSubmit:p}}});function D(e,r,o,n,p,a){const l=t("StrengthMeter"),c=t("BasicForm"),d=t("CollapseContainer"),F=t("PageWrapper");return g(),P(F,{title:"\u4FEE\u6539\u5F53\u524D\u7528\u6237\u5BC6\u7801",description:"\u4FEE\u6539\u6210\u529F\u540E\u4F1A\u81EA\u52A8\u9000\u51FA\u5F53\u524D\u767B\u5F55\uFF01"},{default:u(()=>[s(d,{title:"\u57FA\u7840\u793A\u4F8B",canExpan:!1},{default:u(()=>[s(c,{onRegister:e.register,onSubmit:e.handleSubmit,onReset:e.resetFields},{newpassword:u(({model:i,field:m})=>[s(l,{modelValue:i[m],"onUpdate:modelValue":B=>i[m]=B},null,8,["modelValue","onUpdate:modelValue"])]),_:1},8,["onRegister","onSubmit","onReset"])]),_:1})]),_:1})}const ce=_(S,[["render",D]]);export{ce as default};
