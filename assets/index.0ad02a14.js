var y=(a,i,r)=>new Promise((u,n)=>{var m=e=>{try{s(r.next(e))}catch(t){n(t)}},l=e=>{try{s(r.throw(e))}catch(t){n(t)}},s=e=>e.done?u(e.value):Promise.resolve(e.value).then(m,l);s((r=r.apply(a,i)).next())});import{x as E,M as h,O as w,W as L,g as v,z as d,A as f,a7 as T,ao as C,B as A,C as k,$ as c,a2 as p,u as o,aJ as g,aa as b,F as j}from"./vendor.1ced56aa.js";import{as as B,e as S,a_ as D,f as F}from"./index.b7d256c2.js";import{getLogColumns as R}from"./data.b4d5299f.js";import{B as V}from"./TableImg.f1872a7a.js";import{u as I}from"./useTable.9ede0ccb.js";import"./BasicForm.3025383c.js";import"./index.d43b6350.js";import"./index.deee9844.js";import"./index.ff9a9226.js";import"./useAttrs.58303cdd.js";import"./useWindowSizeFn.2e4c2b5e.js";import"./propTypes.13e00d90.js";import"./uuid.2b29000c.js";import"./download.00691155.js";import"./base64Conver.bb012c73.js";import"./index.9b0d1666.js";import"./useForm.c868803e.js";import"./index.7b145182.js";import"./onMountedOrActivated.f6bae218.js";var _;(function(a){a.Error="/error"})(_||(_={}));const M=()=>B.get({url:_.Error}),z={class:"p-4"},N=["src"],nr=E({setup(a){const i=h([]),{t:r}=S(),u=D(),[n,{setTableData:m}]=I({title:r("sys.errorLog.tableTitle"),columns:R(),actionColumn:{width:80,label:"Action",prop:"action",isSlot:!0}});w(()=>u.getErrorLogInfoList,t=>{L(()=>{m(v(t))})},{immediate:!0}),F();function l(){throw new Error("fire vue error!")}function s(){i.value.push(`${new Date().getTime()}.png`)}function e(){return y(this,null,function*(){yield M()})}return(t,O)=>(d(),f("div",z,[(d(!0),f(T,null,C(i.value,x=>A((d(),f("img",{key:x,src:x},null,8,N)),[[k,!1]])),128)),c(o(V),{onRegister:o(n),class:"error-handle-table"},{toolbar:p(()=>[c(o(g),{onClick:l,type:"primary"},{default:p(()=>[b(j(o(r)("sys.errorLog.fireVueError")),1)]),_:1}),c(o(g),{onClick:s,type:"primary"},{default:p(()=>[b(j(o(r)("sys.errorLog.fireResourceError")),1)]),_:1}),c(o(g),{onClick:e,type:"primary"},{default:p(()=>[b(j(o(r)("sys.errorLog.fireAjaxError")),1)]),_:1})]),_:1},8,["onRegister"])]))}});export{nr as default};
