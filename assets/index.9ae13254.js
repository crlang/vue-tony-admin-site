import{_ as C,d as D,bJ as v,q as h,c as E,e as i,o as d,f as I,h as e,i as t,n as m,j as k,k as w,g as r,t as S,l as U,bO as L,bM as M}from"./index.61be89a1.js";import{D as A}from"./siteSetting.42982d03.js";import{E as $,d as b,e as y,c as B,u as N}from"./index.e14673d0.js";import{a as F}from"./index.24db9bec.js";import{h as O}from"./header.7c507bcf.js";import"./lock.63bbbced.js";import"./index.ee8c97d5.js";import"./index.21f47639.js";import"./index.e5719e3f.js";import"./index.91f8c4ba.js";import"./useTimeout.0d66b90d.js";import"./_baseUniq.8c6df5cb.js";import"./_baseIsEqual.3f9a7929.js";import"./index.a6a2ff86.js";import"./dropdown.7e7b7d81.js";import"./index.9574a6b4.js";import"./index.00e0b22a.js";import"./index.c00c0978.js";import"./useWindowSizeFn.a3ba0925.js";import"./index.37ecb140.js";import"./index.5e1ef5ac.js";import"./drawer.0f38de7e.js";import"./use-dialog.8207f305.js";import"./index.3df10ae2.js";import"./refs.a78f8491.js";import"./index.4e3bc3e4.js";import"./index.8337b38c.js";import"./row.2741a82e.js";import"./card.dd13a1ef.js";import"./index.7fce1749.js";import"./index.88f08dee.js";import"./isEqual.755d4a14.js";import"./form-item.3a95dedf.js";import"./index.0526f740.js";import"./tsxHelper.e74009f7.js";const P=D({name:"UserDropdown",components:{ElDropdown:$,ElDropdownItem:b,ElDropdownMenu:y,LockAction:B(()=>M(()=>import("./LockModal.140776cb.js"),["assets/LockModal.140776cb.js","assets/index.61be89a1.js","assets/index.24db9bec.js","assets/index.8337b38c.js","assets/row.2741a82e.js","assets/drawer.0f38de7e.js","assets/card.dd13a1ef.js","assets/index.7fce1749.js","assets/index.88f08dee.js","assets/index.91f8c4ba.js","assets/index.3df10ae2.js","assets/isEqual.755d4a14.js","assets/_baseIsEqual.3f9a7929.js","assets/form-item.3a95dedf.js","assets/dropdown.7e7b7d81.js","assets/index.0526f740.js","assets/tsxHelper.e74009f7.js","assets/useWindowSizeFn.a3ba0925.js","assets/index.9574a6b4.js","assets/index.00e0b22a.js","assets/index.37ecb140.js","assets/refs.a78f8491.js","assets/use-dialog.8207f305.js","assets/lock.63bbbced.js","assets/index.bd827693.js","assets/index.a1a61c87.js","assets/index.761cf9b9.js","assets/_baseUniq.8c6df5cb.js","assets/index.8a2b5e67.js","assets/index.bdf9eec6.js","assets/index.87191bef.js","assets/index.625e9d3f.js","assets/index.e035b73c.js","assets/index.1c463f4e.js","assets/header.7c507bcf.js","assets/useForm.34aa1f9e.js"])),SvgIcon:v},props:{itemClass:String},setup(){const{prefixCls:o}=U("header-user-dropdown"),{getShowDoc:u,getUseLockPage:_}=N(),p=h(),f=E(()=>{const{realName:a="",avatar:c,desc:l}=p.getUserInfo||{};return{realName:a,avatar:c||O,desc:l}}),[g,{openModal:n}]=F();function s(a){switch(a){case"logout":p.confirmLoginOut();break;case"doc":L(A);break;case"lock":n(!0);break}}return{prefixCls:o,getUserInfo:f,handleMenuClick:s,getShowDoc:u,register:g,getUseLockPage:_}}}),R=["src"],V=r("span",null,"\u6587\u6863",-1),x=r("span",null,"\u9501\u5B9A\u5C4F\u5E55",-1),j=r("span",null,"\u9000\u51FA\u7CFB\u7EDF",-1);function q(o,u,_,p,f,g){const n=i("SvgIcon"),s=i("ElDropdownItem"),a=i("ElDropdownMenu"),c=i("ElDropdown"),l=i("LockAction");return d(),I("div",null,[e(c,{onCommand:o.handleMenuClick},{dropdown:t(()=>[e(a,{class:m(`${o.prefixCls}-menulist`)},{default:t(()=>[o.getShowDoc?(d(),k(s,{key:0,command:"doc"},{default:t(()=>[e(n,{class:"mr-2",name:"filetext"}),V]),_:1})):w("",!0),o.getUseLockPage?(d(),k(s,{key:1,divided:o.getShowDoc,command:"lock"},{default:t(()=>[e(n,{class:"mr-2",name:"lock"}),x]),_:1},8,["divided"])):w("",!0),e(s,{command:"logout"},{default:t(()=>[e(n,{class:"mr-2",name:"poweroff"}),j]),_:1})]),_:1},8,["class"])]),default:t(()=>[r("div",{class:m(o.prefixCls)},[r("img",{class:m(`${o.prefixCls}__avatar`),src:o.getUserInfo.avatar},null,10,R),r("span",{class:m(`${o.prefixCls}__name`)},S(o.getUserInfo.realName),3)],2)]),_:1},8,["onCommand"]),e(l,{onRegister:o.register},null,8,["onRegister"])])}var So=C(P,[["render",q]]);export{So as default};
