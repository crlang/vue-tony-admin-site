import{d as $,r as y,f$ as C,c as N,b as T,aC as k,w as v,Z as F,_ as V,g0 as w,o as x,f as I,t as P,G as M,aE as z,z as A,p as R,e as i,k as W,i as s,h as o,j}from"./index.a812ffa9.js";import{C as D,a as Z}from"./index.a7cd286d.js";import"./index.a77a8f23.js";import"./card.bf554046.js";const q={startVal:{type:Number,default:0},endVal:{type:Number,default:100},duration:{type:Number,default:1500},autoplay:{type:Boolean,default:!0},decimal:{type:String,default:"."},decimals:{type:Number,default:0,validator(t){return t>=0}},prefix:{type:String,default:""},suffix:{type:String,default:""},separator:{type:String,default:","},color:{type:String},useEasing:{type:Boolean,default:!0},transition:{type:String,default:"linear"}},H=$({name:"CountTo",props:q,emits:["started","finished"],setup(t,{emit:r,expose:l}){const e=y(t.startVal),f=y(!1);let d=C(e);const u=N(()=>m(T(d)));function a(){p(),e.value=t.endVal}function p(){d=C(e,{disabled:f,duration:t.duration,onFinished:()=>r("finished"),onStarted:()=>r("started"),...t.useEasing?{transition:w[t.transition]}:{}})}function m(n){if(!n&&n!==0)return"";const{decimals:B,decimal:b,separator:_,suffix:S,prefix:E}=t;n=Number(n).toFixed(B),n+="";const h=n.split(".");let c=h[0];const G=h.length>1?b+h[1]:"",g=/(\d+)(\d{3})/;if(_&&typeof _!="number")for(;g.test(c);)c=c.replace(g,`$1${_}$2`);return E+c+G+S}return k(()=>{e.value=t.startVal}),v([()=>t.startVal,()=>t.endVal],()=>{t.autoplay&&a()}),F(()=>{t.autoplay&&a()}),l({start:a}),{value:u,start:a}}});function J(t,r,l,e,f,d){return x(),I("span",{style:M({color:t.color})},P(t.value),5)}const K=V(H,[["render",J]]),L=z(K),O=$({components:{ElButton:A,CountTo:L,CardGrid:D,CardGridItem:Z},setup(){const t=y(),{createMessage:r}=R();function l(){r.success("done")}function e(){t.value.start()}return{countRef:t,handleStart:e,handleFinished:l}}});function Q(t,r,l,e,f,d){const u=i("CountTo"),a=i("CardGridItem"),p=i("ElButton"),m=i("CardGrid"),n=i("PageWrapper");return x(),W(n,{title:"\u6570\u5B57\u52A8\u753B\u793A\u4F8B",contentBackground:""},{default:s(()=>[o(m,{class:"m-20",center:""},{default:s(()=>[o(a,null,{default:s(()=>[o(u,{suffix:"$",color:"red",startVal:1,endVal:3e5,decimals:2,duration:6e3})]),_:1}),o(a,null,{default:s(()=>[o(u,{ref:"countRef",autoplay:!1,onFinished:t.handleFinished},null,8,["onFinished"]),o(p,{onClick:t.handleStart},{default:s(()=>[j("Go")]),_:1},8,["onClick"])]),_:1}),o(a,null,{default:s(()=>[o(u,{separator:"-",color:"rgba(138,43,226,.6)",startVal:1e4,endVal:5e5,duration:8e3})]),_:1})]),_:1})]),_:1})}const et=V(O,[["render",Q]]);export{et as default};
