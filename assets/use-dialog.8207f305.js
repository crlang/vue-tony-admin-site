import{cc as U,an as I,r as i,cg as V,ch as $,c as N,ap as Z,ci as _,w as h,R as g,Y as q,U as G,a6 as S,c9 as T,c3 as Y}from"./index.61be89a1.js";const H=(e,s)=>{const l=G().emit,{nextZIndex:y}=U();let C="";const b=I(),E=I(),o=i(!1),f=i(!1),u=i(!1),d=i(e.zIndex||y());let a,t;const O=V("namespace",$),k=N(()=>{const n={},c=`--${O.value}-dialog`;return e.fullscreen||(e.top&&(n[`${c}-margin-top`]=e.top),e.width&&(n[`${c}-width`]=Z(e.width))),n});function w(){l("opened")}function A(){l("closed"),l(S,!1),e.destroyOnClose&&(u.value=!1)}function F(){l("close")}function x(){t==null||t(),a==null||a(),e.openDelay&&e.openDelay>0?{stop:a}=T(()=>D(),e.openDelay):D()}function v(){a==null||a(),t==null||t(),e.closeDelay&&e.closeDelay>0?{stop:t}=T(()=>m(),e.closeDelay):m()}function r(){function n(c){c||(f.value=!0,o.value=!1)}e.beforeClose?e.beforeClose(n):v()}function L(){e.closeOnClickModal&&r()}function D(){!Y||(o.value=!0)}function m(){o.value=!1}function M(){l("openAutoFocus")}function P(){l("closeAutoFocus")}e.lockScroll&&_(o);function z(){e.closeOnPressEscape&&r()}return h(()=>e.modelValue,n=>{n?(f.value=!1,x(),u.value=!0,l("open"),d.value=e.zIndex?d.value++:y(),g(()=>{s.value&&(s.value.scrollTop=0)})):o.value&&v()}),h(()=>e.fullscreen,n=>{!s.value||(n?(C=s.value.style.transform,s.value.style.transform=""):s.value.style.transform=C)}),q(()=>{e.modelValue&&(o.value=!0,u.value=!0,x())}),{afterEnter:w,afterLeave:A,beforeLeave:F,handleClose:r,onModalClick:L,close:v,doClose:m,onOpenAutoFocus:M,onCloseAutoFocus:P,onCloseRequested:z,titleId:b,bodyId:E,closed:f,style:k,rendered:u,visible:o,zIndex:d}};export{H as u};
