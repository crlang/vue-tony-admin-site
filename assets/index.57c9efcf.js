import{_ as I,V as x,I as L,u as y,e as E,h as S,o as U}from"./index.ec0491db.js";import{D as M}from"./siteSetting.0be25c3f.js";import{c as A,u as $}from"./index.8f25489b.js";import{b as N}from"./index.e1f32d21.js";import{h as O}from"./header.7c507bcf.js";import{j as V,k as P,i as R}from"./ex-pkg-element-plus.7627c250.js";import{y as B,l as z,Z as a,z as u,A as F,R as o,H as s,L as c,G as h,P as f,Q as i,O as D,K as g,F as T}from"./ex-pkg-@vue.dfd8e273.js";import"./ex-pkg-vendor.0d33d667.js";import"./ex-pkg-xlsx.9db082f2.js";import"./ex-pkg-mockjs.907334ba.js";import"./ex-pkg-@element-plus.e8ce6c8b.js";import"./ex-pkg-@vueuse.e5d644bd.js";import"./ex-pkg-@iconify.345c6dc9.js";import"./ex-pkg-@popperjs.f3a17871.js";import"./index.18085bc6.js";import"./useWindowSizeFn.732207ab.js";import"./propTypes.525da5ca.js";import"./lock.3818fbb1.js";import"./useAttrs.e78ff19a.js";const H=B({name:"UserDropdown",components:{ElDropdown:V,ElDropdownItem:P,ElDropdownMenu:R,LockAction:A(()=>x(()=>import("./LockModal.c3ae230f.js"),["assets/LockModal.c3ae230f.js","assets/LockModal.d84ca271.css","assets/index.ec0491db.js","assets/index.1b720262.css","assets/ex-pkg-element-plus.7627c250.js","assets/ex-pkg-element-plus.0129893f.css","assets/ex-pkg-@vue.dfd8e273.js","assets/ex-pkg-@element-plus.e8ce6c8b.js","assets/ex-pkg-vendor.0d33d667.js","assets/ex-pkg-vendor.8b4621f8.css","assets/ex-pkg-xlsx.9db082f2.js","assets/ex-pkg-mockjs.907334ba.js","assets/ex-pkg-@popperjs.f3a17871.js","assets/ex-pkg-@vueuse.e5d644bd.js","assets/ex-pkg-@iconify.345c6dc9.js","assets/index.e1f32d21.js","assets/index.2fd013d8.css","assets/useAttrs.e78ff19a.js","assets/useWindowSizeFn.732207ab.js","assets/lock.3818fbb1.js","assets/header.7c507bcf.js","assets/BasicForm.a29f9983.js","assets/BasicForm.4c21ce61.css","assets/index.51d433bf.js","assets/index.cb296287.js","assets/index.0f2a3469.css","assets/propTypes.525da5ca.js","assets/uuid.2b29000c.js","assets/download.de577928.js","assets/base64Conver.bb012c73.js","assets/index.b234c3eb.js","assets/index.4ea4c51b.css","assets/ex-pkg-@zxcvbn-ts.dfbde445.js","assets/useForm.94072f41.js"])),Icon:L},props:{itemClass:String},setup(){const{prefixCls:e}=y("header-user-dropdown"),{t:k}=E(),{getShowDoc:_,getUseLockPage:j}=$(),d=S(),w=z(()=>{const{realName:r="",avatar:C,desc:b}=d.getUserInfo||{};return{realName:r,avatar:C||O,desc:b}}),[n,{openModal:t}]=N();function p(){t(!0)}function l(){d.confirmLoginOut()}function m(){U(M)}function v(r){switch(console.log("handle key",r),r){case"logout":l();break;case"doc":m();break;case"lock":p();break}}return{prefixCls:e,t:k,getUserInfo:w,handleMenuClick:v,getShowDoc:_,register:n,getUseLockPage:j}}}),W=["src"];function G(e,k,_,j,d,w){const n=a("Icon"),t=a("ElDropdownItem"),p=a("ElDropdownMenu"),l=a("ElDropdown"),m=a("LockAction");return u(),F(T,null,[o(l,{onCommand:e.handleMenuClick},{dropdown:s(()=>[o(p,{class:c(`${e.prefixCls}-menulist`)},{default:s(()=>[e.getShowDoc?(u(),h(t,{key:0,command:"doc"},{default:s(()=>[o(n,{class:"mr-2",icon:"ion:document-text-outline"}),f(i(e.t("layout.header.dropdownItemDoc")),1)]),_:1})):D("",!0),e.getUseLockPage?(u(),h(t,{key:1,divided:e.getShowDoc,command:"lock"},{default:s(()=>[o(n,{class:"mr-2",icon:"ion:lock-closed-outline"}),f(i(e.t("layout.header.tooltipLock")),1)]),_:1},8,["divided"])):D("",!0),o(t,{command:"logout",divided:""},{default:s(()=>[o(n,{class:"mr-2",icon:"ion:power-outline"}),f(i(e.t("layout.header.dropdownItemLoginOut")),1)]),_:1})]),_:1},8,["class"])]),default:s(()=>[g("div",{class:c([e.prefixCls,e.itemClass])},[g("img",{class:c(`${e.prefixCls}__avatar`),src:e.getUserInfo.avatar},null,10,W),g("span",{class:c(`${e.prefixCls}__name`)},i(e.getUserInfo.realName),3)],2)]),_:1},8,["onCommand"]),o(m,{onRegister:e.register},null,8,["onRegister"])],64)}var me=I(H,[["render",G]]);export{me as default};
