var _=Object.defineProperty;var m=Object.getOwnPropertySymbols;var M=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable;var d=(o,t,e)=>t in o?_(o,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[t]=e,f=(o,t)=>{for(var e in t||(t={}))M.call(t,e)&&d(o,e,t[e]);if(m)for(var e of m(t))C.call(t,e)&&d(o,e,t[e]);return o};var c=(o,t,e)=>new Promise((u,a)=>{var i=s=>{try{r(e.next(s))}catch(n){a(n)}},l=s=>{try{r(e.throw(s))}catch(n){a(n)}},r=s=>s.done?u(s.value):Promise.resolve(s.value).then(i,l);r((e=e.apply(o,t)).next())});import{B as D,b as P}from"./index.528a2bb8.js";import{B as v}from"./index.fcad4ece.js";import{E as w}from"./index.ef26d884.js";import{c3 as S,d as y,r as N,b,c as R,_ as $,e as E,o as I,j as T,i as k,h as O,aB as V}from"./index.b263d89e.js";import{a as q}from"./system.c4be3ebb.js";import{u as j}from"./useForm.e2917246.js";const X=[{label:"\u90E8\u95E8\u540D\u79F0",prop:"deptName",width:160,align:"left"},{label:"\u6392\u5E8F",prop:"orderNo",width:100},{label:"\u72B6\u6001",prop:"status",width:100,customRender:({record:o})=>{const e=~~o.status===0,u=e?"success":"danger",a=e?"\u542F\u7528":"\u505C\u7528";return S(w,{type:u},()=>a)}},{label:"\u521B\u5EFA\u65F6\u95F4",prop:"createTime",width:180},{label:"\u5907\u6CE8",prop:"remark"}],Y=[{field:"deptName",label:"\u90E8\u95E8\u540D\u79F0",component:"ElInput",colProps:{span:8}},{field:"status",label:"\u72B6\u6001",component:"ElSelect",componentProps:{options:[{label:"\u542F\u7528",value:"0"},{label:"\u505C\u7528",value:"1"}]},colProps:{span:8}}],A=[{field:"deptName",label:"\u90E8\u95E8\u540D\u79F0",component:"ElInput",required:!0},{field:"orderNo",label:"\u6392\u5E8F",component:"ElInputNumber",defaultValue:0,required:!0},{field:"status",label:"\u72B6\u6001",component:"ElRadioButton",defaultValue:"0",componentProps:{options:[{label:"\u542F\u7528",value:"0"},{label:"\u505C\u7528",value:"1"}]},required:!0},{label:"\u5907\u6CE8",field:"remark",component:"ElInput",componentProps:{type:"textarea"}}],U=y({name:"DeptModal",components:{BasicModal:D,BasicForm:v},emits:["success","register"],setup(o,{emit:t}){const e=N(!0),[u,{resetFields:a,setFieldsValue:i,updateSchema:l,validate:r}]=j({labelWidth:100,schemas:A,showActionButtonGroup:!1,colProps:{span:24},actionColProps:{span:24}}),[s,{setModalProps:n,closeModal:F}]=P(p=>c(this,null,function*(){a(),n({confirmOptions:{loading:!1}}),e.value=!!(p!=null&&p.isUpdate),b(e)&&i(f({},p.record));const h=yield q();l({field:"parentDept",componentProps:{treeData:h}})})),g=R(()=>b(e)?"\u7F16\u8F91\u90E8\u95E8":"\u65B0\u589E\u90E8\u95E8");function B(){return c(this,null,function*(){try{yield r(),n({confirmOptions:{loading:!0}}),F(),t("success")}finally{n({confirmOptions:{loading:!1}})}})}return{registerModal:s,registerForm:u,getTitle:g,handleSubmit:B}}});function x(o,t,e,u,a,i){const l=E("BasicForm"),r=E("BasicModal");return I(),T(r,V(o.$attrs,{onRegister:o.registerModal,title:o.getTitle,onConfirm:o.handleSubmit}),{default:k(()=>[O(l,{onRegister:o.registerForm},null,8,["onRegister"])]),_:1},16,["onRegister","title","onConfirm"])}var z=$(U,[["render",x]]),Z=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:z});export{z as D,Z as a,X as c,Y as s};
