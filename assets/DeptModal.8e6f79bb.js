var _=Object.defineProperty;var m=Object.getOwnPropertySymbols;var M=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable;var d=(o,t,e)=>t in o?_(o,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[t]=e,f=(o,t)=>{for(var e in t||(t={}))M.call(t,e)&&d(o,e,t[e]);if(m)for(var e of m(t))v.call(t,e)&&d(o,e,t[e]);return o};var c=(o,t,e)=>new Promise((i,u)=>{var p=a=>{try{s(e.next(a))}catch(r){u(r)}},n=a=>{try{s(e.throw(a))}catch(r){u(r)}},s=a=>a.done?i(a.value):Promise.resolve(a.value).then(p,n);s((e=e.apply(o,t)).next())});import{B as D,a as w}from"./index.ff9a9226.js";import{B as y}from"./BasicForm.3025383c.js";import{u as P}from"./useForm.c868803e.js";import{a as S}from"./system.07d41a1c.js";import{_ as j}from"./index.b7d256c2.js";import{x as C,M as N,u as F,y as $,X as b,z as k,Y as I,a2 as R,$ as T,a0 as V}from"./vendor.1ced56aa.js";const H=[{label:"\u90E8\u95E8\u540D\u79F0",prop:"deptName",width:160,align:"left"},{label:"\u6392\u5E8F",prop:"orderNo",width:50},{label:"\u72B6\u6001",prop:"status",width:80},{label:"\u521B\u5EFA\u65F6\u95F4",prop:"createTime",width:180},{label:"\u5907\u6CE8",prop:"remark"}],J=[{field:"deptName",label:"\u90E8\u95E8\u540D\u79F0",component:"ElInput",colProps:{span:8}},{field:"status",label:"\u72B6\u6001",component:"ElSelect",componentProps:{options:[{label:"\u542F\u7528",value:"0"},{label:"\u505C\u7528",value:"1"}]},colProps:{span:8}}],q=[{field:"deptName",label:"\u90E8\u95E8\u540D\u79F0",component:"ElInput",required:!0},{field:"orderNo",label:"\u6392\u5E8F",component:"ElInputNumber",defaultValue:0,required:!0},{field:"status",label:"\u72B6\u6001",component:"ElRadioButton",defaultValue:"0",componentProps:{options:[{label:"\u542F\u7528",value:"0"},{label:"\u505C\u7528",value:"1"}]},required:!0},{label:"\u5907\u6CE8",field:"remark",component:"ElInput",componentProps:{type:"textarea"}}],x=C({name:"DeptModal",components:{BasicModal:D,BasicForm:y},emits:["success","register"],setup(o,{emit:t}){const e=N(!0),[i,{resetFields:u,setFieldsValue:p,updateSchema:n,validate:s}]=P({labelWidth:100,schemas:q,showActionButtonGroup:!1}),[a,{setModalProps:r,closeModal:E}]=w(l=>c(this,null,function*(){u(),r({confirmButton:{loading:!1}}),e.value=!!(l==null?void 0:l.isUpdate),F(e)&&p(f({},l.record));const h=yield S();n({field:"parentDept",componentProps:{treeData:h}})})),B=$(()=>F(e)?"\u7F16\u8F91\u90E8\u95E8":"\u65B0\u589E\u90E8\u95E8");function g(){return c(this,null,function*(){try{const l=yield s();r({confirmButton:{loading:!0}}),console.log(l),E(),t("success")}finally{r({confirmButton:{loading:!1}})}})}return{registerModal:a,registerForm:i,getTitle:B,handleSubmit:g}}});function O(o,t,e,i,u,p){const n=b("BasicForm"),s=b("BasicModal");return k(),I(s,V(o.$attrs,{onRegister:o.registerModal,title:o.getTitle,onOk:o.handleSubmit}),{default:R(()=>[T(n,{onRegister:o.registerForm},null,8,["onRegister"])]),_:1},16,["onRegister","title","onOk"])}var z=j(x,[["render",O]]),K=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:z});export{z as D,K as a,H as c,J as s};
