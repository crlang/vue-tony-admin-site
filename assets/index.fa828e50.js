var E=(a,i,r)=>new Promise((u,n)=>{var d=e=>{try{s(r.next(e))}catch(t){n(t)}},m=e=>{try{s(r.throw(e))}catch(t){n(t)}},s=e=>e.done?u(e.value):Promise.resolve(e.value).then(d,m);s((r=r.apply(a,i)).next())});import{x as _,M as h,O as w,W as L,g as v,z as l,A as f,a7 as T,ao as C,B as A,C as k,$ as c,a2 as p,u as o,aK as g,aa as j,F as b}from"./vendor.6c1ff918.js";import{ar as B,e as S,a$ as D,f as F}from"./index.dea57c76.js";import{getLogColumns as R}from"./data.2b7aa790.js";import{B as V}from"./TableImg.cb20c750.js";import{u as I}from"./useTable.13dff6e9.js";import"./BasicForm.e762b6e5.js";import"./index.8d342d10.js";import"./index.8eeddf42.js";import"./index.14049971.js";import"./useAttrs.1cff00fd.js";import"./useWindowSizeFn.b326ae88.js";import"./propTypes.13e00d90.js";import"./uuid.2b29000c.js";import"./download.765012d5.js";import"./base64Conver.bb012c73.js";import"./index.87273d76.js";import"./useForm.51dec503.js";import"./index.238d148c.js";import"./onMountedOrActivated.3712f3d2.js";var x;(function(a){a.Error="/error"})(x||(x={}));const M=()=>B.get({url:x.Error}),$={class:"p-4"},z=["src"],nr=_({setup(a){const i=h([]),{t:r}=S(),u=D(),[n,{setTableData:d}]=I({title:r("sys.errorLog.tableTitle"),columns:R(),actionColumn:{width:80,label:"Action",prop:"action",isSlot:!0}});w(()=>u.getErrorLogInfoList,t=>{L(()=>{d(v(t))})},{immediate:!0}),F();function m(){throw new Error("fire vue error!")}function s(){i.value.push(`${new Date().getTime()}.png`)}function e(){return E(this,null,function*(){yield M()})}return(t,N)=>(l(),f("div",$,[(l(!0),f(T,null,C(i.value,y=>A((l(),f("img",{key:y,src:y},null,8,z)),[[k,!1]])),128)),c(o(V),{onRegister:o(n),class:"error-handle-table"},{toolbar:p(()=>[c(o(g),{onClick:m,type:"primary"},{default:p(()=>[j(b(o(r)("sys.errorLog.fireVueError")),1)]),_:1}),c(o(g),{onClick:s,type:"primary"},{default:p(()=>[j(b(o(r)("sys.errorLog.fireResourceError")),1)]),_:1}),c(o(g),{onClick:e,type:"primary"},{default:p(()=>[j(b(o(r)("sys.errorLog.fireAjaxError")),1)]),_:1})]),_:1},8,["onRegister"])]))}});export{nr as default};
