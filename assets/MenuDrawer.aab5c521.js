var C=Object.defineProperty;var d=Object.getOwnPropertySymbols;var y=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable;var f=(e,u,o)=>u in e?C(e,u,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[u]=o,b=(e,u)=>{for(var o in u||(u={}))y.call(u,o)&&f(e,o,u[o]);if(d)for(var o of d(u))P.call(u,o)&&f(e,o,u[o]);return e};var m=(e,u,o)=>new Promise((s,l)=>{var p=t=>{try{a(o.next(t))}catch(n){l(n)}},i=t=>{try{a(o.throw(t))}catch(n){l(n)}},a=t=>t.done?s(t.value):Promise.resolve(t.value).then(p,i);a((o=o.apply(e,u)).next())});import{B as S}from"./BasicForm.b4f64650.js";import{u as _}from"./useForm.c1733d5f.js";import{I as R,_ as I}from"./index.16f9732e.js";import{a4 as F,y as M,a as V,l as j,u as w,Z as E,z as k,G as N,H as $,R as T,D as q}from"./ex-pkg-@vue.dfd8e273.js";import{B as x,a as A}from"./index.48ae15c5.js";import{d as L}from"./system.bee4670e.js";const ee=[{label:"\u83DC\u5355\u540D\u79F0",prop:"menuName",width:200,align:"left"},{label:"\u56FE\u6807",prop:"icon",width:50,customRender:({record:e})=>F(R,{icon:e.icon})},{label:"\u6743\u9650\u6807\u8BC6",prop:"permission",width:180},{label:"\u7EC4\u4EF6",prop:"component"},{label:"\u6392\u5E8F",prop:"orderNo",width:50},{label:"\u72B6\u6001",prop:"status",width:80,customRender:({record:e})=>{const o=~~e.status==0,s=o?"success":"danger",l=o?"\u542F\u7528":"\u505C\u7528";return F(ElTag,{type:s},()=>l)}},{label:"\u521B\u5EFA\u65F6\u95F4",prop:"createTime",width:180}],O=e=>e==="0",h=e=>e==="1",c=e=>e==="2",oe=[{field:"menuName",label:"\u83DC\u5355\u540D\u79F0",component:"ElInput",colProps:{span:8}},{field:"status",label:"\u72B6\u6001",component:"ElSelect",componentProps:{options:[{label:"\u542F\u7528",value:"0"},{label:"\u505C\u7528",value:"1"}]},colProps:{span:8}}],z=[{field:"type",label:"\u83DC\u5355\u7C7B\u578B",component:"ElRadioButton",defaultValue:"0",componentProps:{options:[{label:"\u76EE\u5F55",value:"0"},{label:"\u83DC\u5355",value:"1"},{label:"\u6309\u94AE",value:"2"}]},colProps:{lg:24,md:24}},{field:"menuName",label:"\u83DC\u5355\u540D\u79F0",component:"ElInput",required:!0},{field:"orderNo",label:"\u6392\u5E8F",component:"ElInputNumber",defaultValue:0,required:!0},{field:"icon",label:"\u56FE\u6807",component:"IconPicker",required:!0,ifShow:({values:e})=>!c(e.type)},{field:"routePath",label:"\u8DEF\u7531\u5730\u5740",component:"ElInput",required:!0,ifShow:({values:e})=>!c(e.type)},{field:"component",label:"\u7EC4\u4EF6\u8DEF\u5F84",component:"ElInput",ifShow:({values:e})=>h(e.type)},{field:"permission",label:"\u6743\u9650\u6807\u8BC6",component:"ElInput",ifShow:({values:e})=>!O(e.type)},{field:"status",label:"\u72B6\u6001",component:"ElRadioButton",defaultValue:"0",componentProps:{options:[{label:"\u542F\u7528",value:"0"},{label:"\u7981\u7528",value:"1"}]}},{field:"isExt",label:"\u662F\u5426\u5916\u94FE",component:"ElRadioButton",defaultValue:"0",componentProps:{options:[{label:"\u5426",value:"0"},{label:"\u662F",value:"1"}]},ifShow:({values:e})=>!c(e.type)},{field:"keepalive",label:"\u662F\u5426\u7F13\u5B58",component:"ElRadioButton",defaultValue:"0",componentProps:{options:[{label:"\u5426",value:"0"},{label:"\u662F",value:"1"}]},ifShow:({values:e})=>h(e.type)},{field:"show",label:"\u662F\u5426\u663E\u793A",component:"ElRadioButton",defaultValue:"0",componentProps:{options:[{label:"\u662F",value:"0"},{label:"\u5426",value:"1"}]},ifShow:({values:e})=>!c(e.type)}],G=M({name:"MenuDrawer",components:{BasicDrawer:x,BasicForm:S},emits:["success","register"],setup(e,{emit:u}){const o=V(!0),[s,{resetFields:l,setFieldsValue:p,updateSchema:i,validate:a}]=_({labelWidth:100,schemas:z,showActionButtonGroup:!1,colProps:{lg:12,md:24}}),[t,{setDrawerProps:n,closeDrawer:B}]=A(r=>m(this,null,function*(){l(),n({confirmLoading:!1}),o.value=!!(r==null?void 0:r.isUpdate),w(o)&&p(b({},r.record));const v=yield L();i({field:"parentMenu",componentProps:{treeData:v}})})),D=j(()=>w(o)?"\u7F16\u8F91\u83DC\u5355":"\u65B0\u589E\u83DC\u5355");function g(){return m(this,null,function*(){try{const r=yield a();n({confirmLoading:!0}),console.log(r),B(),u("success")}finally{n({confirmLoading:!1})}})}return{registerDrawer:t,registerForm:s,getTitle:D,handleSubmit:g}}});function U(e,u,o,s,l,p){const i=E("BasicForm"),a=E("BasicDrawer");return k(),N(a,q(e.$attrs,{onRegister:e.registerDrawer,showFooter:"",title:e.getTitle,width:"50%",onOk:e.handleSubmit}),{default:$(()=>[T(i,{onRegister:e.registerForm},null,8,["onRegister"])]),_:1},16,["onRegister","title","onOk"])}var H=I(G,[["render",U]]),ue=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:H});export{H as M,ue as a,ee as c,oe as s};
