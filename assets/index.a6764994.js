import{P as k}from"./index.04776c9c.js";import{_ as j,aa as B,h as E}from"./index.16f9732e.js";import{C as b,a as y}from"./index.26e7e3b2.js";import{u as D}from"./upload.a951f1a6.js";import{h as N}from"./header.7c507bcf.js";import{y as P,a,Z as p,z as t,G as x,H as n,R as o,K as l,A as i,O as d,Q as I,P as w,u as V}from"./ex-pkg-@vue.dfd8e273.js";import"./ex-pkg-element-plus.e1a09009.js";import"./ex-pkg-@element-plus.e8ce6c8b.js";import"./ex-pkg-vendor.ab2d902e.js";import"./ex-pkg-mockjs.0bec78f1.js";import"./ex-pkg-@popperjs.f3a17871.js";import"./ex-pkg-@vueuse.e5d644bd.js";import"./ex-pkg-@iconify.345c6dc9.js";import"./base64Conver.bb012c73.js";const $=P({components:{PageWrapper:k,CropperImage:b,CollapseContainer:B,CropperAvatar:y},setup(){var A;const e=a(""),m=a(""),C=a(""),f=a(""),h=E(),F=a(((A=h.getUserInfo)==null?void 0:A.avatar)||""),u=a(null),s=()=>{const r=V(u);if(!r)throw new Error("cropper is Null");return r};function c(){s().croppered()}function _({imgBase64:r,imgInfo:v}){e.value=v,m.value=r}function g({imgBase64:r,imgInfo:v}){C.value=v,f.value=r}return{avatarImg:N,info:e,circleInfo:C,cropperImg:m,circleImg:f,cropperRef:u,handleCutImg:c,handleCropend:_,handleCircleCropend:g,avatar:F,uploadApi:D}}}),R={class:"p-4"},S={class:"cropper"},W=["src"],T={key:0},U=w("\u5B8C\u6210\u88C1\u526A"),z={class:"container p-4"},G={class:"cropper"},H=["src"],K={key:0};function O(e,m,C,f,h,F){const u=p("CropperAvatar"),s=p("CollapseContainer"),c=p("CropperImage"),_=p("Button"),g=p("PageWrapper");return t(),x(g,{title:"\u56FE\u7247\u88C1\u526A\u793A\u4F8B",description:"\u9700\u8981\u5F00\u542F\u6D4B\u8BD5\u63A5\u53E3\u670D\u52A1\u624D\u80FD\u8FDB\u884C\u4E0A\u4F20\u6D4B\u8BD5\uFF01"},{default:n(()=>[o(s,{title:"\u5934\u50CF\u88C1\u526A"},{default:n(()=>[o(u,{uploadName:"file",uploadApi:e.uploadApi,value:e.avatar},null,8,["uploadApi","value"])]),_:1}),o(s,{title:"\u77E9\u5F62\u88C1\u526A",class:"my-4"},{default:n(()=>[l("div",R,[l("div",S,[o(c,{ref:"cropperRef",realTimePreview:!1,src:e.avatarImg,onCropend:e.handleCropend},null,8,["src","onCropend"])]),e.cropperImg?(t(),i("img",{key:0,src:e.cropperImg},null,8,W)):d("",!0)]),e.cropperImg?(t(),i("p",T,"\u88C1\u526A\u540E\u56FE\u7247\u4FE1\u606F\uFF1A"+I(e.info),1)):d("",!0),o(_,{onClick:e.handleCutImg,class:"mx-4",type:"success"},{default:n(()=>[U]),_:1},8,["onClick"])]),_:1}),o(s,{title:"\u5706\u5F62\u88C1\u526A"},{default:n(()=>[l("div",z,[l("div",G,[o(c,{ref:"refCircleCropper",src:e.avatarImg,onCropend:e.handleCircleCropend,circled:""},null,8,["src","onCropend"])]),e.circleImg?(t(),i("img",{key:0,src:e.circleImg,class:"croppered"},null,8,H)):d("",!0)]),e.circleImg?(t(),i("p",K,"\u88C1\u526A\u540E\u56FE\u7247\u4FE1\u606F\uFF1A"+I(e.circleInfo),1)):d("",!0)]),_:1})]),_:1})}var te=j($,[["render",O],["__scopeId","data-v-1bb3aa52"]]);export{te as default};
