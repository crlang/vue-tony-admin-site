var l=(e,r,t)=>new Promise((d,i)=>{var m=a=>{try{s(t.next(a))}catch(u){i(u)}},o=a=>{try{s(t.throw(a))}catch(u){i(u)}},s=a=>a.done?d(a.value):Promise.resolve(a.value).then(m,o);s((t=t.apply(e,r)).next())});import{B as j}from"./BasicForm.a29f9983.js";import{u as v}from"./useForm.94072f41.js";import{aa as g,f as x,h as C,_ as F}from"./index.ec0491db.js";import{a as h}from"./index.60a716d7.js";import{h as B}from"./header.7c507bcf.js";import{a as k}from"./account.4e1a648f.js";import{b as A}from"./data.2ef57221.js";import{u as S}from"./upload.6e44e929.js";import{D as w,F as I,z as y}from"./ex-pkg-element-plus.7627c250.js";import{y as E,q as z,l as R,Z as n,z as U,G as V,H as c,R as p,K as f,b5 as $,b4 as M,P as N}from"./ex-pkg-@vue.dfd8e273.js";import"./index.51d433bf.js";import"./ex-pkg-@vueuse.e5d644bd.js";import"./ex-pkg-vendor.0d33d667.js";import"./ex-pkg-xlsx.9db082f2.js";import"./ex-pkg-mockjs.907334ba.js";import"./ex-pkg-@element-plus.e8ce6c8b.js";import"./index.cb296287.js";import"./index.e1f32d21.js";import"./useAttrs.e78ff19a.js";import"./useWindowSizeFn.732207ab.js";import"./propTypes.525da5ca.js";import"./uuid.2b29000c.js";import"./download.de577928.js";import"./base64Conver.bb012c73.js";import"./index.b234c3eb.js";import"./ex-pkg-@zxcvbn-ts.dfbde445.js";import"./ex-pkg-@iconify.345c6dc9.js";import"./ex-pkg-@popperjs.f3a17871.js";const T=E({components:{ElRow:w,ElCol:I,ElButton:y,BasicForm:j,CollapseContainer:g,CropperAvatar:h},setup(){const{createMessage:e}=x(),r=C(),[t,{setFieldsValue:d}]=v({labelWidth:120,schemas:A,showActionButtonGroup:!1});z(()=>l(this,null,function*(){const o=yield k();d(o)}));const i=R(()=>{const{avatar:o}=r.getUserInfo;return o||B});function m(o){const s=r.getUserInfo;s.avatar=o,r.setUserInfo(s)}return{avatar:i,register:t,uploadApi:S,updateAvatar:m,handleSubmit:()=>{e.success("\u66F4\u65B0\u6210\u529F\uFF01")}}}}),G=e=>($("data-v-43b5a280"),e=e(),M(),e),P={class:"change-avatar"},W=G(()=>f("div",{class:"mb-2"},"\u5934\u50CF",-1)),q=N(" \u66F4\u65B0\u57FA\u672C\u4FE1\u606F ");function D(e,r,t,d,i,m){const o=n("BasicForm"),s=n("el-col"),a=n("CropperAvatar"),u=n("el-row"),_=n("el-button"),b=n("CollapseContainer");return U(),V(b,{title:"\u57FA\u672C\u8BBE\u7F6E",canExpan:!1},{default:c(()=>[p(u,{gutter:24},{default:c(()=>[p(s,{span:14},{default:c(()=>[p(o,{onRegister:e.register},null,8,["onRegister"])]),_:1}),p(s,{span:10},{default:c(()=>[f("div",P,[W,p(a,{uploadApi:e.uploadApi,value:e.avatar,btnText:"\u66F4\u6362\u5934\u50CF",btnProps:{preIcon:"ep:upload-filled"},onChange:e.updateAvatar,width:"150"},null,8,["uploadApi","value","onChange"])])]),_:1})]),_:1}),p(_,{type:"primary",onClick:e.handleSubmit},{default:c(()=>[q]),_:1},8,["onClick"])]),_:1})}var xe=F(T,[["render",D],["__scopeId","data-v-43b5a280"]]);export{xe as default};
