import{as as W,a7 as w,a9 as K,L as M,ap as z,K as I,c as p,a8 as G,at as re,au as T,w as q,af as H,U as J,W as Q,r as N,av as E,M as de,aw as O,ae as A,ax as X,d as S,aa as Y,C as P,o as C,k as Z,i as _,g as j,n as x,b as l,v as $,f as y,ay as V,az as F,F as R,al as ce,j as ee,t as ae,l as D,H as le,I as U,G as be,Q as ve,R as me,D as fe,aA as ke,ag as he,J as pe,ad as ne}from"./index.a812ffa9.js";import{i as ge}from"./isEqual.f6c0098b.js";const te={modelValue:{type:[Number,String,Boolean],default:void 0},label:{type:[String,Boolean,Number,Object]},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:{type:String,default:void 0},trueLabel:{type:[String,Number],default:void 0},falseLabel:{type:[String,Number],default:void 0},id:{type:String,default:void 0},controls:{type:String,default:void 0},border:Boolean,size:W,tabindex:[String,Number],validateEvent:{type:Boolean,default:!0}},oe={[w]:e=>K(e)||M(e)||z(e),change:e=>K(e)||M(e)||z(e)},B=Symbol("checkboxGroupContextKey"),xe=({model:e,isChecked:u})=>{const i=I(B,void 0),n=p(()=>{var m,k;const o=(m=i==null?void 0:i.max)==null?void 0:m.value,c=(k=i==null?void 0:i.min)==null?void 0:k.value;return!G(o)&&e.value.length>=o&&!u.value||!G(c)&&e.value.length<=c&&u.value});return{isDisabled:re(p(()=>(i==null?void 0:i.disabled.value)||n.value)),isLimitDisabled:n}},Ce=(e,{model:u,isLimitExceeded:i,hasOwnLabel:n,isDisabled:f,isLabeledByFormItem:m})=>{const k=I(B,void 0),{formItem:o}=T(),{emit:c}=Q();function a(s){var r,d;return s===e.trueLabel||s===!0?(r=e.trueLabel)!=null?r:!0:(d=e.falseLabel)!=null?d:!1}function b(s,r){c("change",a(s),r)}function h(s){if(i.value)return;const r=s.target;c("change",a(r.checked),s)}async function L(s){i.value||!n.value&&!f.value&&m.value&&(s.composedPath().some(v=>v.tagName==="LABEL")||(u.value=a([!1,e.falseLabel].includes(u.value)),await J(),b(u.value,s)))}const t=p(()=>(k==null?void 0:k.validateEvent)||e.validateEvent);return q(()=>e.modelValue,()=>{t.value&&(o==null||o.validate("change").catch(s=>H()))}),{handleChange:h,onClickRoot:L}},ye=e=>{const u=N(!1),{emit:i}=Q(),n=I(B,void 0),f=p(()=>G(n)===!1),m=N(!1);return{model:p({get(){var o,c;return f.value?(o=n==null?void 0:n.modelValue)==null?void 0:o.value:(c=e.modelValue)!=null?c:u.value},set(o){var c,a;f.value&&E(o)?(m.value=((c=n==null?void 0:n.max)==null?void 0:c.value)!==void 0&&o.length>(n==null?void 0:n.max.value),m.value===!1&&((a=n==null?void 0:n.changeEvent)==null||a.call(n,o))):(i(w,o),u.value=o)}}),isGroup:f,isLimitExceeded:m}},Le=(e,u,{model:i})=>{const n=I(B,void 0),f=N(!1),m=p(()=>{const a=i.value;return z(a)?a:E(a)?de(e.label)?a.map(O).some(b=>ge(b,e.label)):a.map(O).includes(e.label):a!=null?a===e.trueLabel:!!a}),k=A(p(()=>{var a;return(a=n==null?void 0:n.size)==null?void 0:a.value}),{prop:!0}),o=A(p(()=>{var a;return(a=n==null?void 0:n.size)==null?void 0:a.value})),c=p(()=>!!(u.default||e.label));return{checkboxButtonSize:k,isChecked:m,isFocused:f,checkboxSize:o,hasOwnLabel:c}},Se=(e,{model:u})=>{function i(){E(u.value)&&!u.value.includes(e.label)?u.value.push(e.label):u.value=e.trueLabel||!0}e.checked&&i()},se=(e,u)=>{const{formItem:i}=T(),{model:n,isGroup:f,isLimitExceeded:m}=ye(e),{isFocused:k,isChecked:o,checkboxButtonSize:c,checkboxSize:a,hasOwnLabel:b}=Le(e,u,{model:n}),{isDisabled:h}=xe({model:n,isChecked:o}),{inputId:L,isLabeledByFormItem:t}=X(e,{formItemContext:i,disableIdGeneration:b,disableIdManagement:f}),{handleChange:s,onClickRoot:r}=Ce(e,{model:n,isLimitExceeded:m,hasOwnLabel:b,isDisabled:h,isLabeledByFormItem:t});return Se(e,{model:n}),{inputId:L,isLabeledByFormItem:t,isChecked:o,isDisabled:h,isFocused:k,checkboxButtonSize:c,checkboxSize:a,hasOwnLabel:b,model:n,handleChange:s,onClickRoot:r}},Be=["tabindex","role","aria-checked"],Ee=["id","aria-hidden","name","tabindex","disabled","true-value","false-value"],Ie=["id","aria-hidden","disabled","value","name","tabindex"],$e=S({name:"ElCheckbox"}),Ve=S({...$e,props:te,emits:oe,setup(e){const u=e,i=Y(),{inputId:n,isLabeledByFormItem:f,isChecked:m,isDisabled:k,isFocused:o,checkboxSize:c,hasOwnLabel:a,model:b,handleChange:h,onClickRoot:L}=se(u,i),t=P("checkbox"),s=p(()=>[t.b(),t.m(c.value),t.is("disabled",k.value),t.is("bordered",u.border),t.is("checked",m.value)]),r=p(()=>[t.e("input"),t.is("disabled",k.value),t.is("checked",m.value),t.is("indeterminate",u.indeterminate),t.is("focus",o.value)]);return(d,v)=>(C(),Z(le(!l(a)&&l(f)?"span":"label"),{class:x(l(s)),"aria-controls":d.indeterminate?d.controls:null,onClick:l(L)},{default:_(()=>[j("span",{class:x(l(r)),tabindex:d.indeterminate?0:void 0,role:d.indeterminate?"checkbox":void 0,"aria-checked":d.indeterminate?"mixed":void 0},[d.trueLabel||d.falseLabel?$((C(),y("input",{key:0,id:l(n),"onUpdate:modelValue":v[0]||(v[0]=g=>V(b)?b.value=g:null),class:x(l(t).e("original")),type:"checkbox","aria-hidden":d.indeterminate?"true":"false",name:d.name,tabindex:d.tabindex,disabled:l(k),"true-value":d.trueLabel,"false-value":d.falseLabel,onChange:v[1]||(v[1]=(...g)=>l(h)&&l(h)(...g)),onFocus:v[2]||(v[2]=g=>o.value=!0),onBlur:v[3]||(v[3]=g=>o.value=!1)},null,42,Ee)),[[F,l(b)]]):$((C(),y("input",{key:1,id:l(n),"onUpdate:modelValue":v[4]||(v[4]=g=>V(b)?b.value=g:null),class:x(l(t).e("original")),type:"checkbox","aria-hidden":d.indeterminate?"true":"false",disabled:l(k),value:d.label,name:d.name,tabindex:d.tabindex,onChange:v[5]||(v[5]=(...g)=>l(h)&&l(h)(...g)),onFocus:v[6]||(v[6]=g=>o.value=!0),onBlur:v[7]||(v[7]=g=>o.value=!1)},null,42,Ie)),[[F,l(b)]]),j("span",{class:x(l(t).e("inner"))},null,2)],10,Be),l(a)?(C(),y("span",{key:0,class:x(l(t).e("label"))},[R(d.$slots,"default"),d.$slots.default?D("v-if",!0):(C(),y(ce,{key:0},[ee(ae(d.label),1)],64))],2)):D("v-if",!0)]),_:3},8,["class","aria-controls","onClick"]))}});var Fe=U(Ve,[["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox.vue"]]);const we=["name","tabindex","disabled","true-value","false-value"],ze=["name","tabindex","disabled","value"],Ge=S({name:"ElCheckboxButton"}),Ne=S({...Ge,props:te,emits:oe,setup(e){const u=e,i=Y(),{isFocused:n,isChecked:f,isDisabled:m,checkboxButtonSize:k,model:o,handleChange:c}=se(u,i),a=I(B,void 0),b=P("checkbox"),h=p(()=>{var t,s,r,d;const v=(s=(t=a==null?void 0:a.fill)==null?void 0:t.value)!=null?s:"";return{backgroundColor:v,borderColor:v,color:(d=(r=a==null?void 0:a.textColor)==null?void 0:r.value)!=null?d:"",boxShadow:v?`-1px 0 0 0 ${v}`:void 0}}),L=p(()=>[b.b("button"),b.bm("button",k.value),b.is("disabled",m.value),b.is("checked",f.value),b.is("focus",n.value)]);return(t,s)=>(C(),y("label",{class:x(l(L))},[t.trueLabel||t.falseLabel?$((C(),y("input",{key:0,"onUpdate:modelValue":s[0]||(s[0]=r=>V(o)?o.value=r:null),class:x(l(b).be("button","original")),type:"checkbox",name:t.name,tabindex:t.tabindex,disabled:l(m),"true-value":t.trueLabel,"false-value":t.falseLabel,onChange:s[1]||(s[1]=(...r)=>l(c)&&l(c)(...r)),onFocus:s[2]||(s[2]=r=>n.value=!0),onBlur:s[3]||(s[3]=r=>n.value=!1)},null,42,we)),[[F,l(o)]]):$((C(),y("input",{key:1,"onUpdate:modelValue":s[4]||(s[4]=r=>V(o)?o.value=r:null),class:x(l(b).be("button","original")),type:"checkbox",name:t.name,tabindex:t.tabindex,disabled:l(m),value:t.label,onChange:s[5]||(s[5]=(...r)=>l(c)&&l(c)(...r)),onFocus:s[6]||(s[6]=r=>n.value=!0),onBlur:s[7]||(s[7]=r=>n.value=!1)},null,42,ze)),[[F,l(o)]]),t.$slots.default||t.label?(C(),y("span",{key:2,class:x(l(b).be("button","inner")),style:be(l(f)?l(h):void 0)},[R(t.$slots,"default",{},()=>[ee(ae(t.label),1)])],6)):D("v-if",!0)],2))}});var ue=U(Ne,[["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox-button.vue"]]);const De=ve({modelValue:{type:me(Array),default:()=>[]},disabled:Boolean,min:Number,max:Number,size:W,label:String,fill:String,textColor:String,tag:{type:String,default:"div"},validateEvent:{type:Boolean,default:!0}}),Te={[w]:e=>E(e),change:e=>E(e)},Pe=S({name:"ElCheckboxGroup"}),Re=S({...Pe,props:De,emits:Te,setup(e,{emit:u}){const i=e,n=P("checkbox"),{formItem:f}=T(),{inputId:m,isLabeledByFormItem:k}=X(i,{formItemContext:f}),o=async a=>{u(w,a),await J(),u("change",a)},c=p({get(){return i.modelValue},set(a){o(a)}});return fe(B,{...ke(he(i),["size","min","max","disabled","validateEvent","fill","textColor"]),modelValue:c,changeEvent:o}),q(()=>i.modelValue,()=>{i.validateEvent&&(f==null||f.validate("change").catch(a=>H()))}),(a,b)=>{var h;return C(),Z(le(a.tag),{id:l(m),class:x(l(n).b("group")),role:"group","aria-label":l(k)?void 0:a.label||"checkbox-group","aria-labelledby":l(k)?(h=l(f))==null?void 0:h.labelId:void 0},{default:_(()=>[R(a.$slots,"default")]),_:3},8,["id","class","aria-label","aria-labelledby"])}}});var ie=U(Re,[["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox-group.vue"]]);const Me=pe(Fe,{CheckboxButton:ue,CheckboxGroup:ie});ne(ue);const Oe=ne(ie);export{Me as E,Oe as a};
