import{r as w,c,b as a}from"./index.a812ffa9.js";var g=(r=>(r[r.LOGIN=0]="LOGIN",r[r.REGISTER=1]="REGISTER",r[r.RESET_PASSWORD=2]="RESET_PASSWORD",r[r.MOBILE=3]="MOBILE",r[r.QR_CODE=4]="QR_CODE",r))(g||{});const F=w(0);function p(){function r(i){F.value=i}const t=c(()=>F.value);function o(){r(0)}return{setLoginState:r,getLoginState:t,handleBackLogin:o}}function D(r){async function t(){const o=a(r);return o?await o.validate():void 0}return{validForm:t}}function O(r){const t=c(()=>l("\u8BF7\u8F93\u5165\u8D26\u53F7")),o=c(()=>l("\u8BF7\u8F93\u5165\u5BC6\u7801")),i=c(()=>l("\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801")),d=(s,u,e)=>e(u?null:new Error("\u52FE\u9009\u540E\u624D\u80FD\u6CE8\u518C")),R=(s,u,e,n)=>{if(u)if(r&&r[n]===u)e();else return e(new Error("\u4E24\u6B21\u8F93\u5165\u5BC6\u7801\u4E0D\u4E00\u81F4"));else return e(new Error("\u8BF7\u8F93\u5165\u5BC6\u7801"))},f=(s,u,e)=>{if(u)if(/^1[3,4,5,6,7,8,9][0-9]{9}$/.test(u))e();else return e(new Error("\u624B\u673A\u53F7\u7801\u4E0D\u6B63\u786E"));else return e(new Error("\u8BF7\u8F93\u5165\u624B\u673A\u53F7\u7801"))};return{getFormRules:c(()=>{const s=a(t),u=a(o),n={sms:a(i),mobile:[{required:!0,validator:f,trigger:"blur"}]};switch(a(F)){case 1:return{account:s,password:u,confirmPassword:[{validator:(B,E,m)=>R(B,E,m,"password"),trigger:"blur"}],policy:[{validator:d,trigger:"change"}],...n};case 2:return{account:s,...n};case 3:return n;default:return{account:s,password:u}}})}}function l(r,t="blur"){return[{required:!0,message:r,trigger:t}]}export{g as L,O as a,D as b,p as u};
