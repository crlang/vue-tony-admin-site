import{c6 as _,am as I,r as c,cm as $,c as T,ao as g,cn as N,w as b,U as S,Z as q,W as G,co as W,a7 as j,c3 as h,c8 as B}from"./index.a812ffa9.js";const K=(e,a)=>{const l=G().emit,{nextZIndex:y}=_();let C="";const E=I(),F=I(),o=c(!1),f=c(!1),i=c(!1),d=c(e.zIndex||y());let s,u;const O=$("namespace",W),k=T(()=>{const n={},t=`--${O.value}-dialog`;return e.fullscreen||(e.top&&(n[`${t}-margin-top`]=e.top),e.width&&(n[`${t}-width`]=g(e.width))),n}),w=T(()=>e.alignCenter?{display:"flex"}:{});function A(){l("opened")}function P(){l("closed"),l(j,!1),e.destroyOnClose&&(i.value=!1)}function L(){l("close")}function D(){u==null||u(),s==null||s(),e.openDelay&&e.openDelay>0?{stop:s}=h(()=>x(),e.openDelay):x()}function v(){s==null||s(),u==null||u(),e.closeDelay&&e.closeDelay>0?{stop:u}=h(()=>m(),e.closeDelay):m()}function r(){function n(t){t||(f.value=!0,o.value=!1)}e.beforeClose?e.beforeClose(n):v()}function M(){e.closeOnClickModal&&r()}function x(){!B||(o.value=!0)}function m(){o.value=!1}function z(){l("openAutoFocus")}function U(){l("closeAutoFocus")}function V(n){var t;((t=n.detail)==null?void 0:t.focusReason)==="pointer"&&n.preventDefault()}e.lockScroll&&N(o);function Z(){e.closeOnPressEscape&&r()}return b(()=>e.modelValue,n=>{n?(f.value=!1,D(),i.value=!0,d.value=e.zIndex?d.value++:y(),S(()=>{l("open"),a.value&&(a.value.scrollTop=0)})):o.value&&v()}),b(()=>e.fullscreen,n=>{!a.value||(n?(C=a.value.style.transform,a.value.style.transform=""):a.value.style.transform=C)}),q(()=>{e.modelValue&&(o.value=!0,i.value=!0,D())}),{afterEnter:A,afterLeave:P,beforeLeave:L,handleClose:r,onModalClick:M,close:v,doClose:m,onOpenAutoFocus:z,onCloseAutoFocus:U,onCloseRequested:Z,onFocusoutPrevented:V,titleId:E,bodyId:F,closed:f,style:k,overlayDialogStyle:w,rendered:i,visible:o,zIndex:d}};export{K as u};
