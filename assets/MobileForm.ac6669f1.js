import{d as g,r as i,s as y,c as B,b as e,o as C,k as V,i as a,h as o,E as _,y as b,z as v,j as D,l as k,B as d}from"./index.a812ffa9.js";import{C as L}from"./index.07862fa3.js";import{u as h,a as w,L as A,b as x}from"./useLogin.4d63aad6.js";import{E as r,a as I}from"./index.c6940f23.js";import"./form-item.7fe87d07.js";const j=g({__name:"MobileForm",setup(N){const{getLoginState:f}=h(),n=i(),s=i(!1),{getFormRules:p}=w(),{validForm:c}=x(n),t=y({mobile:"",sms:""}),F=B(()=>e(f)===A.MOBILE);async function m(){if(!!await c())try{s.value=!0,d({title:"\u767B\u5F55\u6210\u529F",message:"\u6B22\u8FCE\u56DE\u6765",type:"success"})}catch(u){d({title:"\u9519\u8BEF\u63D0\u793A",message:u.message||"\u7F51\u7EDC\u5F02\u5E38\uFF0C\u8BF7\u68C0\u67E5\u60A8\u7684\u7F51\u7EDC\u8FDE\u63A5\u662F\u5426\u6B63\u5E38",type:"error"})}finally{s.value=!1}}return(E,u)=>e(F)?(C(),V(e(I),{key:0,model:t,rules:e(p),ref_key:"formRef",ref:n},{default:a(()=>[o(e(r),{prop:"mobile"},{default:a(()=>[o(e(_),{modelValue:t.mobile,"onUpdate:modelValue":u[0]||(u[0]=l=>t.mobile=l),placeholder:"\u624B\u673A\u53F7\u7801"},null,8,["modelValue"])]),_:1}),o(e(r),{prop:"sms"},{default:a(()=>[o(e(L),{modelValue:t.sms,"onUpdate:modelValue":u[1]||(u[1]=l=>t.sms=l),placeholder:"\u77ED\u4FE1\u9A8C\u8BC1\u7801",onKeypress:b(m,["enter"])},null,8,["modelValue","onKeypress"])]),_:1}),o(e(r),null,{default:a(()=>[o(e(v),{type:"primary",onClick:m,loading:s.value,class:"login--submit"},{default:a(()=>[D("\u767B\u5F55")]),_:1},8,["loading"])]),_:1})]),_:1},8,["model","rules"])):k("",!0)}});export{j as default};
