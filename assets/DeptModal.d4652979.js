import{B as F,b as g}from"./index.80078828.js";import{B as h}from"./index.7264ffb9.js";import{E as B}from"./index.68f69cb3.js";import{bX as _,d as M,r as C,b as p,c as D,_ as P,e as c,o as v,k as w,i as y,h as S,aD as N}from"./index.a812ffa9.js";import{b as R}from"./system.6ca597c5.js";import{u as $}from"./useForm.e1145b7d.js";const z=[{label:"\u90E8\u95E8\u540D\u79F0",prop:"deptName",width:160,align:"left"},{label:"\u6392\u5E8F",prop:"orderNo",width:100},{label:"\u72B6\u6001",prop:"status",width:100,customRender:({record:e})=>{const o=~~e.status===0,t=o?"success":"danger",s=o?"\u542F\u7528":"\u505C\u7528";return _(B,{type:t},()=>s)}},{label:"\u521B\u5EFA\u65F6\u95F4",prop:"createTime",width:180},{label:"\u5907\u6CE8",prop:"remark"}],G=[{field:"deptName",label:"\u90E8\u95E8\u540D\u79F0",component:"ElInput",colProps:{span:8}},{field:"status",label:"\u72B6\u6001",component:"ElSelect",componentProps:{options:[{label:"\u542F\u7528",value:"0"},{label:"\u505C\u7528",value:"1"}]},colProps:{span:8}}],k=[{field:"deptName",label:"\u90E8\u95E8\u540D\u79F0",component:"ElInput",required:!0},{field:"orderNo",label:"\u6392\u5E8F",component:"ElInputNumber",defaultValue:0,required:!0},{field:"status",label:"\u72B6\u6001",component:"ElRadioButton",defaultValue:"0",componentProps:{options:[{label:"\u542F\u7528",value:"0"},{label:"\u505C\u7528",value:"1"}]},required:!0},{label:"\u5907\u6CE8",field:"remark",component:"ElInput",componentProps:{type:"textarea"}}],I=M({name:"DeptModal",components:{BasicModal:F,BasicForm:h},emits:["success","register"],setup(e,{emit:r}){const o=C(!0),[t,{resetFields:s,setFieldsValue:i,updateSchema:n,validate:u}]=$({labelWidth:100,schemas:k,showActionButtonGroup:!1,colProps:{span:24},actionColProps:{span:24}}),[m,{setModalProps:l,closeModal:d}]=g(async a=>{s(),l({confirmOptions:{loading:!1}}),o.value=!!(a!=null&&a.isUpdate),p(o)&&i({...a.record});const E=await R();n({field:"parentDept",componentProps:{treeData:E}})}),f=D(()=>p(o)?"\u7F16\u8F91\u90E8\u95E8":"\u65B0\u589E\u90E8\u95E8");async function b(){try{await u(),l({confirmOptions:{loading:!0}}),d(),r("success")}finally{l({confirmOptions:{loading:!1}})}}return{registerModal:m,registerForm:t,getTitle:f,handleSubmit:b}}});function O(e,r,o,t,s,i){const n=c("BasicForm"),u=c("BasicModal");return v(),w(u,N(e.$attrs,{onRegister:e.registerModal,title:e.getTitle,onConfirm:e.handleSubmit}),{default:y(()=>[S(n,{onRegister:e.registerForm},null,8,["onRegister"])]),_:1},16,["onRegister","title","onConfirm"])}const T=P(I,[["render",O]]),L=Object.freeze(Object.defineProperty({__proto__:null,default:T},Symbol.toStringTag,{value:"Module"}));export{T as D,L as a,z as c,G as s};
